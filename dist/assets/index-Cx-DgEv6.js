(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ti(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const De={},Wn=[],jt=()=>{},Ah=()=>!1,Cr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ni=t=>t.startsWith("onUpdate:"),Ye=Object.assign,oi=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Mh=Object.prototype.hasOwnProperty,Pe=(t,e)=>Mh.call(t,e),he=Array.isArray,Vn=t=>_r(t)==="[object Map]",Jl=t=>_r(t)==="[object Set]",be=t=>typeof t=="function",We=t=>typeof t=="string",dn=t=>typeof t=="symbol",$e=t=>t!==null&&typeof t=="object",ec=t=>($e(t)||be(t))&&be(t.then)&&be(t.catch),tc=Object.prototype.toString,_r=t=>tc.call(t),Oh=t=>_r(t).slice(8,-1),nc=t=>_r(t)==="[object Object]",ri=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mo=ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ph=/-(\w)/g,_t=Tr(t=>t.replace(Ph,(e,n)=>n?n.toUpperCase():"")),Lh=/\B([A-Z])/g,hn=Tr(t=>t.replace(Lh,"-$1").toLowerCase()),Br=Tr(t=>t.charAt(0).toUpperCase()+t.slice(1)),es=Tr(t=>t?`on${Br(t)}`:""),an=(t,e)=>!Object.is(t,e),Xo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},oc=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},Bs=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Rh=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let Da;const Ir=()=>Da||(Da=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function si(t){if(he(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=We(o)?jh(o):si(o);if(r)for(const s in r)e[s]=r[s]}return e}else if(We(t)||$e(t))return t}const Nh=/;(?![^(]*\))/g,Dh=/:([^]+)/,Fh=/\/\*[^]*?\*\//g;function jh(t){const e={};return t.replace(Fh,"").split(Nh).forEach(n=>{if(n){const o=n.split(Dh);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function fn(t){let e="";if(We(t))e=t;else if(he(t))for(let n=0;n<t.length;n++){const o=fn(t[n]);o&&(e+=o+" ")}else if($e(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const $h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hh=ti($h);function rc(t){return!!t||t===""}const sc=t=>!!(t&&t.__v_isRef===!0),Yt=t=>We(t)?t:t==null?"":he(t)||$e(t)&&(t.toString===tc||!be(t.toString))?sc(t)?Yt(t.value):JSON.stringify(t,ic,2):String(t),ic=(t,e)=>sc(e)?ic(t,e.value):Vn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,r],s)=>(n[ts(o,s)+" =>"]=r,n),{})}:Jl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ts(n))}:dn(e)?ts(e):$e(e)&&!he(e)&&!nc(e)?String(e):e,ts=(t,e="")=>{var n;return dn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let it;class ac{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=it,!e&&it&&(this.index=(it.scopes||(it.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=it;try{return it=this,e()}finally{it=n}}}on(){it=this}off(){it=this.parent}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function lc(t){return new ac(t)}function cc(){return it}function Uh(t,e=!1){it&&it.cleanups.push(t)}let Fe;const ns=new WeakSet;class uc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,it&&it.active&&it.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ns.has(this)&&(ns.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fa(this),fc(this);const e=Fe,n=Bt;Fe=this,Bt=!0;try{return this.fn()}finally{pc(this),Fe=e,Bt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)li(e);this.deps=this.depsTail=void 0,Fa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ns.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Is(this)&&this.run()}get dirty(){return Is(this)}}let dc=0,bo,vo;function hc(t,e=!1){if(t.flags|=8,e){t.next=vo,vo=t;return}t.next=bo,bo=t}function ii(){dc++}function ai(){if(--dc>0)return;if(vo){let e=vo;for(vo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;bo;){let e=bo;for(bo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function fc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pc(t){let e,n=t.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),li(o),zh(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}t.deps=e,t.depsTail=n}function Is(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===To))return;t.globalVersion=To;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Is(t)){t.flags&=-3;return}const n=Fe,o=Bt;Fe=t,Bt=!0;try{fc(t);const r=t.fn(t._value);(e.version===0||an(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Fe=n,Bt=o,pc(t),t.flags&=-3}}function li(t,e=!1){const{dep:n,prevSub:o,nextSub:r}=t;if(o&&(o.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=o,t.nextSub=void 0),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)li(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function zh(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Bt=!0;const mc=[];function pn(){mc.push(Bt),Bt=!1}function gn(){const t=mc.pop();Bt=t===void 0?!0:t}function Fa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let To=0;class Wh{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ci{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Bt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new Wh(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,bc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=o)}return n}trigger(e){this.version++,To++,this.notify(e)}notify(e){ii();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ai()}}}function bc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)bc(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ar=new WeakMap,Cn=Symbol(""),As=Symbol(""),Bo=Symbol("");function nt(t,e,n){if(Bt&&Fe){let o=ar.get(t);o||ar.set(t,o=new Map);let r=o.get(n);r||(o.set(n,r=new ci),r.map=o,r.key=n),r.track()}}function Kt(t,e,n,o,r,s){const i=ar.get(t);if(!i){To++;return}const a=l=>{l&&l.trigger()};if(ii(),e==="clear")i.forEach(a);else{const l=he(t),d=l&&ri(n);if(l&&n==="length"){const u=Number(o);i.forEach((f,p)=>{(p==="length"||p===Bo||!dn(p)&&p>=u)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),d&&a(i.get(Bo)),e){case"add":l?d&&a(i.get("length")):(a(i.get(Cn)),Vn(t)&&a(i.get(As)));break;case"delete":l||(a(i.get(Cn)),Vn(t)&&a(i.get(As)));break;case"set":Vn(t)&&a(i.get(Cn));break}}ai()}function Vh(t,e){const n=ar.get(t);return n&&n.get(e)}function Nn(t){const e=_e(t);return e===t?e:(nt(e,"iterate",Bo),Ct(t)?e:e.map(ot))}function Ar(t){return nt(t=_e(t),"iterate",Bo),t}const qh={__proto__:null,[Symbol.iterator](){return os(this,Symbol.iterator,ot)},concat(...t){return Nn(this).concat(...t.map(e=>he(e)?Nn(e):e))},entries(){return os(this,"entries",t=>(t[1]=ot(t[1]),t))},every(t,e){return Ht(this,"every",t,e,void 0,arguments)},filter(t,e){return Ht(this,"filter",t,e,n=>n.map(ot),arguments)},find(t,e){return Ht(this,"find",t,e,ot,arguments)},findIndex(t,e){return Ht(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ht(this,"findLast",t,e,ot,arguments)},findLastIndex(t,e){return Ht(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ht(this,"forEach",t,e,void 0,arguments)},includes(...t){return rs(this,"includes",t)},indexOf(...t){return rs(this,"indexOf",t)},join(t){return Nn(this).join(t)},lastIndexOf(...t){return rs(this,"lastIndexOf",t)},map(t,e){return Ht(this,"map",t,e,void 0,arguments)},pop(){return ro(this,"pop")},push(...t){return ro(this,"push",t)},reduce(t,...e){return ja(this,"reduce",t,e)},reduceRight(t,...e){return ja(this,"reduceRight",t,e)},shift(){return ro(this,"shift")},some(t,e){return Ht(this,"some",t,e,void 0,arguments)},splice(...t){return ro(this,"splice",t)},toReversed(){return Nn(this).toReversed()},toSorted(t){return Nn(this).toSorted(t)},toSpliced(...t){return Nn(this).toSpliced(...t)},unshift(...t){return ro(this,"unshift",t)},values(){return os(this,"values",ot)}};function os(t,e,n){const o=Ar(t),r=o[e]();return o!==t&&!Ct(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Qh=Array.prototype;function Ht(t,e,n,o,r,s){const i=Ar(t),a=i!==t&&!Ct(t),l=i[e];if(l!==Qh[e]){const f=l.apply(t,s);return a?ot(f):f}let d=n;i!==t&&(a?d=function(f,p){return n.call(this,ot(f),p,t)}:n.length>2&&(d=function(f,p){return n.call(this,f,p,t)}));const u=l.call(i,d,o);return a&&r?r(u):u}function ja(t,e,n,o){const r=Ar(t);let s=n;return r!==t&&(Ct(t)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,t)}):s=function(i,a,l){return n.call(this,i,ot(a),l,t)}),r[e](s,...o)}function rs(t,e,n){const o=_e(t);nt(o,"iterate",Bo);const r=o[e](...n);return(r===-1||r===!1)&&hi(n[0])?(n[0]=_e(n[0]),o[e](...n)):r}function ro(t,e,n=[]){pn(),ii();const o=_e(t)[e].apply(t,n);return ai(),gn(),o}const Kh=ti("__proto__,__v_isRef,__isVue"),vc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(dn));function Gh(t){dn(t)||(t=String(t));const e=_e(this);return nt(e,"has",t),e.hasOwnProperty(t)}class yc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?sf:xc:s?Ec:kc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const i=he(e);if(!r){let l;if(i&&(l=qh[n]))return l;if(n==="hasOwnProperty")return Gh}const a=Reflect.get(e,n,qe(e)?e:o);return(dn(n)?vc.has(n):Kh(n))||(r||nt(e,"get",n),s)?a:qe(a)?i&&ri(n)?a:a.value:$e(a)?r?Cc(a):Mn(a):a}}class wc extends yc{constructor(e=!1){super(!1,e)}set(e,n,o,r){let s=e[n];if(!this._isShallow){const l=Bn(s);if(!Ct(o)&&!Bn(o)&&(s=_e(s),o=_e(o)),!he(e)&&qe(s)&&!qe(o))return l?!1:(s.value=o,!0)}const i=he(e)&&ri(n)?Number(n)<e.length:Pe(e,n),a=Reflect.set(e,n,o,qe(e)?e:r);return e===_e(r)&&(i?an(o,s)&&Kt(e,"set",n,o):Kt(e,"add",n,o)),a}deleteProperty(e,n){const o=Pe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&o&&Kt(e,"delete",n,void 0),r}has(e,n){const o=Reflect.has(e,n);return(!dn(n)||!vc.has(n))&&nt(e,"has",n),o}ownKeys(e){return nt(e,"iterate",he(e)?"length":Cn),Reflect.ownKeys(e)}}class Yh extends yc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Zh=new wc,Xh=new Yh,Jh=new wc(!0);const Ms=t=>t,qo=t=>Reflect.getPrototypeOf(t);function ef(t,e,n){return function(...o){const r=this.__v_raw,s=_e(r),i=Vn(s),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,d=r[t](...o),u=n?Ms:e?Os:ot;return!e&&nt(s,"iterate",l?As:Cn),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:a?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function Qo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tf(t,e){const n={get(r){const s=this.__v_raw,i=_e(s),a=_e(r);t||(an(r,a)&&nt(i,"get",r),nt(i,"get",a));const{has:l}=qo(i),d=e?Ms:t?Os:ot;if(l.call(i,r))return d(s.get(r));if(l.call(i,a))return d(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!t&&nt(_e(r),"iterate",Cn),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,i=_e(s),a=_e(r);return t||(an(r,a)&&nt(i,"has",r),nt(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=_e(a),d=e?Ms:t?Os:ot;return!t&&nt(l,"iterate",Cn),a.forEach((u,f)=>r.call(s,d(u),d(f),i))}};return Ye(n,t?{add:Qo("add"),set:Qo("set"),delete:Qo("delete"),clear:Qo("clear")}:{add(r){!e&&!Ct(r)&&!Bn(r)&&(r=_e(r));const s=_e(this);return qo(s).has.call(s,r)||(s.add(r),Kt(s,"add",r,r)),this},set(r,s){!e&&!Ct(s)&&!Bn(s)&&(s=_e(s));const i=_e(this),{has:a,get:l}=qo(i);let d=a.call(i,r);d||(r=_e(r),d=a.call(i,r));const u=l.call(i,r);return i.set(r,s),d?an(s,u)&&Kt(i,"set",r,s):Kt(i,"add",r,s),this},delete(r){const s=_e(this),{has:i,get:a}=qo(s);let l=i.call(s,r);l||(r=_e(r),l=i.call(s,r)),a&&a.call(s,r);const d=s.delete(r);return l&&Kt(s,"delete",r,void 0),d},clear(){const r=_e(this),s=r.size!==0,i=r.clear();return s&&Kt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=ef(r,t,e)}),n}function ui(t,e){const n=tf(t,e);return(o,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(Pe(n,r)&&r in o?n:o,r,s)}const nf={get:ui(!1,!1)},of={get:ui(!1,!0)},rf={get:ui(!0,!1)};const kc=new WeakMap,Ec=new WeakMap,xc=new WeakMap,sf=new WeakMap;function af(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lf(t){return t.__v_skip||!Object.isExtensible(t)?0:af(Oh(t))}function Mn(t){return Bn(t)?t:di(t,!1,Zh,nf,kc)}function Sc(t){return di(t,!1,Jh,of,Ec)}function Cc(t){return di(t,!0,Xh,rf,xc)}function di(t,e,n,o,r){if(!$e(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const i=lf(t);if(i===0)return t;const a=new Proxy(t,i===2?o:n);return r.set(t,a),a}function ln(t){return Bn(t)?ln(t.__v_raw):!!(t&&t.__v_isReactive)}function Bn(t){return!!(t&&t.__v_isReadonly)}function Ct(t){return!!(t&&t.__v_isShallow)}function hi(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function fi(t){return!Pe(t,"__v_skip")&&Object.isExtensible(t)&&oc(t,"__v_skip",!0),t}const ot=t=>$e(t)?Mn(t):t,Os=t=>$e(t)?Cc(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function bt(t){return _c(t,!1)}function cf(t){return _c(t,!0)}function _c(t,e){return qe(t)?t:new uf(t,e)}class uf{constructor(e,n){this.dep=new ci,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:_e(e),this._value=n?e:ot(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,o=this.__v_isShallow||Ct(e)||Bn(e);e=o?e:_e(e),an(e,n)&&(this._rawValue=e,this._value=o?e:ot(e),this.dep.trigger())}}function Ae(t){return qe(t)?t.value:t}const df={get:(t,e,n)=>e==="__v_raw"?t:Ae(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const r=t[e];return qe(r)&&!qe(n)?(r.value=n,!0):Reflect.set(t,e,n,o)}};function Tc(t){return ln(t)?t:new Proxy(t,df)}function hf(t){const e=he(t)?new Array(t.length):{};for(const n in t)e[n]=pf(t,n);return e}class ff{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Vh(_e(this._object),this._key)}}function pf(t,e,n){const o=t[e];return qe(o)?o:new ff(t,e,n)}class gf{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ci(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=To-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return hc(this,!0),!0}get value(){const e=this.dep.track();return gc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mf(t,e,n=!1){let o,r;return be(t)?o=t:(o=t.get,r=t.set),new gf(o,r,n)}const Ko={},lr=new WeakMap;let En;function bf(t,e=!1,n=En){if(n){let o=lr.get(n);o||lr.set(n,o=[]),o.push(t)}}function vf(t,e,n=De){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,d=A=>r?A:Ct(A)||r===!1||r===0?Gt(A,1):Gt(A);let u,f,p,b,h=!1,g=!1;if(qe(t)?(f=()=>t.value,h=Ct(t)):ln(t)?(f=()=>d(t),h=!0):he(t)?(g=!0,h=t.some(A=>ln(A)||Ct(A)),f=()=>t.map(A=>{if(qe(A))return A.value;if(ln(A))return d(A);if(be(A))return l?l(A,2):A()})):be(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){pn();try{p()}finally{gn()}}const A=En;En=u;try{return l?l(t,3,[b]):t(b)}finally{En=A}}:f=jt,e&&r){const A=f,L=r===!0?1/0:r;f=()=>Gt(A(),L)}const w=cc(),E=()=>{u.stop(),w&&w.active&&oi(w.effects,u)};if(s&&e){const A=e;e=(...L)=>{A(...L),E()}}let x=g?new Array(t.length).fill(Ko):Ko;const S=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(e){const L=u.run();if(r||h||(g?L.some((C,O)=>an(C,x[O])):an(L,x))){p&&p();const C=En;En=u;try{const O=[L,x===Ko?void 0:g&&x[0]===Ko?[]:x,b];l?l(e,3,O):e(...O),x=L}finally{En=C}}}else u.run()};return a&&a(S),u=new uc(f),u.scheduler=i?()=>i(S,!1):S,b=A=>bf(A,!1,u),p=u.onStop=()=>{const A=lr.get(u);if(A){if(l)l(A,4);else for(const L of A)L();lr.delete(u)}},e?o?S(!0):x=u.run():i?i(S.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Gt(t,e=1/0,n){if(e<=0||!$e(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qe(t))Gt(t.value,e,n);else if(he(t))for(let o=0;o<t.length;o++)Gt(t[o],e,n);else if(Jl(t)||Vn(t))t.forEach(o=>{Gt(o,e,n)});else if(nc(t)){for(const o in t)Gt(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Gt(t[o],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $o(t,e,n,o){try{return o?t(...o):t()}catch(r){Mr(r,e,n)}}function Mt(t,e,n,o){if(be(t)){const r=$o(t,e,n,o);return r&&ec(r)&&r.catch(s=>{Mr(s,e,n)}),r}if(he(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Mt(t[s],e,n,o));return r}}function Mr(t,e,n,o=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||De;if(e){let a=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,d)===!1)return}a=a.parent}if(s){pn(),$o(s,null,10,[t,l,d]),gn();return}}yf(t,n,r,o,i)}function yf(t,e,n,o=!0,r=!1){if(r)throw t;console.error(t)}const at=[];let Nt=-1;const qn=[];let nn=null,Fn=0;const Bc=Promise.resolve();let cr=null;function pi(t){const e=cr||Bc;return t?e.then(this?t.bind(this):t):e}function wf(t){let e=Nt+1,n=at.length;for(;e<n;){const o=e+n>>>1,r=at[o],s=Io(r);s<t||s===t&&r.flags&2?e=o+1:n=o}return e}function gi(t){if(!(t.flags&1)){const e=Io(t),n=at[at.length-1];!n||!(t.flags&2)&&e>=Io(n)?at.push(t):at.splice(wf(e),0,t),t.flags|=1,Ic()}}function Ic(){cr||(cr=Bc.then(Mc))}function kf(t){he(t)?qn.push(...t):nn&&t.id===-1?nn.splice(Fn+1,0,t):t.flags&1||(qn.push(t),t.flags|=1),Ic()}function $a(t,e,n=Nt+1){for(;n<at.length;n++){const o=at[n];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;at.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Ac(t){if(qn.length){const e=[...new Set(qn)].sort((n,o)=>Io(n)-Io(o));if(qn.length=0,nn){nn.push(...e);return}for(nn=e,Fn=0;Fn<nn.length;Fn++){const n=nn[Fn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}nn=null,Fn=0}}const Io=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Mc(t){try{for(Nt=0;Nt<at.length;Nt++){const e=at[Nt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),$o(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Nt<at.length;Nt++){const e=at[Nt];e&&(e.flags&=-2)}Nt=-1,at.length=0,Ac(),cr=null,(at.length||qn.length)&&Mc()}}let lt=null,Oc=null;function ur(t){const e=lt;return lt=t,Oc=t&&t.type.__scopeId||null,e}function dr(t,e=lt,n){if(!e||t._n)return t;const o=(...r)=>{o._d&&Za(-1);const s=ur(e);let i;try{i=t(...r)}finally{ur(s),o._d&&Za(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Pc(t,e){if(lt===null)return t;const n=Nr(lt),o=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,i,a,l=De]=e[r];s&&(be(s)&&(s={mounted:s,updated:s}),s.deep&&Gt(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function vn(t,e,n,o){const r=t.dirs,s=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(pn(),Mt(l,n,8,[t.el,a,t,e]),gn())}}const Ef=Symbol("_vte"),Lc=t=>t.__isTeleport,on=Symbol("_leaveCb"),Go=Symbol("_enterCb");function xf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mn(()=>{t.isMounted=!0}),Wc(()=>{t.isUnmounting=!0}),t}const wt=[Function,Array],Rc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},Nc=t=>{const e=t.subTree;return e.component?Nc(e.component):e},Sf={name:"BaseTransition",props:Rc,setup(t,{slots:e}){const n=wp(),o=xf();return()=>{const r=e.default&&jc(e.default(),!0);if(!r||!r.length)return;const s=Dc(r),i=_e(t),{mode:a}=i;if(o.isLeaving)return ss(s);const l=Ha(s);if(!l)return ss(s);let d=Ps(l,i,o,n,f=>d=f);l.type!==dt&&Ao(l,d);let u=n.subTree&&Ha(n.subTree);if(u&&u.type!==dt&&!xn(l,u)&&Nc(n).type!==dt){let f=Ps(u,i,o,n);if(Ao(u,f),a==="out-in"&&l.type!==dt)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},ss(s);a==="in-out"&&l.type!==dt?f.delayLeave=(p,b,h)=>{const g=Fc(o,u);g[String(u.key)]=u,p[on]=()=>{b(),p[on]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{h(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function Dc(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==dt){e=n;break}}return e}const Cf=Sf;function Fc(t,e){const{leavingVNodes:n}=t;let o=n.get(e.type);return o||(o=Object.create(null),n.set(e.type,o)),o}function Ps(t,e,n,o,r){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:p,onLeave:b,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:w,onAppear:E,onAfterAppear:x,onAppearCancelled:S}=e,A=String(t.key),L=Fc(n,t),C=(k,M)=>{k&&Mt(k,o,9,M)},O=(k,M)=>{const P=M[1];C(k,M),he(k)?k.every(D=>D.length<=1)&&P():k.length<=1&&P()},_={mode:i,persisted:a,beforeEnter(k){let M=l;if(!n.isMounted)if(s)M=w||l;else return;k[on]&&k[on](!0);const P=L[A];P&&xn(t,P)&&P.el[on]&&P.el[on](),C(M,[k])},enter(k){let M=d,P=u,D=f;if(!n.isMounted)if(s)M=E||d,P=x||u,D=S||f;else return;let H=!1;const F=k[Go]=U=>{H||(H=!0,U?C(D,[k]):C(P,[k]),_.delayedLeave&&_.delayedLeave(),k[Go]=void 0)};M?O(M,[k,F]):F()},leave(k,M){const P=String(t.key);if(k[Go]&&k[Go](!0),n.isUnmounting)return M();C(p,[k]);let D=!1;const H=k[on]=F=>{D||(D=!0,M(),F?C(g,[k]):C(h,[k]),k[on]=void 0,L[P]===t&&delete L[P])};L[P]=t,b?O(b,[k,H]):H()},clone(k){const M=Ps(k,e,n,o,r);return r&&r(M),M}};return _}function ss(t){if(Or(t))return t=cn(t),t.children=null,t}function Ha(t){if(!Or(t))return Lc(t.type)&&t.children?Dc(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&be(n.default))return n.default()}}function Ao(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ao(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function jc(t,e=!1,n){let o=[],r=0;for(let s=0;s<t.length;s++){let i=t[s];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:s);i.type===Et?(i.patchFlag&128&&r++,o=o.concat(jc(i.children,e,a))):(e||i.type!==dt)&&o.push(a!=null?cn(i,{key:a}):i)}if(r>1)for(let s=0;s<o.length;s++)o[s].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function $c(t,e){return be(t)?Ye({name:t.name},e,{setup:t}):t}function Hc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function hr(t,e,n,o,r=!1){if(he(t)){t.forEach((h,g)=>hr(h,e&&(he(e)?e[g]:e),n,o,r));return}if(yo(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&hr(t,e,n,o.component.subTree);return}const s=o.shapeFlag&4?Nr(o.component):o.el,i=r?null:s,{i:a,r:l}=t,d=e&&e.r,u=a.refs===De?a.refs={}:a.refs,f=a.setupState,p=_e(f),b=f===De?()=>!1:h=>Pe(p,h);if(d!=null&&d!==l&&(We(d)?(u[d]=null,b(d)&&(f[d]=null)):qe(d)&&(d.value=null)),be(l))$o(l,a,12,[i,u]);else{const h=We(l),g=qe(l);if(h||g){const w=()=>{if(t.f){const E=h?b(l)?f[l]:u[l]:l.value;r?he(E)&&oi(E,s):he(E)?E.includes(s)||E.push(s):h?(u[l]=[s],b(l)&&(f[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else h?(u[l]=i,b(l)&&(f[l]=i)):g&&(l.value=i,t.k&&(u[t.k]=i))};i?(w.id=-1,pt(w,n)):w()}}}Ir().requestIdleCallback;Ir().cancelIdleCallback;const yo=t=>!!t.type.__asyncLoader,Or=t=>t.type.__isKeepAlive;function _f(t,e){Uc(t,"a",e)}function Tf(t,e){Uc(t,"da",e)}function Uc(t,e,n=Ke){const o=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Pr(e,o,n),n){let r=n.parent;for(;r&&r.parent;)Or(r.parent.vnode)&&Bf(o,e,n,r),r=r.parent}}function Bf(t,e,n,o){const r=Pr(e,t,o,!0);Xn(()=>{oi(o[e],r)},n)}function Pr(t,e,n=Ke,o=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...i)=>{pn();const a=Ho(n),l=Mt(e,n,t,i);return a(),gn(),l});return o?r.unshift(s):r.push(s),s}}const Xt=t=>(e,n=Ke)=>{(!Po||t==="sp")&&Pr(t,(...o)=>e(...o),n)},zc=Xt("bm"),mn=Xt("m"),If=Xt("bu"),Af=Xt("u"),Wc=Xt("bum"),Xn=Xt("um"),Mf=Xt("sp"),Of=Xt("rtg"),Pf=Xt("rtc");function Lf(t,e=Ke){Pr("ec",t,e)}const Rf="components",Vc=Symbol.for("v-ndc");function Nf(t){return We(t)?Df(Rf,t,!1)||t:t||Vc}function Df(t,e,n=!0,o=!1){const r=lt||Ke;if(r){const s=r.type;{const a=Cp(s,!1);if(a&&(a===e||a===_t(e)||a===Br(_t(e))))return s}const i=Ua(r[t]||s[t],e)||Ua(r.appContext[t],e);return!i&&o?s:i}}function Ua(t,e){return t&&(t[e]||t[_t(e)]||t[Br(_t(e))])}function qc(t,e,n,o){let r;const s=n,i=he(t);if(i||We(t)){const a=i&&ln(t);let l=!1;a&&(l=!Ct(t),t=Ar(t)),r=new Array(t.length);for(let d=0,u=t.length;d<u;d++)r[d]=e(l?ot(t[d]):t[d],d,void 0,s)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s)}else if($e(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const u=a[l];r[l]=e(t[u],u,l,s)}}else r=[];return r}const Ls=t=>t?fu(t)?Nr(t):Ls(t.parent):null,wo=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ls(t.parent),$root:t=>Ls(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Kc(t),$forceUpdate:t=>t.f||(t.f=()=>{gi(t.update)}),$nextTick:t=>t.n||(t.n=pi.bind(t.proxy)),$watch:t=>sp.bind(t)}),is=(t,e)=>t!==De&&!t.__isScriptSetup&&Pe(t,e),Ff={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=t;let d;if(e[0]!=="$"){const b=i[e];if(b!==void 0)switch(b){case 1:return o[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(is(o,e))return i[e]=1,o[e];if(r!==De&&Pe(r,e))return i[e]=2,r[e];if((d=t.propsOptions[0])&&Pe(d,e))return i[e]=3,s[e];if(n!==De&&Pe(n,e))return i[e]=4,n[e];Rs&&(i[e]=0)}}const u=wo[e];let f,p;if(u)return e==="$attrs"&&nt(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==De&&Pe(n,e))return i[e]=4,n[e];if(p=l.config.globalProperties,Pe(p,e))return p[e]},set({_:t},e,n){const{data:o,setupState:r,ctx:s}=t;return is(r,e)?(r[e]=n,!0):o!==De&&Pe(o,e)?(o[e]=n,!0):Pe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:r,propsOptions:s}},i){let a;return!!n[i]||t!==De&&Pe(t,i)||is(e,i)||(a=s[0])&&Pe(a,i)||Pe(o,i)||Pe(wo,i)||Pe(r.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function za(t){return he(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Rs=!0;function jf(t){const e=Kc(t),n=t.proxy,o=t.ctx;Rs=!1,e.beforeCreate&&Wa(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:d,created:u,beforeMount:f,mounted:p,beforeUpdate:b,updated:h,activated:g,deactivated:w,beforeDestroy:E,beforeUnmount:x,destroyed:S,unmounted:A,render:L,renderTracked:C,renderTriggered:O,errorCaptured:_,serverPrefetch:k,expose:M,inheritAttrs:P,components:D,directives:H,filters:F}=e;if(d&&$f(d,o,null),i)for(const G in i){const re=i[G];be(re)&&(o[G]=re.bind(n))}if(r){const G=r.call(n,n);$e(G)&&(t.data=Mn(G))}if(Rs=!0,s)for(const G in s){const re=s[G],ge=be(re)?re.bind(n,n):be(re.get)?re.get.bind(n,n):jt,Me=!be(re)&&be(re.set)?re.set.bind(n):jt,ke=xt({get:ge,set:Me});Object.defineProperty(o,G,{enumerable:!0,configurable:!0,get:()=>ke.value,set:ve=>ke.value=ve})}if(a)for(const G in a)Qc(a[G],o,n,G);if(l){const G=be(l)?l.call(n):l;Reflect.ownKeys(G).forEach(re=>{Jo(re,G[re])})}u&&Wa(u,t,"c");function K(G,re){he(re)?re.forEach(ge=>G(ge.bind(n))):re&&G(re.bind(n))}if(K(zc,f),K(mn,p),K(If,b),K(Af,h),K(_f,g),K(Tf,w),K(Lf,_),K(Pf,C),K(Of,O),K(Wc,x),K(Xn,A),K(Mf,k),he(M))if(M.length){const G=t.exposed||(t.exposed={});M.forEach(re=>{Object.defineProperty(G,re,{get:()=>n[re],set:ge=>n[re]=ge})})}else t.exposed||(t.exposed={});L&&t.render===jt&&(t.render=L),P!=null&&(t.inheritAttrs=P),D&&(t.components=D),H&&(t.directives=H),k&&Hc(t)}function $f(t,e,n=jt){he(t)&&(t=Ns(t));for(const o in t){const r=t[o];let s;$e(r)?"default"in r?s=It(r.from||o,r.default,!0):s=It(r.from||o):s=It(r),qe(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):e[o]=s}}function Wa(t,e,n){Mt(he(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function Qc(t,e,n,o){let r=o.includes(".")?lu(n,o):()=>n[o];if(We(t)){const s=e[t];be(s)&&ko(r,s)}else if(be(t))ko(r,t.bind(n));else if($e(t))if(he(t))t.forEach(s=>Qc(s,e,n,o));else{const s=be(t.handler)?t.handler.bind(n):e[t.handler];be(s)&&ko(r,s,t)}}function Kc(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!o?l=e:(l={},r.length&&r.forEach(d=>fr(l,d,i,!0)),fr(l,e,i)),$e(e)&&s.set(e,l),l}function fr(t,e,n,o=!1){const{mixins:r,extends:s}=e;s&&fr(t,s,n,!0),r&&r.forEach(i=>fr(t,i,n,!0));for(const i in e)if(!(o&&i==="expose")){const a=Hf[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Hf={data:Va,props:qa,emits:qa,methods:ho,computed:ho,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:ho,directives:ho,watch:zf,provide:Va,inject:Uf};function Va(t,e){return e?t?function(){return Ye(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function Uf(t,e){return ho(Ns(t),Ns(e))}function Ns(t){if(he(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function st(t,e){return t?[...new Set([].concat(t,e))]:e}function ho(t,e){return t?Ye(Object.create(null),t,e):e}function qa(t,e){return t?he(t)&&he(e)?[...new Set([...t,...e])]:Ye(Object.create(null),za(t),za(e??{})):e}function zf(t,e){if(!t)return e;if(!e)return t;const n=Ye(Object.create(null),t);for(const o in e)n[o]=st(t[o],e[o]);return n}function Gc(){return{app:null,config:{isNativeTag:Ah,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wf=0;function Vf(t,e){return function(o,r=null){be(o)||(o=Ye({},o)),r!=null&&!$e(r)&&(r=null);const s=Gc(),i=new WeakSet,a=[];let l=!1;const d=s.app={_uid:Wf++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:Tp,get config(){return s.config},set config(u){},use(u,...f){return i.has(u)||(u&&be(u.install)?(i.add(u),u.install(d,...f)):be(u)&&(i.add(u),u(d,...f))),d},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),d},component(u,f){return f?(s.components[u]=f,d):s.components[u]},directive(u,f){return f?(s.directives[u]=f,d):s.directives[u]},mount(u,f,p){if(!l){const b=d._ceVNode||Be(o,r);return b.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),t(b,u,p),l=!0,d._container=u,u.__vue_app__=d,Nr(b.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Mt(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(u,f){return s.provides[u]=f,d},runWithContext(u){const f=_n;_n=d;try{return u()}finally{_n=f}}};return d}}let _n=null;function Jo(t,e){if(Ke){let n=Ke.provides;const o=Ke.parent&&Ke.parent.provides;o===n&&(n=Ke.provides=Object.create(o)),n[t]=e}}function It(t,e,n=!1){const o=Ke||lt;if(o||_n){const r=_n?_n._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&be(e)?e.call(o&&o.proxy):e}}function qf(){return!!(Ke||lt||_n)}const Yc={},Zc=()=>Object.create(Yc),Xc=t=>Object.getPrototypeOf(t)===Yc;function Qf(t,e,n,o=!1){const r={},s=Zc();t.propsDefaults=Object.create(null),Jc(t,e,r,s);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=o?r:Sc(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Kf(t,e,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=t,a=_e(r),[l]=t.propsOptions;let d=!1;if((o||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(Lr(t.emitsOptions,p))continue;const b=e[p];if(l)if(Pe(s,p))b!==s[p]&&(s[p]=b,d=!0);else{const h=_t(p);r[h]=Ds(l,a,h,b,t,!1)}else b!==s[p]&&(s[p]=b,d=!0)}}}else{Jc(t,e,r,s)&&(d=!0);let u;for(const f in a)(!e||!Pe(e,f)&&((u=hn(f))===f||!Pe(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Ds(l,a,f,void 0,t,!0)):delete r[f]);if(s!==a)for(const f in s)(!e||!Pe(e,f))&&(delete s[f],d=!0)}d&&Kt(t.attrs,"set","")}function Jc(t,e,n,o){const[r,s]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(mo(l))continue;const d=e[l];let u;r&&Pe(r,u=_t(l))?!s||!s.includes(u)?n[u]=d:(a||(a={}))[u]=d:Lr(t.emitsOptions,l)||(!(l in o)||d!==o[l])&&(o[l]=d,i=!0)}if(s){const l=_e(n),d=a||De;for(let u=0;u<s.length;u++){const f=s[u];n[f]=Ds(r,l,f,d[f],t,!Pe(d,f))}}return i}function Ds(t,e,n,o,r,s){const i=t[n];if(i!=null){const a=Pe(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&be(l)){const{propsDefaults:d}=r;if(n in d)o=d[n];else{const u=Ho(r);o=d[n]=l.call(null,e),u()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===hn(n))&&(o=!0))}return o}const Gf=new WeakMap;function eu(t,e,n=!1){const o=n?Gf:e.propsCache,r=o.get(t);if(r)return r;const s=t.props,i={},a=[];let l=!1;if(!be(t)){const u=f=>{l=!0;const[p,b]=eu(f,e,!0);Ye(i,p),b&&a.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return $e(t)&&o.set(t,Wn),Wn;if(he(s))for(let u=0;u<s.length;u++){const f=_t(s[u]);Qa(f)&&(i[f]=De)}else if(s)for(const u in s){const f=_t(u);if(Qa(f)){const p=s[u],b=i[f]=he(p)||be(p)?{type:p}:Ye({},p),h=b.type;let g=!1,w=!0;if(he(h))for(let E=0;E<h.length;++E){const x=h[E],S=be(x)&&x.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(w=!1)}else g=be(h)&&h.name==="Boolean";b[0]=g,b[1]=w,(g||Pe(b,"default"))&&a.push(f)}}const d=[i,a];return $e(t)&&o.set(t,d),d}function Qa(t){return t[0]!=="$"&&!mo(t)}const tu=t=>t[0]==="_"||t==="$stable",mi=t=>he(t)?t.map(Dt):[Dt(t)],Yf=(t,e,n)=>{if(e._n)return e;const o=dr((...r)=>mi(e(...r)),n);return o._c=!1,o},nu=(t,e,n)=>{const o=t._ctx;for(const r in t){if(tu(r))continue;const s=t[r];if(be(s))e[r]=Yf(r,s,o);else if(s!=null){const i=mi(s);e[r]=()=>i}}},ou=(t,e)=>{const n=mi(e);t.slots.default=()=>n},ru=(t,e,n)=>{for(const o in e)(n||o!=="_")&&(t[o]=e[o])},Zf=(t,e,n)=>{const o=t.slots=Zc();if(t.vnode.shapeFlag&32){const r=e._;r?(ru(o,e,n),n&&oc(o,"_",r,!0)):nu(e,o)}else e&&ou(t,e)},Xf=(t,e,n)=>{const{vnode:o,slots:r}=t;let s=!0,i=De;if(o.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ru(r,e,n):(s=!e.$stable,nu(e,r)),i=e}else e&&(ou(t,e),i={default:1});if(s)for(const a in r)!tu(a)&&i[a]==null&&delete r[a]},pt=hp;function Jf(t){return ep(t)}function ep(t,e){const n=Ir();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:d,setElementText:u,parentNode:f,nextSibling:p,setScopeId:b=jt,insertStaticContent:h}=t,g=(T,B,N,W=null,q=null,V=null,te=void 0,X=null,Z=!!B.dynamicChildren)=>{if(T===B)return;T&&!xn(T,B)&&(W=z(T),ve(T,q,V,!0),T=null),B.patchFlag===-2&&(Z=!1,B.dynamicChildren=null);const{type:Q,ref:ie,shapeFlag:ne}=B;switch(Q){case Rr:w(T,B,N,W);break;case dt:E(T,B,N,W);break;case ls:T==null&&x(B,N,W,te);break;case Et:D(T,B,N,W,q,V,te,X,Z);break;default:ne&1?L(T,B,N,W,q,V,te,X,Z):ne&6?H(T,B,N,W,q,V,te,X,Z):(ne&64||ne&128)&&Q.process(T,B,N,W,q,V,te,X,Z,se)}ie!=null&&q&&hr(ie,T&&T.ref,V,B||T,!B)},w=(T,B,N,W)=>{if(T==null)o(B.el=a(B.children),N,W);else{const q=B.el=T.el;B.children!==T.children&&d(q,B.children)}},E=(T,B,N,W)=>{T==null?o(B.el=l(B.children||""),N,W):B.el=T.el},x=(T,B,N,W)=>{[T.el,T.anchor]=h(T.children,B,N,W,T.el,T.anchor)},S=({el:T,anchor:B},N,W)=>{let q;for(;T&&T!==B;)q=p(T),o(T,N,W),T=q;o(B,N,W)},A=({el:T,anchor:B})=>{let N;for(;T&&T!==B;)N=p(T),r(T),T=N;r(B)},L=(T,B,N,W,q,V,te,X,Z)=>{B.type==="svg"?te="svg":B.type==="math"&&(te="mathml"),T==null?C(B,N,W,q,V,te,X,Z):k(T,B,q,V,te,X,Z)},C=(T,B,N,W,q,V,te,X)=>{let Z,Q;const{props:ie,shapeFlag:ne,transition:ce,dirs:le}=T;if(Z=T.el=i(T.type,V,ie&&ie.is,ie),ne&8?u(Z,T.children):ne&16&&_(T.children,Z,null,W,q,as(T,V),te,X),le&&vn(T,null,W,"created"),O(Z,T,T.scopeId,te,W),ie){for(const c in ie)c!=="value"&&!mo(c)&&s(Z,c,null,ie[c],V,W);"value"in ie&&s(Z,"value",null,ie.value,V),(Q=ie.onVnodeBeforeMount)&&Rt(Q,W,T)}le&&vn(T,null,W,"beforeMount");const xe=tp(q,ce);xe&&ce.beforeEnter(Z),o(Z,B,N),((Q=ie&&ie.onVnodeMounted)||xe||le)&&pt(()=>{Q&&Rt(Q,W,T),xe&&ce.enter(Z),le&&vn(T,null,W,"mounted")},q)},O=(T,B,N,W,q)=>{if(N&&b(T,N),W)for(let V=0;V<W.length;V++)b(T,W[V]);if(q){let V=q.subTree;if(B===V||uu(V.type)&&(V.ssContent===B||V.ssFallback===B)){const te=q.vnode;O(T,te,te.scopeId,te.slotScopeIds,q.parent)}}},_=(T,B,N,W,q,V,te,X,Z=0)=>{for(let Q=Z;Q<T.length;Q++){const ie=T[Q]=X?rn(T[Q]):Dt(T[Q]);g(null,ie,B,N,W,q,V,te,X)}},k=(T,B,N,W,q,V,te)=>{const X=B.el=T.el;let{patchFlag:Z,dynamicChildren:Q,dirs:ie}=B;Z|=T.patchFlag&16;const ne=T.props||De,ce=B.props||De;let le;if(N&&yn(N,!1),(le=ce.onVnodeBeforeUpdate)&&Rt(le,N,B,T),ie&&vn(B,T,N,"beforeUpdate"),N&&yn(N,!0),(ne.innerHTML&&ce.innerHTML==null||ne.textContent&&ce.textContent==null)&&u(X,""),Q?M(T.dynamicChildren,Q,X,N,W,as(B,q),V):te||re(T,B,X,null,N,W,as(B,q),V,!1),Z>0){if(Z&16)P(X,ne,ce,N,q);else if(Z&2&&ne.class!==ce.class&&s(X,"class",null,ce.class,q),Z&4&&s(X,"style",ne.style,ce.style,q),Z&8){const xe=B.dynamicProps;for(let c=0;c<xe.length;c++){const m=xe[c],v=ne[m],I=ce[m];(I!==v||m==="value")&&s(X,m,v,I,q,N)}}Z&1&&T.children!==B.children&&u(X,B.children)}else!te&&Q==null&&P(X,ne,ce,N,q);((le=ce.onVnodeUpdated)||ie)&&pt(()=>{le&&Rt(le,N,B,T),ie&&vn(B,T,N,"updated")},W)},M=(T,B,N,W,q,V,te)=>{for(let X=0;X<B.length;X++){const Z=T[X],Q=B[X],ie=Z.el&&(Z.type===Et||!xn(Z,Q)||Z.shapeFlag&70)?f(Z.el):N;g(Z,Q,ie,null,W,q,V,te,!0)}},P=(T,B,N,W,q)=>{if(B!==N){if(B!==De)for(const V in B)!mo(V)&&!(V in N)&&s(T,V,B[V],null,q,W);for(const V in N){if(mo(V))continue;const te=N[V],X=B[V];te!==X&&V!=="value"&&s(T,V,X,te,q,W)}"value"in N&&s(T,"value",B.value,N.value,q)}},D=(T,B,N,W,q,V,te,X,Z)=>{const Q=B.el=T?T.el:a(""),ie=B.anchor=T?T.anchor:a("");let{patchFlag:ne,dynamicChildren:ce,slotScopeIds:le}=B;le&&(X=X?X.concat(le):le),T==null?(o(Q,N,W),o(ie,N,W),_(B.children||[],N,ie,q,V,te,X,Z)):ne>0&&ne&64&&ce&&T.dynamicChildren?(M(T.dynamicChildren,ce,N,q,V,te,X),(B.key!=null||q&&B===q.subTree)&&su(T,B,!0)):re(T,B,N,ie,q,V,te,X,Z)},H=(T,B,N,W,q,V,te,X,Z)=>{B.slotScopeIds=X,T==null?B.shapeFlag&512?q.ctx.activate(B,N,W,te,Z):F(B,N,W,q,V,te,Z):U(T,B,Z)},F=(T,B,N,W,q,V,te)=>{const X=T.component=yp(T,W,q);if(Or(T)&&(X.ctx.renderer=se),kp(X,!1,te),X.asyncDep){if(q&&q.registerDep(X,K,te),!T.el){const Z=X.subTree=Be(dt);E(null,Z,B,N)}}else K(X,T,B,N,q,V,te)},U=(T,B,N)=>{const W=B.component=T.component;if(up(T,B,N))if(W.asyncDep&&!W.asyncResolved){G(W,B,N);return}else W.next=B,W.update();else B.el=T.el,W.vnode=B},K=(T,B,N,W,q,V,te)=>{const X=()=>{if(T.isMounted){let{next:ne,bu:ce,u:le,parent:xe,vnode:c}=T;{const j=iu(T);if(j){ne&&(ne.el=c.el,G(T,ne,te)),j.asyncDep.then(()=>{T.isUnmounted||X()});return}}let m=ne,v;yn(T,!1),ne?(ne.el=c.el,G(T,ne,te)):ne=c,ce&&Xo(ce),(v=ne.props&&ne.props.onVnodeBeforeUpdate)&&Rt(v,xe,ne,c),yn(T,!0);const I=Ga(T),R=T.subTree;T.subTree=I,g(R,I,f(R.el),z(R),T,q,V),ne.el=I.el,m===null&&dp(T,I.el),le&&pt(le,q),(v=ne.props&&ne.props.onVnodeUpdated)&&pt(()=>Rt(v,xe,ne,c),q)}else{let ne;const{el:ce,props:le}=B,{bm:xe,m:c,parent:m,root:v,type:I}=T,R=yo(B);yn(T,!1),xe&&Xo(xe),!R&&(ne=le&&le.onVnodeBeforeMount)&&Rt(ne,m,B),yn(T,!0);{v.ce&&v.ce._injectChildStyle(I);const j=T.subTree=Ga(T);g(null,j,N,W,T,q,V),B.el=j.el}if(c&&pt(c,q),!R&&(ne=le&&le.onVnodeMounted)){const j=B;pt(()=>Rt(ne,m,j),q)}(B.shapeFlag&256||m&&yo(m.vnode)&&m.vnode.shapeFlag&256)&&T.a&&pt(T.a,q),T.isMounted=!0,B=N=W=null}};T.scope.on();const Z=T.effect=new uc(X);T.scope.off();const Q=T.update=Z.run.bind(Z),ie=T.job=Z.runIfDirty.bind(Z);ie.i=T,ie.id=T.uid,Z.scheduler=()=>gi(ie),yn(T,!0),Q()},G=(T,B,N)=>{B.component=T;const W=T.vnode.props;T.vnode=B,T.next=null,Kf(T,B.props,W,N),Xf(T,B.children,N),pn(),$a(T),gn()},re=(T,B,N,W,q,V,te,X,Z=!1)=>{const Q=T&&T.children,ie=T?T.shapeFlag:0,ne=B.children,{patchFlag:ce,shapeFlag:le}=B;if(ce>0){if(ce&128){Me(Q,ne,N,W,q,V,te,X,Z);return}else if(ce&256){ge(Q,ne,N,W,q,V,te,X,Z);return}}le&8?(ie&16&&Je(Q,q,V),ne!==Q&&u(N,ne)):ie&16?le&16?Me(Q,ne,N,W,q,V,te,X,Z):Je(Q,q,V,!0):(ie&8&&u(N,""),le&16&&_(ne,N,W,q,V,te,X,Z))},ge=(T,B,N,W,q,V,te,X,Z)=>{T=T||Wn,B=B||Wn;const Q=T.length,ie=B.length,ne=Math.min(Q,ie);let ce;for(ce=0;ce<ne;ce++){const le=B[ce]=Z?rn(B[ce]):Dt(B[ce]);g(T[ce],le,N,null,q,V,te,X,Z)}Q>ie?Je(T,q,V,!0,!1,ne):_(B,N,W,q,V,te,X,Z,ne)},Me=(T,B,N,W,q,V,te,X,Z)=>{let Q=0;const ie=B.length;let ne=T.length-1,ce=ie-1;for(;Q<=ne&&Q<=ce;){const le=T[Q],xe=B[Q]=Z?rn(B[Q]):Dt(B[Q]);if(xn(le,xe))g(le,xe,N,null,q,V,te,X,Z);else break;Q++}for(;Q<=ne&&Q<=ce;){const le=T[ne],xe=B[ce]=Z?rn(B[ce]):Dt(B[ce]);if(xn(le,xe))g(le,xe,N,null,q,V,te,X,Z);else break;ne--,ce--}if(Q>ne){if(Q<=ce){const le=ce+1,xe=le<ie?B[le].el:W;for(;Q<=ce;)g(null,B[Q]=Z?rn(B[Q]):Dt(B[Q]),N,xe,q,V,te,X,Z),Q++}}else if(Q>ce)for(;Q<=ne;)ve(T[Q],q,V,!0),Q++;else{const le=Q,xe=Q,c=new Map;for(Q=xe;Q<=ce;Q++){const Ie=B[Q]=Z?rn(B[Q]):Dt(B[Q]);Ie.key!=null&&c.set(Ie.key,Q)}let m,v=0;const I=ce-xe+1;let R=!1,j=0;const Y=new Array(I);for(Q=0;Q<I;Q++)Y[Q]=0;for(Q=le;Q<=ne;Q++){const Ie=T[Q];if(v>=I){ve(Ie,q,V,!0);continue}let Ce;if(Ie.key!=null)Ce=c.get(Ie.key);else for(m=xe;m<=ce;m++)if(Y[m-xe]===0&&xn(Ie,B[m])){Ce=m;break}Ce===void 0?ve(Ie,q,V,!0):(Y[Ce-xe]=Q+1,Ce>=j?j=Ce:R=!0,g(Ie,B[Ce],N,null,q,V,te,X,Z),v++)}const Re=R?np(Y):Wn;for(m=Re.length-1,Q=I-1;Q>=0;Q--){const Ie=xe+Q,Ce=B[Ie],Ne=Ie+1<ie?B[Ie+1].el:W;Y[Q]===0?g(null,Ce,N,Ne,q,V,te,X,Z):R&&(m<0||Q!==Re[m]?ke(Ce,N,Ne,2):m--)}}},ke=(T,B,N,W,q=null)=>{const{el:V,type:te,transition:X,children:Z,shapeFlag:Q}=T;if(Q&6){ke(T.component.subTree,B,N,W);return}if(Q&128){T.suspense.move(B,N,W);return}if(Q&64){te.move(T,B,N,se);return}if(te===Et){o(V,B,N);for(let ne=0;ne<Z.length;ne++)ke(Z[ne],B,N,W);o(T.anchor,B,N);return}if(te===ls){S(T,B,N);return}if(W!==2&&Q&1&&X)if(W===0)X.beforeEnter(V),o(V,B,N),pt(()=>X.enter(V),q);else{const{leave:ne,delayLeave:ce,afterLeave:le}=X,xe=()=>o(V,B,N),c=()=>{ne(V,()=>{xe(),le&&le()})};ce?ce(V,xe,c):c()}else o(V,B,N)},ve=(T,B,N,W=!1,q=!1)=>{const{type:V,props:te,ref:X,children:Z,dynamicChildren:Q,shapeFlag:ie,patchFlag:ne,dirs:ce,cacheIndex:le}=T;if(ne===-2&&(q=!1),X!=null&&hr(X,null,N,T,!0),le!=null&&(B.renderCache[le]=void 0),ie&256){B.ctx.deactivate(T);return}const xe=ie&1&&ce,c=!yo(T);let m;if(c&&(m=te&&te.onVnodeBeforeUnmount)&&Rt(m,B,T),ie&6)Lt(T.component,N,W);else{if(ie&128){T.suspense.unmount(N,W);return}xe&&vn(T,null,B,"beforeUnmount"),ie&64?T.type.remove(T,B,N,se,W):Q&&!Q.hasOnce&&(V!==Et||ne>0&&ne&64)?Je(Q,B,N,!1,!0):(V===Et&&ne&384||!q&&ie&16)&&Je(Z,B,N),W&&ut(T)}(c&&(m=te&&te.onVnodeUnmounted)||xe)&&pt(()=>{m&&Rt(m,B,T),xe&&vn(T,null,B,"unmounted")},N)},ut=T=>{const{type:B,el:N,anchor:W,transition:q}=T;if(B===Et){yt(N,W);return}if(B===ls){A(T);return}const V=()=>{r(N),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(T.shapeFlag&1&&q&&!q.persisted){const{leave:te,delayLeave:X}=q,Z=()=>te(N,V);X?X(T.el,V,Z):Z()}else V()},yt=(T,B)=>{let N;for(;T!==B;)N=p(T),r(T),T=N;r(B)},Lt=(T,B,N)=>{const{bum:W,scope:q,job:V,subTree:te,um:X,m:Z,a:Q}=T;Ka(Z),Ka(Q),W&&Xo(W),q.stop(),V&&(V.flags|=8,ve(te,T,B,N)),X&&pt(X,B),pt(()=>{T.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},Je=(T,B,N,W=!1,q=!1,V=0)=>{for(let te=V;te<T.length;te++)ve(T[te],B,N,W,q)},z=T=>{if(T.shapeFlag&6)return z(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const B=p(T.anchor||T.el),N=B&&B[Ef];return N?p(N):B};let oe=!1;const ee=(T,B,N)=>{T==null?B._vnode&&ve(B._vnode,null,null,!0):g(B._vnode||null,T,B,null,null,null,N),B._vnode=T,oe||(oe=!0,$a(),Ac(),oe=!1)},se={p:g,um:ve,m:ke,r:ut,mt:F,mc:_,pc:re,pbc:M,n:z,o:t};return{render:ee,hydrate:void 0,createApp:Vf(ee)}}function as({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function yn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function tp(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function su(t,e,n=!1){const o=t.children,r=e.children;if(he(o)&&he(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=rn(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&su(i,a)),a.type===Rr&&(a.el=i.el)}}function np(t){const e=t.slice(),n=[0];let o,r,s,i,a;const l=t.length;for(o=0;o<l;o++){const d=t[o];if(d!==0){if(r=n[n.length-1],t[r]<d){e[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,t[n[a]]<d?s=a+1:i=a;d<t[n[s]]&&(s>0&&(e[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=e[i];return n}function iu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:iu(e)}function Ka(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const op=Symbol.for("v-scx"),rp=()=>It(op);function ko(t,e,n){return au(t,e,n)}function au(t,e,n=De){const{immediate:o,deep:r,flush:s,once:i}=n,a=Ye({},n),l=e&&o||!e&&s!=="post";let d;if(Po){if(s==="sync"){const b=rp();d=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=jt,b.resume=jt,b.pause=jt,b}}const u=Ke;a.call=(b,h,g)=>Mt(b,u,h,g);let f=!1;s==="post"?a.scheduler=b=>{pt(b,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(b,h)=>{h?b():gi(b)}),a.augmentJob=b=>{e&&(b.flags|=4),f&&(b.flags|=2,u&&(b.id=u.uid,b.i=u))};const p=vf(t,e,a);return Po&&(d?d.push(p):l&&p()),p}function sp(t,e,n){const o=this.proxy,r=We(t)?t.includes(".")?lu(o,t):()=>o[t]:t.bind(o,o);let s;be(e)?s=e:(s=e.handler,n=e);const i=Ho(this),a=au(r,s.bind(o),n);return i(),a}function lu(t,e){const n=e.split(".");return()=>{let o=t;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const ip=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${_t(e)}Modifiers`]||t[`${hn(e)}Modifiers`];function ap(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||De;let r=n;const s=e.startsWith("update:"),i=s&&ip(o,e.slice(7));i&&(i.trim&&(r=n.map(u=>We(u)?u.trim():u)),i.number&&(r=n.map(Bs)));let a,l=o[a=es(e)]||o[a=es(_t(e))];!l&&s&&(l=o[a=es(hn(e))]),l&&Mt(l,t,6,r);const d=o[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Mt(d,t,6,r)}}function cu(t,e,n=!1){const o=e.emitsCache,r=o.get(t);if(r!==void 0)return r;const s=t.emits;let i={},a=!1;if(!be(t)){const l=d=>{const u=cu(d,e,!0);u&&(a=!0,Ye(i,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?($e(t)&&o.set(t,null),null):(he(s)?s.forEach(l=>i[l]=null):Ye(i,s),$e(t)&&o.set(t,i),i)}function Lr(t,e){return!t||!Cr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pe(t,e[0].toLowerCase()+e.slice(1))||Pe(t,hn(e))||Pe(t,e))}function Ga(t){const{type:e,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:d,renderCache:u,props:f,data:p,setupState:b,ctx:h,inheritAttrs:g}=t,w=ur(t);let E,x;try{if(n.shapeFlag&4){const A=r||o,L=A;E=Dt(d.call(L,A,u,f,b,p,h)),x=a}else{const A=e;E=Dt(A.length>1?A(f,{attrs:a,slots:i,emit:l}):A(f,null)),x=e.props?a:lp(a)}}catch(A){Eo.length=0,Mr(A,t,1),E=Be(dt)}let S=E;if(x&&g!==!1){const A=Object.keys(x),{shapeFlag:L}=S;A.length&&L&7&&(s&&A.some(ni)&&(x=cp(x,s)),S=cn(S,x,!1,!0))}return n.dirs&&(S=cn(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&Ao(S,n.transition),E=S,ur(w),E}const lp=t=>{let e;for(const n in t)(n==="class"||n==="style"||Cr(n))&&((e||(e={}))[n]=t[n]);return e},cp=(t,e)=>{const n={};for(const o in t)(!ni(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function up(t,e,n){const{props:o,children:r,component:s}=t,{props:i,children:a,patchFlag:l}=e,d=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?Ya(o,i,d):!!i;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(i[p]!==o[p]&&!Lr(d,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?Ya(o,i,d):!0:!!i;return!1}function Ya(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(e[s]!==t[s]&&!Lr(n,s))return!0}return!1}function dp({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const uu=t=>t.__isSuspense;function hp(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):kf(t)}const Et=Symbol.for("v-fgt"),Rr=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),ls=Symbol.for("v-stc"),Eo=[];let gt=null;function Ee(t=!1){Eo.push(gt=t?null:[])}function fp(){Eo.pop(),gt=Eo[Eo.length-1]||null}let Mo=1;function Za(t,e=!1){Mo+=t,t<0&&gt&&e&&(gt.hasOnce=!0)}function du(t){return t.dynamicChildren=Mo>0?gt||Wn:null,fp(),Mo>0&&gt&&gt.push(t),t}function Te(t,e,n,o,r,s){return du(J(t,e,n,o,r,s,!0))}function Kn(t,e,n,o,r){return du(Be(t,e,n,o,r,!0))}function pr(t){return t?t.__v_isVNode===!0:!1}function xn(t,e){return t.type===e.type&&t.key===e.key}const hu=({key:t})=>t??null,er=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||qe(t)||be(t)?{i:lt,r:t,k:e,f:!!n}:t:null);function J(t,e=null,n=null,o=0,r=null,s=t===Et?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&hu(e),ref:e&&er(e),scopeId:Oc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:lt};return a?(bi(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=We(n)?8:16),Mo>0&&!i&&gt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&gt.push(l),l}const Be=pp;function pp(t,e=null,n=null,o=0,r=null,s=!1){if((!t||t===Vc)&&(t=dt),pr(t)){const a=cn(t,e,!0);return n&&bi(a,n),Mo>0&&!s&&gt&&(a.shapeFlag&6?gt[gt.indexOf(t)]=a:gt.push(a)),a.patchFlag=-2,a}if(_p(t)&&(t=t.__vccOpts),e){e=gp(e);let{class:a,style:l}=e;a&&!We(a)&&(e.class=fn(a)),$e(l)&&(hi(l)&&!he(l)&&(l=Ye({},l)),e.style=si(l))}const i=We(t)?1:uu(t)?128:Lc(t)?64:$e(t)?4:be(t)?2:0;return J(t,e,n,o,r,i,s,!0)}function gp(t){return t?hi(t)||Xc(t)?Ye({},t):t:null}function cn(t,e,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=t,d=e?mp(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&hu(d),ref:e&&e.ref?n&&s?he(s)?s.concat(er(e)):[s,er(e)]:er(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Et?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cn(t.ssContent),ssFallback:t.ssFallback&&cn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&o&&Ao(u,l.clone(u)),u}function Oo(t=" ",e=0){return Be(Rr,null,t,e)}function fo(t="",e=!1){return e?(Ee(),Kn(dt,null,t)):Be(dt,null,t)}function Dt(t){return t==null||typeof t=="boolean"?Be(dt):he(t)?Be(Et,null,t.slice()):pr(t)?rn(t):Be(Rr,null,String(t))}function rn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cn(t)}function bi(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(he(e))n=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),bi(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Xc(e)?e._ctx=lt:r===3&&lt&&(lt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:lt},n=32):(e=String(e),o&64?(n=16,e=[Oo(e)]):n=8);t.children=e,t.shapeFlag|=n}function mp(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=fn([e.class,o.class]));else if(r==="style")e.style=si([e.style,o.style]);else if(Cr(r)){const s=e[r],i=o[r];i&&s!==i&&!(he(s)&&s.includes(i))&&(e[r]=s?[].concat(s,i):i)}else r!==""&&(e[r]=o[r])}return e}function Rt(t,e,n,o=null){Mt(t,e,7,[n,o])}const bp=Gc();let vp=0;function yp(t,e,n){const o=t.type,r=(e?e.appContext:t.appContext)||bp,s={uid:vp++,vnode:t,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ac(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eu(o,r),emitsOptions:cu(o,r),emit:null,emitted:null,propsDefaults:De,inheritAttrs:o.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ap.bind(null,s),t.ce&&t.ce(s),s}let Ke=null;const wp=()=>Ke||lt;let gr,Fs;{const t=Ir(),e=(n,o)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};gr=e("__VUE_INSTANCE_SETTERS__",n=>Ke=n),Fs=e("__VUE_SSR_SETTERS__",n=>Po=n)}const Ho=t=>{const e=Ke;return gr(t),t.scope.on(),()=>{t.scope.off(),gr(e)}},Xa=()=>{Ke&&Ke.scope.off(),gr(null)};function fu(t){return t.vnode.shapeFlag&4}let Po=!1;function kp(t,e=!1,n=!1){e&&Fs(e);const{props:o,children:r}=t.vnode,s=fu(t);Qf(t,o,s,e),Zf(t,r,n);const i=s?Ep(t,e):void 0;return e&&Fs(!1),i}function Ep(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ff);const{setup:o}=n;if(o){pn();const r=t.setupContext=o.length>1?Sp(t):null,s=Ho(t),i=$o(o,t,0,[t.props,r]),a=ec(i);if(gn(),s(),(a||t.sp)&&!yo(t)&&Hc(t),a){if(i.then(Xa,Xa),e)return i.then(l=>{Ja(t,l)}).catch(l=>{Mr(l,t,0)});t.asyncDep=i}else Ja(t,i)}else pu(t)}function Ja(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$e(e)&&(t.setupState=Tc(e)),pu(t)}function pu(t,e,n){const o=t.type;t.render||(t.render=o.render||jt);{const r=Ho(t);pn();try{jf(t)}finally{gn(),r()}}}const xp={get(t,e){return nt(t,"get",""),t[e]}};function Sp(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,xp),slots:t.slots,emit:t.emit,expose:e}}function Nr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Tc(fi(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wo)return wo[n](t)},has(e,n){return n in e||n in wo}})):t.proxy}function Cp(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function _p(t){return be(t)&&"__vccOpts"in t}const xt=(t,e)=>mf(t,e,Po);function vi(t,e,n){const o=arguments.length;return o===2?$e(e)&&!he(e)?pr(e)?Be(t,null,[e]):Be(t,e):Be(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&pr(n)&&(n=[n]),Be(t,e,n))}const Tp="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let js;const el=typeof window<"u"&&window.trustedTypes;if(el)try{js=el.createPolicy("vue",{createHTML:t=>t})}catch{}const gu=js?t=>js.createHTML(t):t=>t,Bp="http://www.w3.org/2000/svg",Ip="http://www.w3.org/1998/Math/MathML",Vt=typeof document<"u"?document:null,tl=Vt&&Vt.createElement("template"),Ap={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const r=e==="svg"?Vt.createElementNS(Bp,t):e==="mathml"?Vt.createElementNS(Ip,t):n?Vt.createElement(t,{is:n}):Vt.createElement(t);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>Vt.createTextNode(t),createComment:t=>Vt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,r,s){const i=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{tl.innerHTML=gu(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=tl.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Jt="transition",so="animation",Lo=Symbol("_vtc"),mu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mp=Ye({},Rc,mu),Op=t=>(t.displayName="Transition",t.props=Mp,t),Pp=Op((t,{slots:e})=>vi(Cf,Lp(t),e)),wn=(t,e=[])=>{he(t)?t.forEach(n=>n(...e)):t&&t(...e)},nl=t=>t?he(t)?t.some(e=>e.length>1):t.length>1:!1;function Lp(t){const e={};for(const D in t)D in mu||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:o,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:d=i,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,h=Rp(r),g=h&&h[0],w=h&&h[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:S,onLeave:A,onLeaveCancelled:L,onBeforeAppear:C=E,onAppear:O=x,onAppearCancelled:_=S}=e,k=(D,H,F,U)=>{D._enterCancelled=U,kn(D,H?u:a),kn(D,H?d:i),F&&F()},M=(D,H)=>{D._isLeaving=!1,kn(D,f),kn(D,b),kn(D,p),H&&H()},P=D=>(H,F)=>{const U=D?O:x,K=()=>k(H,D,F);wn(U,[H,K]),ol(()=>{kn(H,D?l:s),Ut(H,D?u:a),nl(U)||rl(H,o,g,K)})};return Ye(e,{onBeforeEnter(D){wn(E,[D]),Ut(D,s),Ut(D,i)},onBeforeAppear(D){wn(C,[D]),Ut(D,l),Ut(D,d)},onEnter:P(!1),onAppear:P(!0),onLeave(D,H){D._isLeaving=!0;const F=()=>M(D,H);Ut(D,f),D._enterCancelled?(Ut(D,p),al()):(al(),Ut(D,p)),ol(()=>{D._isLeaving&&(kn(D,f),Ut(D,b),nl(A)||rl(D,o,w,F))}),wn(A,[D,F])},onEnterCancelled(D){k(D,!1,void 0,!0),wn(S,[D])},onAppearCancelled(D){k(D,!0,void 0,!0),wn(_,[D])},onLeaveCancelled(D){M(D),wn(L,[D])}})}function Rp(t){if(t==null)return null;if($e(t))return[cs(t.enter),cs(t.leave)];{const e=cs(t);return[e,e]}}function cs(t){return Rh(t)}function Ut(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Lo]||(t[Lo]=new Set)).add(e)}function kn(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const n=t[Lo];n&&(n.delete(e),n.size||(t[Lo]=void 0))}function ol(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Np=0;function rl(t,e,n,o){const r=t._endId=++Np,s=()=>{r===t._endId&&o()};if(n!=null)return setTimeout(s,n);const{type:i,timeout:a,propCount:l}=Dp(t,e);if(!i)return o();const d=i+"end";let u=0;const f=()=>{t.removeEventListener(d,p),s()},p=b=>{b.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(d,p)}function Dp(t,e){const n=window.getComputedStyle(t),o=h=>(n[h]||"").split(", "),r=o(`${Jt}Delay`),s=o(`${Jt}Duration`),i=sl(r,s),a=o(`${so}Delay`),l=o(`${so}Duration`),d=sl(a,l);let u=null,f=0,p=0;e===Jt?i>0&&(u=Jt,f=i,p=s.length):e===so?d>0&&(u=so,f=d,p=l.length):(f=Math.max(i,d),u=f>0?i>d?Jt:so:null,p=u?u===Jt?s.length:l.length:0);const b=u===Jt&&/\b(transform|all)(,|$)/.test(o(`${Jt}Property`).toString());return{type:u,timeout:f,propCount:p,hasTransform:b}}function sl(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,o)=>il(n)+il(t[o])))}function il(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function al(){return document.body.offsetHeight}function Fp(t,e,n){const o=t[Lo];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ll=Symbol("_vod"),jp=Symbol("_vsh"),$p=Symbol(""),Hp=/(^|;)\s*display\s*:/;function Up(t,e,n){const o=t.style,r=We(n);let s=!1;if(n&&!r){if(e)if(We(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&tr(o,a,"")}else for(const i in e)n[i]==null&&tr(o,i,"");for(const i in n)i==="display"&&(s=!0),tr(o,i,n[i])}else if(r){if(e!==n){const i=o[$p];i&&(n+=";"+i),o.cssText=n,s=Hp.test(n)}}else e&&t.removeAttribute("style");ll in t&&(t[ll]=s?o.display:"",t[jp]&&(o.display="none"))}const cl=/\s*!important$/;function tr(t,e,n){if(he(n))n.forEach(o=>tr(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=zp(t,e);cl.test(n)?t.setProperty(hn(o),n.replace(cl,""),"important"):t[o]=n}}const ul=["Webkit","Moz","ms"],us={};function zp(t,e){const n=us[e];if(n)return n;let o=_t(e);if(o!=="filter"&&o in t)return us[e]=o;o=Br(o);for(let r=0;r<ul.length;r++){const s=ul[r]+o;if(s in t)return us[e]=s}return e}const dl="http://www.w3.org/1999/xlink";function hl(t,e,n,o,r,s=Hh(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(dl,e.slice(6,e.length)):t.setAttributeNS(dl,e,n):n==null||s&&!rc(n)?t.removeAttribute(e):t.setAttribute(e,s?"":dn(n)?String(n):n)}function fl(t,e,n,o,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?gu(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=rc(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function jn(t,e,n,o){t.addEventListener(e,n,o)}function Wp(t,e,n,o){t.removeEventListener(e,n,o)}const pl=Symbol("_vei");function Vp(t,e,n,o,r=null){const s=t[pl]||(t[pl]={}),i=s[e];if(o&&i)i.value=o;else{const[a,l]=qp(e);if(o){const d=s[e]=Gp(o,r);jn(t,a,d,l)}else i&&(Wp(t,a,i,l),s[e]=void 0)}}const gl=/(?:Once|Passive|Capture)$/;function qp(t){let e;if(gl.test(t)){e={};let o;for(;o=t.match(gl);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hn(t.slice(2)),e]}let ds=0;const Qp=Promise.resolve(),Kp=()=>ds||(Qp.then(()=>ds=0),ds=Date.now());function Gp(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Mt(Yp(o,n.value),e,5,[o])};return n.value=t,n.attached=Kp(),n}function Yp(t,e){if(he(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const ml=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Zp=(t,e,n,o,r,s)=>{const i=r==="svg";e==="class"?Fp(t,o,i):e==="style"?Up(t,n,o):Cr(e)?ni(e)||Vp(t,e,n,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Xp(t,e,o,i))?(fl(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hl(t,e,o,i,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!We(o))?fl(t,_t(e),o,s,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),hl(t,e,o,i))};function Xp(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&ml(e)&&be(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ml(e)&&We(n)?!1:e in t}const bl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return he(e)?n=>Xo(e,n):e};function Jp(t){t.target.composing=!0}function vl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hs=Symbol("_assign"),bu={created(t,{modifiers:{lazy:e,trim:n,number:o}},r){t[hs]=bl(r);const s=o||r.props&&r.props.type==="number";jn(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Bs(a)),t[hs](a)}),n&&jn(t,"change",()=>{t.value=t.value.trim()}),e||(jn(t,"compositionstart",Jp),jn(t,"compositionend",vl),jn(t,"change",vl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(t[hs]=bl(i),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Bs(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(o&&e===n||r&&t.value.trim()===l)||(t.value=l))}},eg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yi=(t,e)=>{const n=t._withKeys||(t._withKeys={}),o=e.join(".");return n[o]||(n[o]=r=>{if(!("key"in r))return;const s=hn(r.key);if(e.some(i=>i===s||eg[i]===s))return t(r)})},tg=Ye({patchProp:Zp},Ap);let yl;function ng(){return yl||(yl=Jf(tg))}const og=(...t)=>{const e=ng().createApp(...t),{mount:n}=e;return e.mount=o=>{const r=sg(o);if(!r)return;const s=e._component;!be(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,rg(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function rg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sg(t){return We(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $n=typeof document<"u";function vu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ig(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&vu(t.default)}const je=Object.assign;function fs(t,e){const n={};for(const o in e){const r=e[o];n[o]=Ot(r)?r.map(t):t(r)}return n}const xo=()=>{},Ot=Array.isArray,yu=/#/g,ag=/&/g,lg=/\//g,cg=/=/g,ug=/\?/g,wu=/\+/g,dg=/%5B/g,hg=/%5D/g,ku=/%5E/g,fg=/%60/g,Eu=/%7B/g,pg=/%7C/g,xu=/%7D/g,gg=/%20/g;function wi(t){return encodeURI(""+t).replace(pg,"|").replace(dg,"[").replace(hg,"]")}function mg(t){return wi(t).replace(Eu,"{").replace(xu,"}").replace(ku,"^")}function $s(t){return wi(t).replace(wu,"%2B").replace(gg,"+").replace(yu,"%23").replace(ag,"%26").replace(fg,"`").replace(Eu,"{").replace(xu,"}").replace(ku,"^")}function bg(t){return $s(t).replace(cg,"%3D")}function vg(t){return wi(t).replace(yu,"%23").replace(ug,"%3F")}function yg(t){return t==null?"":vg(t).replace(lg,"%2F")}function Ro(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const wg=/\/$/,kg=t=>t.replace(wg,"");function ps(t,e,n="/"){let o,r={},s="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(o=o||e.slice(0,a),i=e.slice(a,e.length)),o=Cg(o??e,n),{fullPath:o+(s&&"?")+s+i,path:o,query:r,hash:Ro(i)}}function Eg(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function xg(t,e,n){const o=e.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&Gn(e.matched[o],n.matched[r])&&Su(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Gn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Su(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Sg(t[n],e[n]))return!1;return!0}function Sg(t,e){return Ot(t)?wl(t,e):Ot(e)?wl(e,t):t===e}function wl(t,e){return Ot(e)?t.length===e.length&&t.every((n,o)=>n===e[o]):t.length===1&&t[0]===e}function Cg(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),o=t.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}const en={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var No;(function(t){t.pop="pop",t.push="push"})(No||(No={}));var mr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(mr||(mr={}));const gs="";function _g(t){if(!t)if($n){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),kg(t)}const Tg=/^[^#]+#/;function Bg(t,e){return t.replace(Tg,"#")+e}function Ig(t,e){const n=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-n.left-(e.left||0),top:o.top-n.top-(e.top||0)}}const Ag=()=>({left:window.scrollX,top:window.scrollY});function Mg(t){let e;if("el"in t){const n=t.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Ig(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function kl(t,e){return(history.state?history.state.position-e:-1)+t}const Hs=new Map;function Og(t,e){Hs.set(t,e)}function Pg(t){const e=Hs.get(t);return Hs.delete(t),e}function Lg(t=""){let e=[],n=[gs],o=0;t=_g(t);function r(a){o++,o!==n.length&&n.splice(o),n.push(a)}function s(a,l,{direction:d,delta:u}){const f={direction:d,delta:u,type:No.pop};for(const p of e)p(a,l,f)}const i={location:gs,state:{},base:t,createHref:Bg.bind(null,t),replace(a){n.splice(o--,1),r(a)},push(a,l){r(a)},listen(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}},destroy(){e=[],n=[gs],o=0},go(a,l=!0){const d=this.location,u=a<0?mr.back:mr.forward;o=Math.max(0,Math.min(o+a,n.length-1)),l&&s(this.location,d,{direction:u,delta:a})}};return Object.defineProperty(i,"location",{enumerable:!0,get:()=>n[o]}),i}function Rg(t){return typeof t=="string"||t&&typeof t=="object"}function Cu(t){return typeof t=="string"||typeof t=="symbol"}const _u=Symbol("");var El;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(El||(El={}));function Yn(t,e){return je(new Error,{type:t,[_u]:!0},e)}function zt(t,e){return t instanceof Error&&_u in t&&(e==null||!!(t.type&e))}const xl="[^/]+?",Ng={sensitive:!1,strict:!1,start:!0,end:!0},Dg=/[.+*?^${}()[\]/\\]/g;function Fg(t,e){const n=je({},Ng,e),o=[];let r=n.start?"^":"";const s=[];for(const d of t){const u=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let f=0;f<d.length;f++){const p=d[f];let b=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(Dg,"\\$&"),b+=40;else if(p.type===1){const{value:h,repeatable:g,optional:w,regexp:E}=p;s.push({name:h,repeatable:g,optional:w});const x=E||xl;if(x!==xl){b+=10;try{new RegExp(`(${x})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${h}" (${x}): `+A.message)}}let S=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(S=w&&d.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),r+=S,b+=20,w&&(b+=-8),g&&(b+=-20),x===".*"&&(b+=-50)}u.push(b)}o.push(u)}if(n.strict&&n.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(d){const u=d.match(i),f={};if(!u)return null;for(let p=1;p<u.length;p++){const b=u[p]||"",h=s[p-1];f[h.name]=b&&h.repeatable?b.split("/"):b}return f}function l(d){let u="",f=!1;for(const p of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const b of p)if(b.type===0)u+=b.value;else if(b.type===1){const{value:h,repeatable:g,optional:w}=b,E=h in d?d[h]:"";if(Ot(E)&&!g)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const x=Ot(E)?E.join("/"):E;if(!x)if(w)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${h}"`);u+=x}}return u||"/"}return{re:i,score:o,keys:s,parse:a,stringify:l}}function jg(t,e){let n=0;for(;n<t.length&&n<e.length;){const o=e[n]-t[n];if(o)return o;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Tu(t,e){let n=0;const o=t.score,r=e.score;for(;n<o.length&&n<r.length;){const s=jg(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(Sl(o))return 1;if(Sl(r))return-1}return r.length-o.length}function Sl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $g={type:0,value:""},Hg=/[a-zA-Z0-9_]/;function Ug(t){if(!t)return[[]];if(t==="/")return[[$g]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,o=n;const r=[];let s;function i(){s&&r.push(s),s=[]}let a=0,l,d="",u="";function f(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(d&&f(),i()):l===":"?(f(),n=1):p();break;case 4:p(),n=o;break;case 1:l==="("?n=2:Hg.test(l)?p():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),i(),r}function zg(t,e,n){const o=Fg(Ug(t.path),n),r=je(o,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Wg(t,e){const n=[],o=new Map;e=Bl({strict:!1,end:!0,sensitive:!1},e);function r(f){return o.get(f)}function s(f,p,b){const h=!b,g=_l(f);g.aliasOf=b&&b.record;const w=Bl(e,f),E=[g];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of A)E.push(_l(je({},g,{components:b?b.record.components:g.components,path:L,aliasOf:b?b.record:g})))}let x,S;for(const A of E){const{path:L}=A;if(p&&L[0]!=="/"){const C=p.record.path,O=C[C.length-1]==="/"?"":"/";A.path=p.record.path+(L&&O+L)}if(x=zg(A,p,w),b?b.alias.push(x):(S=S||x,S!==x&&S.alias.push(x),h&&f.name&&!Tl(x)&&i(f.name)),Bu(x)&&l(x),g.children){const C=g.children;for(let O=0;O<C.length;O++)s(C[O],x,b&&b.children[O])}b=b||x}return S?()=>{i(S)}:xo}function i(f){if(Cu(f)){const p=o.get(f);p&&(o.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(i),p.alias.forEach(i))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&o.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function a(){return n}function l(f){const p=Qg(f,n);n.splice(p,0,f),f.record.name&&!Tl(f)&&o.set(f.record.name,f)}function d(f,p){let b,h={},g,w;if("name"in f&&f.name){if(b=o.get(f.name),!b)throw Yn(1,{location:f});w=b.record.name,h=je(Cl(p.params,b.keys.filter(S=>!S.optional).concat(b.parent?b.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&Cl(f.params,b.keys.map(S=>S.name))),g=b.stringify(h)}else if(f.path!=null)g=f.path,b=n.find(S=>S.re.test(g)),b&&(h=b.parse(g),w=b.record.name);else{if(b=p.name?o.get(p.name):n.find(S=>S.re.test(p.path)),!b)throw Yn(1,{location:f,currentLocation:p});w=b.record.name,h=je({},p.params,f.params),g=b.stringify(h)}const E=[];let x=b;for(;x;)E.unshift(x.record),x=x.parent;return{name:w,path:g,params:h,matched:E,meta:qg(E)}}t.forEach(f=>s(f));function u(){n.length=0,o.clear()}return{addRoute:s,resolve:d,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Cl(t,e){const n={};for(const o of e)o in t&&(n[o]=t[o]);return n}function _l(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Vg(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Vg(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const o in t.components)e[o]=typeof n=="object"?n[o]:n;return e}function Tl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function qg(t){return t.reduce((e,n)=>je(e,n.meta),{})}function Bl(t,e){const n={};for(const o in t)n[o]=o in e?e[o]:t[o];return n}function Qg(t,e){let n=0,o=e.length;for(;n!==o;){const s=n+o>>1;Tu(t,e[s])<0?o=s:n=s+1}const r=Kg(t);return r&&(o=e.lastIndexOf(r,o-1)),o}function Kg(t){let e=t;for(;e=e.parent;)if(Bu(e)&&Tu(t,e)===0)return e}function Bu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Gg(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(wu," "),i=s.indexOf("="),a=Ro(i<0?s:s.slice(0,i)),l=i<0?null:Ro(s.slice(i+1));if(a in e){let d=e[a];Ot(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function Il(t){let e="";for(let n in t){const o=t[n];if(n=bg(n),o==null){o!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ot(o)?o.map(s=>s&&$s(s)):[o&&$s(o)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Yg(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=Ot(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return e}const Zg=Symbol(""),Al=Symbol(""),ki=Symbol(""),Ei=Symbol(""),Us=Symbol("");function io(){let t=[];function e(o){return t.push(o),()=>{const r=t.indexOf(o);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function sn(t,e,n,o,r,s=i=>i()){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const d=p=>{p===!1?l(Yn(4,{from:n,to:e})):p instanceof Error?l(p):Rg(p)?l(Yn(2,{from:e,to:p})):(i&&o.enterCallbacks[r]===i&&typeof p=="function"&&i.push(p),a())},u=s(()=>t.call(o&&o.instances[r],e,n,d));let f=Promise.resolve(u);t.length<3&&(f=f.then(d)),f.catch(p=>l(p))})}function ms(t,e,n,o,r=s=>s()){const s=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(vu(l)){const u=(l.__vccOpts||l)[e];u&&s.push(sn(u,n,o,i,a,r))}else{let d=l();s.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const f=ig(u)?u.default:u;i.mods[a]=u,i.components[a]=f;const b=(f.__vccOpts||f)[e];return b&&sn(b,n,o,i,a,r)()}))}}return s}function Ml(t){const e=It(ki),n=It(Ei),o=xt(()=>{const l=Ae(t.to);return e.resolve(l)}),r=xt(()=>{const{matched:l}=o.value,{length:d}=l,u=l[d-1],f=n.matched;if(!u||!f.length)return-1;const p=f.findIndex(Gn.bind(null,u));if(p>-1)return p;const b=Ol(l[d-2]);return d>1&&Ol(u)===b&&f[f.length-1].path!==b?f.findIndex(Gn.bind(null,l[d-2])):p}),s=xt(()=>r.value>-1&&tm(n.params,o.value.params)),i=xt(()=>r.value>-1&&r.value===n.matched.length-1&&Su(n.params,o.value.params));function a(l={}){if(em(l)){const d=e[Ae(t.replace)?"replace":"push"](Ae(t.to)).catch(xo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:o,href:xt(()=>o.value.href),isActive:s,isExactActive:i,navigate:a}}function Xg(t){return t.length===1?t[0]:t}const Jg=$c({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ml,setup(t,{slots:e}){const n=Mn(Ml(t)),{options:o}=It(ki),r=xt(()=>({[Pl(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Pl(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&Xg(e.default(n));return t.custom?s:vi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),Iu=Jg;function em(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tm(t,e){for(const n in e){const o=e[n],r=t[n];if(typeof o=="string"){if(o!==r)return!1}else if(!Ot(r)||r.length!==o.length||o.some((s,i)=>s!==r[i]))return!1}return!0}function Ol(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Pl=(t,e,n)=>t??e??n,nm=$c({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const o=It(Us),r=xt(()=>t.route||o.value),s=It(Al,0),i=xt(()=>{let d=Ae(s);const{matched:u}=r.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),a=xt(()=>r.value.matched[i.value]);Jo(Al,xt(()=>i.value+1)),Jo(Zg,a),Jo(Us,r);const l=bt();return ko(()=>[l.value,a.value,t.name],([d,u,f],[p,b,h])=>{u&&(u.instances[f]=d,b&&b!==u&&d&&d===p&&(u.leaveGuards.size||(u.leaveGuards=b.leaveGuards),u.updateGuards.size||(u.updateGuards=b.updateGuards))),d&&u&&(!b||!Gn(u,b)||!p)&&(u.enterCallbacks[f]||[]).forEach(g=>g(d))},{flush:"post"}),()=>{const d=r.value,u=t.name,f=a.value,p=f&&f.components[u];if(!p)return Ll(n.default,{Component:p,route:d});const b=f.props[u],h=b?b===!0?d.params:typeof b=="function"?b(d):b:null,w=vi(p,je({},h,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Ll(n.default,{Component:w,route:d})||w}}});function Ll(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Au=nm;function om(t){const e=Wg(t.routes,t),n=t.parseQuery||Gg,o=t.stringifyQuery||Il,r=t.history,s=io(),i=io(),a=io(),l=cf(en);let d=en;$n&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=fs.bind(null,z=>""+z),f=fs.bind(null,yg),p=fs.bind(null,Ro);function b(z,oe){let ee,se;return Cu(z)?(ee=e.getRecordMatcher(z),se=oe):se=z,e.addRoute(se,ee)}function h(z){const oe=e.getRecordMatcher(z);oe&&e.removeRoute(oe)}function g(){return e.getRoutes().map(z=>z.record)}function w(z){return!!e.getRecordMatcher(z)}function E(z,oe){if(oe=je({},oe||l.value),typeof z=="string"){const N=ps(n,z,oe.path),W=e.resolve({path:N.path},oe),q=r.createHref(N.fullPath);return je(N,W,{params:p(W.params),hash:Ro(N.hash),redirectedFrom:void 0,href:q})}let ee;if(z.path!=null)ee=je({},z,{path:ps(n,z.path,oe.path).path});else{const N=je({},z.params);for(const W in N)N[W]==null&&delete N[W];ee=je({},z,{params:f(N)}),oe.params=f(oe.params)}const se=e.resolve(ee,oe),Oe=z.hash||"";se.params=u(p(se.params));const T=Eg(o,je({},z,{hash:mg(Oe),path:se.path})),B=r.createHref(T);return je({fullPath:T,hash:Oe,query:o===Il?Yg(z.query):z.query||{}},se,{redirectedFrom:void 0,href:B})}function x(z){return typeof z=="string"?ps(n,z,l.value.path):je({},z)}function S(z,oe){if(d!==z)return Yn(8,{from:oe,to:z})}function A(z){return O(z)}function L(z){return A(je(x(z),{replace:!0}))}function C(z){const oe=z.matched[z.matched.length-1];if(oe&&oe.redirect){const{redirect:ee}=oe;let se=typeof ee=="function"?ee(z):ee;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=x(se):{path:se},se.params={}),je({query:z.query,hash:z.hash,params:se.path!=null?{}:z.params},se)}}function O(z,oe){const ee=d=E(z),se=l.value,Oe=z.state,T=z.force,B=z.replace===!0,N=C(ee);if(N)return O(je(x(N),{state:typeof N=="object"?je({},Oe,N.state):Oe,force:T,replace:B}),oe||ee);const W=ee;W.redirectedFrom=oe;let q;return!T&&xg(o,se,ee)&&(q=Yn(16,{to:W,from:se}),ke(se,se,!0,!1)),(q?Promise.resolve(q):M(W,se)).catch(V=>zt(V)?zt(V,2)?V:Me(V):re(V,W,se)).then(V=>{if(V){if(zt(V,2))return O(je({replace:B},x(V.to),{state:typeof V.to=="object"?je({},Oe,V.to.state):Oe,force:T}),oe||W)}else V=D(W,se,!0,B,Oe);return P(W,se,V),V})}function _(z,oe){const ee=S(z,oe);return ee?Promise.reject(ee):Promise.resolve()}function k(z){const oe=yt.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(z):z()}function M(z,oe){let ee;const[se,Oe,T]=rm(z,oe);ee=ms(se.reverse(),"beforeRouteLeave",z,oe);for(const N of se)N.leaveGuards.forEach(W=>{ee.push(sn(W,z,oe))});const B=_.bind(null,z,oe);return ee.push(B),Je(ee).then(()=>{ee=[];for(const N of s.list())ee.push(sn(N,z,oe));return ee.push(B),Je(ee)}).then(()=>{ee=ms(Oe,"beforeRouteUpdate",z,oe);for(const N of Oe)N.updateGuards.forEach(W=>{ee.push(sn(W,z,oe))});return ee.push(B),Je(ee)}).then(()=>{ee=[];for(const N of T)if(N.beforeEnter)if(Ot(N.beforeEnter))for(const W of N.beforeEnter)ee.push(sn(W,z,oe));else ee.push(sn(N.beforeEnter,z,oe));return ee.push(B),Je(ee)}).then(()=>(z.matched.forEach(N=>N.enterCallbacks={}),ee=ms(T,"beforeRouteEnter",z,oe,k),ee.push(B),Je(ee))).then(()=>{ee=[];for(const N of i.list())ee.push(sn(N,z,oe));return ee.push(B),Je(ee)}).catch(N=>zt(N,8)?N:Promise.reject(N))}function P(z,oe,ee){a.list().forEach(se=>k(()=>se(z,oe,ee)))}function D(z,oe,ee,se,Oe){const T=S(z,oe);if(T)return T;const B=oe===en,N=$n?history.state:{};ee&&(se||B?r.replace(z.fullPath,je({scroll:B&&N&&N.scroll},Oe)):r.push(z.fullPath,Oe)),l.value=z,ke(z,oe,ee,B),Me()}let H;function F(){H||(H=r.listen((z,oe,ee)=>{if(!Lt.listening)return;const se=E(z),Oe=C(se);if(Oe){O(je(Oe,{replace:!0,force:!0}),se).catch(xo);return}d=se;const T=l.value;$n&&Og(kl(T.fullPath,ee.delta),Ag()),M(se,T).catch(B=>zt(B,12)?B:zt(B,2)?(O(je(x(B.to),{force:!0}),se).then(N=>{zt(N,20)&&!ee.delta&&ee.type===No.pop&&r.go(-1,!1)}).catch(xo),Promise.reject()):(ee.delta&&r.go(-ee.delta,!1),re(B,se,T))).then(B=>{B=B||D(se,T,!1),B&&(ee.delta&&!zt(B,8)?r.go(-ee.delta,!1):ee.type===No.pop&&zt(B,20)&&r.go(-1,!1)),P(se,T,B)}).catch(xo)}))}let U=io(),K=io(),G;function re(z,oe,ee){Me(z);const se=K.list();return se.length?se.forEach(Oe=>Oe(z,oe,ee)):console.error(z),Promise.reject(z)}function ge(){return G&&l.value!==en?Promise.resolve():new Promise((z,oe)=>{U.add([z,oe])})}function Me(z){return G||(G=!z,F(),U.list().forEach(([oe,ee])=>z?ee(z):oe()),U.reset()),z}function ke(z,oe,ee,se){const{scrollBehavior:Oe}=t;if(!$n||!Oe)return Promise.resolve();const T=!ee&&Pg(kl(z.fullPath,0))||(se||!ee)&&history.state&&history.state.scroll||null;return pi().then(()=>Oe(z,oe,T)).then(B=>B&&Mg(B)).catch(B=>re(B,z,oe))}const ve=z=>r.go(z);let ut;const yt=new Set,Lt={currentRoute:l,listening:!0,addRoute:b,removeRoute:h,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:g,resolve:E,options:t,push:A,replace:L,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:K.add,isReady:ge,install(z){const oe=this;z.component("RouterLink",Iu),z.component("RouterView",Au),z.config.globalProperties.$router=oe,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>Ae(l)}),$n&&!ut&&l.value===en&&(ut=!0,A(r.location).catch(Oe=>{}));const ee={};for(const Oe in en)Object.defineProperty(ee,Oe,{get:()=>l.value[Oe],enumerable:!0});z.provide(ki,oe),z.provide(Ei,Sc(ee)),z.provide(Us,l);const se=z.unmount;yt.add(z),z.unmount=function(){yt.delete(z),yt.size<1&&(d=en,H&&H(),H=null,l.value=en,ut=!1,G=!1),se()}}};function Je(z){return z.reduce((oe,ee)=>oe.then(()=>k(ee)),Promise.resolve())}return Lt}function rm(t,e){const n=[],o=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let i=0;i<s;i++){const a=e.matched[i];a&&(t.matched.find(d=>Gn(d,a))?o.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(d=>Gn(d,l))||r.push(l))}return[n,o,r]}function sm(t){return It(Ei)}const im="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2020%2020'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3egithub%20[%23c0c0c0]%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Dribbble-Light-Preview'%20transform='translate(-140.000000,%20-7559.000000)'%20fill='%23c0c0c0'%3e%3cg%20id='icons'%20transform='translate(56.000000,%20160.000000)'%3e%3cpath%20d='M94,7399%20C99.523,7399%20104,7403.59%20104,7409.253%20C104,7413.782%20101.138,7417.624%2097.167,7418.981%20C96.66,7419.082%2096.48,7418.762%2096.48,7418.489%20C96.48,7418.151%2096.492,7417.047%2096.492,7415.675%20C96.492,7414.719%2096.172,7414.095%2095.813,7413.777%20C98.04,7413.523%20100.38,7412.656%20100.38,7408.718%20C100.38,7407.598%2099.992,7406.684%2099.35,7405.966%20C99.454,7405.707%2099.797,7404.664%2099.252,7403.252%20C99.252,7403.252%2098.414,7402.977%2096.505,7404.303%20C95.706,7404.076%2094.85,7403.962%2094,7403.958%20C93.15,7403.962%2092.295,7404.076%2091.497,7404.303%20C89.586,7402.977%2088.746,7403.252%2088.746,7403.252%20C88.203,7404.664%2088.546,7405.707%2088.649,7405.966%20C88.01,7406.684%2087.619,7407.598%2087.619,7408.718%20C87.619,7412.646%2089.954,7413.526%2092.175,7413.785%20C91.889,7414.041%2091.63,7414.493%2091.54,7415.156%20C90.97,7415.418%2089.522,7415.871%2088.63,7414.304%20C88.63,7414.304%2088.101,7413.319%2087.097,7413.247%20C87.097,7413.247%2086.122,7413.234%2087.029,7413.87%20C87.029,7413.87%2087.684,7414.185%2088.139,7415.37%20C88.139,7415.37%2088.726,7417.2%2091.508,7416.58%20C91.513,7417.437%2091.522,7418.245%2091.522,7418.489%20C91.522,7418.76%2091.338,7419.077%2090.839,7418.982%20C86.865,7417.627%2084,7413.783%2084,7409.253%20C84,7403.59%2088.478,7399%2094,7399'%20id='github-[%23c0c0c0]'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",am="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23c0c0c0'%20height='20px'%20width='20px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='-143%20145%20512%20512'%20xml:space='preserve'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M113,145c-141.4,0-256,114.6-256,256s114.6,256,256,256s256-114.6,256-256S254.4,145,113,145z%20M41.4,508.1H-8.5V348.4h49.9%20V508.1z%20M15.1,328.4h-0.4c-18.1,0-29.8-12.2-29.8-27.7c0-15.8,12.1-27.7,30.5-27.7c18.4,0,29.7,11.9,30.1,27.7%20C45.6,316.1,33.9,328.4,15.1,328.4z%20M241,508.1h-56.6v-82.6c0-21.6-8.8-36.4-28.3-36.4c-14.9,0-23.2,10-27,19.6%20c-1.4,3.4-1.2,8.2-1.2,13.1v86.3H71.8c0,0,0.7-146.4,0-159.7h56.1v25.1c3.3-11,21.2-26.6,49.8-26.6c35.5,0,63.3,23,63.3,72.4V508.1z%20'/%3e%3c/g%3e%3c/svg%3e",lm={__name:"NavButtonComponent",props:["route"],setup(t){const n=t.route,o=sm();return(r,s)=>(Ee(),Kn(Ae(Iu),{class:fn(["rounded-md w-2/3 m-auto pl-2 hover:bg-slate-700 transition-all",{"font-bold text-white pl-5":Ae(o).name==Ae(n).name}]),to:Ae(n).route},{default:dr(()=>[J("button",null,Yt(Ae(n).title),1)]),_:1},8,["to","class"]))}};function cm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z","clip-rule":"evenodd"})])}function um(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.75-4.25a.75.75 0 0 0-1.5 0V8c0 .414.336.75.75.75h3.25a.75.75 0 0 0 0-1.5h-2.5v-3.5Z","clip-rule":"evenodd"})])}function dm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM5.5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function hm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{d:"M8 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM8 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM9.5 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})])}function fm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h2.879a1.5 1.5 0 0 1 1.06.44l1.122 1.12A1.5 1.5 0 0 0 9.62 4H12.5A1.5 1.5 0 0 1 14 5.5v1.401a2.986 2.986 0 0 0-1.5-.401h-9c-.546 0-1.059.146-1.5.401V3.5ZM2 9.5v3A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 12.5 8h-9A1.5 1.5 0 0 0 2 9.5Z"})])}function pm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M11.013 2.513a1.75 1.75 0 0 1 2.475 2.474L6.226 12.25a2.751 2.751 0 0 1-.892.596l-2.047.848a.75.75 0 0 1-.98-.98l.848-2.047a2.75 2.75 0 0 1 .596-.892l7.262-7.261Z","clip-rule":"evenodd"})])}function gm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z","clip-rule":"evenodd"})])}function mm(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z","clip-rule":"evenodd"})])}const bm=[{title:"Mis notas",name:"notes",route:"/"},{title:"Ajustes",name:"setup",route:"/setup"},{title:"Info",name:"about",route:"/about"}];var vm=Object.create,Jn=Object.defineProperty,ym=Object.getOwnPropertyDescriptor,wm=Object.getOwnPropertyNames,km=Object.getPrototypeOf,Em=Object.prototype.hasOwnProperty,xm=(t,e,n)=>e in t?Jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>Jn(t,"name",{value:e,configurable:!0}),ht=(t,e)=>()=>(t&&(e=t(t=0)),e),we=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pt=(t,e)=>{for(var n in e)Jn(t,n,{get:e[n],enumerable:!0})},Mu=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of wm(e))!Em.call(t,r)&&r!==n&&Jn(t,r,{get:()=>e[r],enumerable:!(o=ym(e,r))||o.enumerable});return t},eo=(t,e,n)=>(n=t!=null?vm(km(t)):{},Mu(e||!t||!t.__esModule?Jn(n,"default",{value:t,enumerable:!0}):n,t)),Ge=t=>Mu(Jn({},"__esModule",{value:!0}),t),pe=(t,e,n)=>xm(t,typeof e!="symbol"?e+"":e,n),Sm=we(t=>{ue(),t.byteLength=l,t.toByteArray=u,t.fromByteArray=b;var e=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,i=r.length;s<i;++s)e[s]=r[s],n[r.charCodeAt(s)]=s;var s,i;n[45]=62,n[95]=63;function a(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=h.indexOf("=");w===-1&&(w=g);var E=w===g?0:4-w%4;return[w,E]}y(a,"getLens");function l(h){var g=a(h),w=g[0],E=g[1];return(w+E)*3/4-E}y(l,"byteLength");function d(h,g,w){return(g+w)*3/4-w}y(d,"_byteLength");function u(h){var g,w=a(h),E=w[0],x=w[1],S=new o(d(h,E,x)),A=0,L=x>0?E-4:E,C;for(C=0;C<L;C+=4)g=n[h.charCodeAt(C)]<<18|n[h.charCodeAt(C+1)]<<12|n[h.charCodeAt(C+2)]<<6|n[h.charCodeAt(C+3)],S[A++]=g>>16&255,S[A++]=g>>8&255,S[A++]=g&255;return x===2&&(g=n[h.charCodeAt(C)]<<2|n[h.charCodeAt(C+1)]>>4,S[A++]=g&255),x===1&&(g=n[h.charCodeAt(C)]<<10|n[h.charCodeAt(C+1)]<<4|n[h.charCodeAt(C+2)]>>2,S[A++]=g>>8&255,S[A++]=g&255),S}y(u,"toByteArray");function f(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}y(f,"tripletToBase64");function p(h,g,w){for(var E,x=[],S=g;S<w;S+=3)E=(h[S]<<16&16711680)+(h[S+1]<<8&65280)+(h[S+2]&255),x.push(f(E));return x.join("")}y(p,"encodeChunk");function b(h){for(var g,w=h.length,E=w%3,x=[],S=16383,A=0,L=w-E;A<L;A+=S)x.push(p(h,A,A+S>L?L:A+S));return E===1?(g=h[w-1],x.push(e[g>>2]+e[g<<4&63]+"==")):E===2&&(g=(h[w-2]<<8)+h[w-1],x.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),x.join("")}y(b,"fromByteArray")}),Cm=we(t=>{ue(),t.read=function(e,n,o,r,s){var i,a,l=s*8-r-1,d=(1<<l)-1,u=d>>1,f=-7,p=o?s-1:0,b=o?-1:1,h=e[n+p];for(p+=b,i=h&(1<<-f)-1,h>>=-f,f+=l;f>0;i=i*256+e[n+p],p+=b,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=a*256+e[n+p],p+=b,f-=8);if(i===0)i=1-u;else{if(i===d)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,n,o,r,s,i){var a,l,d,u=i*8-s-1,f=(1<<u)-1,p=f>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,g=r?1:-1,w=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,a=f):(a=Math.floor(Math.log(n)/Math.LN2),n*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+p>=1?n+=b/d:n+=b*Math.pow(2,1-p),n*d>=2&&(a++,d/=2),a+p>=f?(l=0,a=f):a+p>=1?(l=(n*d-1)*Math.pow(2,s),a=a+p):(l=n*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;e[o+h]=l&255,h+=g,l/=256,s-=8);for(a=a<<s|l,u+=s;u>0;e[o+h]=a&255,h+=g,a/=256,u-=8);e[o+h-g]|=w*128}}),_m=we(t=>{ue();var e=Sm(),n=Cm(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var r=2147483647;t.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let c=new Uint8Array(1),m={foo:y(function(){return 42},"foo")};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(c,m),c.foo()===42}catch{return!1}}y(s,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:y(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:y(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function i(c){if(c>r)throw new RangeError('The value "'+c+'" is invalid for option "size"');let m=new Uint8Array(c);return Object.setPrototypeOf(m,a.prototype),m}y(i,"createBuffer");function a(c,m,v){if(typeof c=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(c)}return l(c,m,v)}y(a,"Buffer"),a.poolSize=8192;function l(c,m,v){if(typeof c=="string")return p(c,m);if(ArrayBuffer.isView(c))return h(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(ie(c,ArrayBuffer)||c&&ie(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(c,SharedArrayBuffer)||c&&ie(c.buffer,SharedArrayBuffer)))return g(c,m,v);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let I=c.valueOf&&c.valueOf();if(I!=null&&I!==c)return a.from(I,m,v);let R=w(c);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return a.from(c[Symbol.toPrimitive]("string"),m,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}y(l,"from"),a.from=function(c,m,v){return l(c,m,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}y(d,"assertSize");function u(c,m,v){return d(c),c<=0?i(c):m!==void 0?typeof v=="string"?i(c).fill(m,v):i(c).fill(m):i(c)}y(u,"alloc"),a.alloc=function(c,m,v){return u(c,m,v)};function f(c){return d(c),i(c<0?0:E(c)|0)}y(f,"allocUnsafe"),a.allocUnsafe=function(c){return f(c)},a.allocUnsafeSlow=function(c){return f(c)};function p(c,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);let v=S(c,m)|0,I=i(v),R=I.write(c,m);return R!==v&&(I=I.slice(0,R)),I}y(p,"fromString");function b(c){let m=c.length<0?0:E(c.length)|0,v=i(m);for(let I=0;I<m;I+=1)v[I]=c[I]&255;return v}y(b,"fromArrayLike");function h(c){if(ie(c,Uint8Array)){let m=new Uint8Array(c);return g(m.buffer,m.byteOffset,m.byteLength)}return b(c)}y(h,"fromArrayView");function g(c,m,v){if(m<0||c.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<m+(v||0))throw new RangeError('"length" is outside of buffer bounds');let I;return m===void 0&&v===void 0?I=new Uint8Array(c):v===void 0?I=new Uint8Array(c,m):I=new Uint8Array(c,m,v),Object.setPrototypeOf(I,a.prototype),I}y(g,"fromArrayBuffer");function w(c){if(a.isBuffer(c)){let m=E(c.length)|0,v=i(m);return v.length===0||c.copy(v,0,0,m),v}if(c.length!==void 0)return typeof c.length!="number"||ne(c.length)?i(0):b(c);if(c.type==="Buffer"&&Array.isArray(c.data))return b(c.data)}y(w,"fromObject");function E(c){if(c>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return c|0}y(E,"checked");function x(c){return+c!=c&&(c=0),a.alloc(+c)}y(x,"SlowBuffer"),a.isBuffer=y(function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},"isBuffer"),a.compare=y(function(c,m){if(ie(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),ie(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(c)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===m)return 0;let v=c.length,I=m.length;for(let R=0,j=Math.min(v,I);R<j;++R)if(c[R]!==m[R]){v=c[R],I=m[R];break}return v<I?-1:I<v?1:0},"compare"),a.isEncoding=y(function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=y(function(c,m){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let v;if(m===void 0)for(m=0,v=0;v<c.length;++v)m+=c[v].length;let I=a.allocUnsafe(m),R=0;for(v=0;v<c.length;++v){let j=c[v];if(ie(j,Uint8Array))R+j.length>I.length?(a.isBuffer(j)||(j=a.from(j)),j.copy(I,R)):Uint8Array.prototype.set.call(I,j,R);else if(a.isBuffer(j))j.copy(I,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=j.length}return I},"concat");function S(c,m){if(a.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ie(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let v=c.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&v===0)return 0;let R=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return V(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return Z(c).length;default:if(R)return I?-1:V(c).length;m=(""+m).toLowerCase(),R=!0}}y(S,"byteLength"),a.byteLength=S;function A(c,m,v){let I=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,m>>>=0,v<=m))return"";for(c||(c="utf8");;)switch(c){case"hex":return ge(this,m,v);case"utf8":case"utf-8":return F(this,m,v);case"ascii":return G(this,m,v);case"latin1":case"binary":return re(this,m,v);case"base64":return H(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,m,v);default:if(I)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),I=!0}}y(A,"slowToString"),a.prototype._isBuffer=!0;function L(c,m,v){let I=c[m];c[m]=c[v],c[v]=I}y(L,"swap"),a.prototype.swap16=y(function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<c;m+=2)L(this,m,m+1);return this},"swap16"),a.prototype.swap32=y(function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<c;m+=4)L(this,m,m+3),L(this,m+1,m+2);return this},"swap32"),a.prototype.swap64=y(function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<c;m+=8)L(this,m,m+7),L(this,m+1,m+6),L(this,m+2,m+5),L(this,m+3,m+4);return this},"swap64"),a.prototype.toString=y(function(){let c=this.length;return c===0?"":arguments.length===0?F(this,0,c):A.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=y(function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},"equals"),a.prototype.inspect=y(function(){let c="",m=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(c+=" ... "),"<Buffer "+c+">"},"inspect"),o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=y(function(c,m,v,I,R){if(ie(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(m===void 0&&(m=0),v===void 0&&(v=c?c.length:0),I===void 0&&(I=0),R===void 0&&(R=this.length),m<0||v>c.length||I<0||R>this.length)throw new RangeError("out of range index");if(I>=R&&m>=v)return 0;if(I>=R)return-1;if(m>=v)return 1;if(m>>>=0,v>>>=0,I>>>=0,R>>>=0,this===c)return 0;let j=R-I,Y=v-m,Re=Math.min(j,Y),Ie=this.slice(I,R),Ce=c.slice(m,v);for(let Ne=0;Ne<Re;++Ne)if(Ie[Ne]!==Ce[Ne]){j=Ie[Ne],Y=Ce[Ne];break}return j<Y?-1:Y<j?1:0},"compare");function C(c,m,v,I,R){if(c.length===0)return-1;if(typeof v=="string"?(I=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,ne(v)&&(v=R?0:c.length-1),v<0&&(v=c.length+v),v>=c.length){if(R)return-1;v=c.length-1}else if(v<0)if(R)v=0;else return-1;if(typeof m=="string"&&(m=a.from(m,I)),a.isBuffer(m))return m.length===0?-1:O(c,m,v,I,R);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(c,m,v):Uint8Array.prototype.lastIndexOf.call(c,m,v):O(c,[m],v,I,R);throw new TypeError("val must be string, number or Buffer")}y(C,"bidirectionalIndexOf");function O(c,m,v,I,R){let j=1,Y=c.length,Re=m.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(c.length<2||m.length<2)return-1;j=2,Y/=2,Re/=2,v/=2}function Ie(Ne,Qe){return j===1?Ne[Qe]:Ne.readUInt16BE(Qe*j)}y(Ie,"read");let Ce;if(R){let Ne=-1;for(Ce=v;Ce<Y;Ce++)if(Ie(c,Ce)===Ie(m,Ne===-1?0:Ce-Ne)){if(Ne===-1&&(Ne=Ce),Ce-Ne+1===Re)return Ne*j}else Ne!==-1&&(Ce-=Ce-Ne),Ne=-1}else for(v+Re>Y&&(v=Y-Re),Ce=v;Ce>=0;Ce--){let Ne=!0;for(let Qe=0;Qe<Re;Qe++)if(Ie(c,Ce+Qe)!==Ie(m,Qe)){Ne=!1;break}if(Ne)return Ce}return-1}y(O,"arrayIndexOf"),a.prototype.includes=y(function(c,m,v){return this.indexOf(c,m,v)!==-1},"includes"),a.prototype.indexOf=y(function(c,m,v){return C(this,c,m,v,!0)},"indexOf"),a.prototype.lastIndexOf=y(function(c,m,v){return C(this,c,m,v,!1)},"lastIndexOf");function _(c,m,v,I){v=Number(v)||0;let R=c.length-v;I?(I=Number(I),I>R&&(I=R)):I=R;let j=m.length;I>j/2&&(I=j/2);let Y;for(Y=0;Y<I;++Y){let Re=parseInt(m.substr(Y*2,2),16);if(ne(Re))return Y;c[v+Y]=Re}return Y}y(_,"hexWrite");function k(c,m,v,I){return Q(V(m,c.length-v),c,v,I)}y(k,"utf8Write");function M(c,m,v,I){return Q(te(m),c,v,I)}y(M,"asciiWrite");function P(c,m,v,I){return Q(Z(m),c,v,I)}y(P,"base64Write");function D(c,m,v,I){return Q(X(m,c.length-v),c,v,I)}y(D,"ucs2Write"),a.prototype.write=y(function(c,m,v,I){if(m===void 0)I="utf8",v=this.length,m=0;else if(v===void 0&&typeof m=="string")I=m,v=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(v)?(v=v>>>0,I===void 0&&(I="utf8")):(I=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let R=this.length-m;if((v===void 0||v>R)&&(v=R),c.length>0&&(v<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let j=!1;for(;;)switch(I){case"hex":return _(this,c,m,v);case"utf8":case"utf-8":return k(this,c,m,v);case"ascii":case"latin1":case"binary":return M(this,c,m,v);case"base64":return P(this,c,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,c,m,v);default:if(j)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),j=!0}},"write"),a.prototype.toJSON=y(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function H(c,m,v){return m===0&&v===c.length?e.fromByteArray(c):e.fromByteArray(c.slice(m,v))}y(H,"base64Slice");function F(c,m,v){v=Math.min(c.length,v);let I=[],R=m;for(;R<v;){let j=c[R],Y=null,Re=j>239?4:j>223?3:j>191?2:1;if(R+Re<=v){let Ie,Ce,Ne,Qe;switch(Re){case 1:j<128&&(Y=j);break;case 2:Ie=c[R+1],(Ie&192)===128&&(Qe=(j&31)<<6|Ie&63,Qe>127&&(Y=Qe));break;case 3:Ie=c[R+1],Ce=c[R+2],(Ie&192)===128&&(Ce&192)===128&&(Qe=(j&15)<<12|(Ie&63)<<6|Ce&63,Qe>2047&&(Qe<55296||Qe>57343)&&(Y=Qe));break;case 4:Ie=c[R+1],Ce=c[R+2],Ne=c[R+3],(Ie&192)===128&&(Ce&192)===128&&(Ne&192)===128&&(Qe=(j&15)<<18|(Ie&63)<<12|(Ce&63)<<6|Ne&63,Qe>65535&&Qe<1114112&&(Y=Qe))}}Y===null?(Y=65533,Re=1):Y>65535&&(Y-=65536,I.push(Y>>>10&1023|55296),Y=56320|Y&1023),I.push(Y),R+=Re}return K(I)}y(F,"utf8Slice");var U=4096;function K(c){let m=c.length;if(m<=U)return String.fromCharCode.apply(String,c);let v="",I=0;for(;I<m;)v+=String.fromCharCode.apply(String,c.slice(I,I+=U));return v}y(K,"decodeCodePointsArray");function G(c,m,v){let I="";v=Math.min(c.length,v);for(let R=m;R<v;++R)I+=String.fromCharCode(c[R]&127);return I}y(G,"asciiSlice");function re(c,m,v){let I="";v=Math.min(c.length,v);for(let R=m;R<v;++R)I+=String.fromCharCode(c[R]);return I}y(re,"latin1Slice");function ge(c,m,v){let I=c.length;(!m||m<0)&&(m=0),(!v||v<0||v>I)&&(v=I);let R="";for(let j=m;j<v;++j)R+=ce[c[j]];return R}y(ge,"hexSlice");function Me(c,m,v){let I=c.slice(m,v),R="";for(let j=0;j<I.length-1;j+=2)R+=String.fromCharCode(I[j]+I[j+1]*256);return R}y(Me,"utf16leSlice"),a.prototype.slice=y(function(c,m){let v=this.length;c=~~c,m=m===void 0?v:~~m,c<0?(c+=v,c<0&&(c=0)):c>v&&(c=v),m<0?(m+=v,m<0&&(m=0)):m>v&&(m=v),m<c&&(m=c);let I=this.subarray(c,m);return Object.setPrototypeOf(I,a.prototype),I},"slice");function ke(c,m,v){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+m>v)throw new RangeError("Trying to access beyond buffer length")}y(ke,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=y(function(c,m,v){c=c>>>0,m=m>>>0,v||ke(c,m,this.length);let I=this[c],R=1,j=0;for(;++j<m&&(R*=256);)I+=this[c+j]*R;return I},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=y(function(c,m,v){c=c>>>0,m=m>>>0,v||ke(c,m,this.length);let I=this[c+--m],R=1;for(;m>0&&(R*=256);)I+=this[c+--m]*R;return I},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=y(function(c,m){return c=c>>>0,m||ke(c,1,this.length),this[c]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=y(function(c,m){return c=c>>>0,m||ke(c,2,this.length),this[c]|this[c+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=y(function(c,m){return c=c>>>0,m||ke(c,2,this.length),this[c]<<8|this[c+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=y(function(c,m){return c=c>>>0,m||ke(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=y(function(c,m){return c=c>>>0,m||ke(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=le(y(function(c){c=c>>>0,B(c,"offset");let m=this[c],v=this[c+7];(m===void 0||v===void 0)&&N(c,this.length-8);let I=m+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,R=this[++c]+this[++c]*2**8+this[++c]*2**16+v*2**24;return BigInt(I)+(BigInt(R)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=le(y(function(c){c=c>>>0,B(c,"offset");let m=this[c],v=this[c+7];(m===void 0||v===void 0)&&N(c,this.length-8);let I=m*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],R=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+v;return(BigInt(I)<<BigInt(32))+BigInt(R)},"readBigUInt64BE")),a.prototype.readIntLE=y(function(c,m,v){c=c>>>0,m=m>>>0,v||ke(c,m,this.length);let I=this[c],R=1,j=0;for(;++j<m&&(R*=256);)I+=this[c+j]*R;return R*=128,I>=R&&(I-=Math.pow(2,8*m)),I},"readIntLE"),a.prototype.readIntBE=y(function(c,m,v){c=c>>>0,m=m>>>0,v||ke(c,m,this.length);let I=m,R=1,j=this[c+--I];for(;I>0&&(R*=256);)j+=this[c+--I]*R;return R*=128,j>=R&&(j-=Math.pow(2,8*m)),j},"readIntBE"),a.prototype.readInt8=y(function(c,m){return c=c>>>0,m||ke(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},"readInt8"),a.prototype.readInt16LE=y(function(c,m){c=c>>>0,m||ke(c,2,this.length);let v=this[c]|this[c+1]<<8;return v&32768?v|4294901760:v},"readInt16LE"),a.prototype.readInt16BE=y(function(c,m){c=c>>>0,m||ke(c,2,this.length);let v=this[c+1]|this[c]<<8;return v&32768?v|4294901760:v},"readInt16BE"),a.prototype.readInt32LE=y(function(c,m){return c=c>>>0,m||ke(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},"readInt32LE"),a.prototype.readInt32BE=y(function(c,m){return c=c>>>0,m||ke(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},"readInt32BE"),a.prototype.readBigInt64LE=le(y(function(c){c=c>>>0,B(c,"offset");let m=this[c],v=this[c+7];(m===void 0||v===void 0)&&N(c,this.length-8);let I=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(v<<24);return(BigInt(I)<<BigInt(32))+BigInt(m+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=le(y(function(c){c=c>>>0,B(c,"offset");let m=this[c],v=this[c+7];(m===void 0||v===void 0)&&N(c,this.length-8);let I=(m<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(I)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+v)},"readBigInt64BE")),a.prototype.readFloatLE=y(function(c,m){return c=c>>>0,m||ke(c,4,this.length),n.read(this,c,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=y(function(c,m){return c=c>>>0,m||ke(c,4,this.length),n.read(this,c,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=y(function(c,m){return c=c>>>0,m||ke(c,8,this.length),n.read(this,c,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=y(function(c,m){return c=c>>>0,m||ke(c,8,this.length),n.read(this,c,!1,52,8)},"readDoubleBE");function ve(c,m,v,I,R,j){if(!a.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>R||m<j)throw new RangeError('"value" argument is out of bounds');if(v+I>c.length)throw new RangeError("Index out of range")}y(ve,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=y(function(c,m,v,I){if(c=+c,m=m>>>0,v=v>>>0,!I){let Y=Math.pow(2,8*v)-1;ve(this,c,m,v,Y,0)}let R=1,j=0;for(this[m]=c&255;++j<v&&(R*=256);)this[m+j]=c/R&255;return m+v},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=y(function(c,m,v,I){if(c=+c,m=m>>>0,v=v>>>0,!I){let Y=Math.pow(2,8*v)-1;ve(this,c,m,v,Y,0)}let R=v-1,j=1;for(this[m+R]=c&255;--R>=0&&(j*=256);)this[m+R]=c/j&255;return m+v},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,1,255,0),this[m]=c&255,m+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,2,65535,0),this[m]=c&255,this[m+1]=c>>>8,m+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,2,65535,0),this[m]=c>>>8,this[m+1]=c&255,m+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,4,4294967295,0),this[m+3]=c>>>24,this[m+2]=c>>>16,this[m+1]=c>>>8,this[m]=c&255,m+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,4,4294967295,0),this[m]=c>>>24,this[m+1]=c>>>16,this[m+2]=c>>>8,this[m+3]=c&255,m+4},"writeUInt32BE");function ut(c,m,v,I,R){T(m,I,R,c,v,7);let j=Number(m&BigInt(4294967295));c[v++]=j,j=j>>8,c[v++]=j,j=j>>8,c[v++]=j,j=j>>8,c[v++]=j;let Y=Number(m>>BigInt(32)&BigInt(4294967295));return c[v++]=Y,Y=Y>>8,c[v++]=Y,Y=Y>>8,c[v++]=Y,Y=Y>>8,c[v++]=Y,v}y(ut,"wrtBigUInt64LE");function yt(c,m,v,I,R){T(m,I,R,c,v,7);let j=Number(m&BigInt(4294967295));c[v+7]=j,j=j>>8,c[v+6]=j,j=j>>8,c[v+5]=j,j=j>>8,c[v+4]=j;let Y=Number(m>>BigInt(32)&BigInt(4294967295));return c[v+3]=Y,Y=Y>>8,c[v+2]=Y,Y=Y>>8,c[v+1]=Y,Y=Y>>8,c[v]=Y,v+8}y(yt,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=le(y(function(c,m=0){return ut(this,c,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=le(y(function(c,m=0){return yt(this,c,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=y(function(c,m,v,I){if(c=+c,m=m>>>0,!I){let Re=Math.pow(2,8*v-1);ve(this,c,m,v,Re-1,-Re)}let R=0,j=1,Y=0;for(this[m]=c&255;++R<v&&(j*=256);)c<0&&Y===0&&this[m+R-1]!==0&&(Y=1),this[m+R]=(c/j>>0)-Y&255;return m+v},"writeIntLE"),a.prototype.writeIntBE=y(function(c,m,v,I){if(c=+c,m=m>>>0,!I){let Re=Math.pow(2,8*v-1);ve(this,c,m,v,Re-1,-Re)}let R=v-1,j=1,Y=0;for(this[m+R]=c&255;--R>=0&&(j*=256);)c<0&&Y===0&&this[m+R+1]!==0&&(Y=1),this[m+R]=(c/j>>0)-Y&255;return m+v},"writeIntBE"),a.prototype.writeInt8=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,1,127,-128),c<0&&(c=255+c+1),this[m]=c&255,m+1},"writeInt8"),a.prototype.writeInt16LE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,2,32767,-32768),this[m]=c&255,this[m+1]=c>>>8,m+2},"writeInt16LE"),a.prototype.writeInt16BE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,2,32767,-32768),this[m]=c>>>8,this[m+1]=c&255,m+2},"writeInt16BE"),a.prototype.writeInt32LE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,4,2147483647,-2147483648),this[m]=c&255,this[m+1]=c>>>8,this[m+2]=c>>>16,this[m+3]=c>>>24,m+4},"writeInt32LE"),a.prototype.writeInt32BE=y(function(c,m,v){return c=+c,m=m>>>0,v||ve(this,c,m,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[m]=c>>>24,this[m+1]=c>>>16,this[m+2]=c>>>8,this[m+3]=c&255,m+4},"writeInt32BE"),a.prototype.writeBigInt64LE=le(y(function(c,m=0){return ut(this,c,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=le(y(function(c,m=0){return yt(this,c,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Lt(c,m,v,I,R,j){if(v+I>c.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}y(Lt,"checkIEEE754");function Je(c,m,v,I,R){return m=+m,v=v>>>0,R||Lt(c,m,v,4),n.write(c,m,v,I,23,4),v+4}y(Je,"writeFloat"),a.prototype.writeFloatLE=y(function(c,m,v){return Je(this,c,m,!0,v)},"writeFloatLE"),a.prototype.writeFloatBE=y(function(c,m,v){return Je(this,c,m,!1,v)},"writeFloatBE");function z(c,m,v,I,R){return m=+m,v=v>>>0,R||Lt(c,m,v,8),n.write(c,m,v,I,52,8),v+8}y(z,"writeDouble"),a.prototype.writeDoubleLE=y(function(c,m,v){return z(this,c,m,!0,v)},"writeDoubleLE"),a.prototype.writeDoubleBE=y(function(c,m,v){return z(this,c,m,!1,v)},"writeDoubleBE"),a.prototype.copy=y(function(c,m,v,I){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(v||(v=0),!I&&I!==0&&(I=this.length),m>=c.length&&(m=c.length),m||(m=0),I>0&&I<v&&(I=v),I===v||c.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),c.length-m<I-v&&(I=c.length-m+v);let R=I-v;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,v,I):Uint8Array.prototype.set.call(c,this.subarray(v,I),m),R},"copy"),a.prototype.fill=y(function(c,m,v,I){if(typeof c=="string"){if(typeof m=="string"?(I=m,m=0,v=this.length):typeof v=="string"&&(I=v,v=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(c.length===1){let j=c.charCodeAt(0);(I==="utf8"&&j<128||I==="latin1")&&(c=j)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(m<0||this.length<m||this.length<v)throw new RangeError("Out of range index");if(v<=m)return this;m=m>>>0,v=v===void 0?this.length:v>>>0,c||(c=0);let R;if(typeof c=="number")for(R=m;R<v;++R)this[R]=c;else{let j=a.isBuffer(c)?c:a.from(c,I),Y=j.length;if(Y===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(R=0;R<v-m;++R)this[R+m]=j[R%Y]}return this},"fill");var oe={};function ee(c,m,v){var I;oe[c]=(I=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}},y(I,"NodeError"),I)}y(ee,"E"),ee("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(c,m){return`The "${c}" argument must be of type number. Received type ${typeof m}`},TypeError),ee("ERR_OUT_OF_RANGE",function(c,m,v){let I=`The value of "${c}" is out of range.`,R=v;return Number.isInteger(v)&&Math.abs(v)>2**32?R=se(String(v)):typeof v=="bigint"&&(R=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(R=se(R)),R+="n"),I+=` It must be ${m}. Received ${R}`,I},RangeError);function se(c){let m="",v=c.length,I=c[0]==="-"?1:0;for(;v>=I+4;v-=3)m=`_${c.slice(v-3,v)}${m}`;return`${c.slice(0,v)}${m}`}y(se,"addNumericalSeparator");function Oe(c,m,v){B(m,"offset"),(c[m]===void 0||c[m+v]===void 0)&&N(m,c.length-(v+1))}y(Oe,"checkBounds");function T(c,m,v,I,R,j){if(c>v||c<m){let Y=typeof m=="bigint"?"n":"",Re;throw j>3?m===0||m===BigInt(0)?Re=`>= 0${Y} and < 2${Y} ** ${(j+1)*8}${Y}`:Re=`>= -(2${Y} ** ${(j+1)*8-1}${Y}) and < 2 ** ${(j+1)*8-1}${Y}`:Re=`>= ${m}${Y} and <= ${v}${Y}`,new oe.ERR_OUT_OF_RANGE("value",Re,c)}Oe(I,R,j)}y(T,"checkIntBI");function B(c,m){if(typeof c!="number")throw new oe.ERR_INVALID_ARG_TYPE(m,"number",c)}y(B,"validateNumber");function N(c,m,v){throw Math.floor(c)!==c?(B(c,v),new oe.ERR_OUT_OF_RANGE(v||"offset","an integer",c)):m<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${m}`,c)}y(N,"boundsError");var W=/[^+/0-9A-Za-z-_]/g;function q(c){if(c=c.split("=")[0],c=c.trim().replace(W,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}y(q,"base64clean");function V(c,m){m=m||1/0;let v,I=c.length,R=null,j=[];for(let Y=0;Y<I;++Y){if(v=c.charCodeAt(Y),v>55295&&v<57344){if(!R){if(v>56319){(m-=3)>-1&&j.push(239,191,189);continue}else if(Y+1===I){(m-=3)>-1&&j.push(239,191,189);continue}R=v;continue}if(v<56320){(m-=3)>-1&&j.push(239,191,189),R=v;continue}v=(R-55296<<10|v-56320)+65536}else R&&(m-=3)>-1&&j.push(239,191,189);if(R=null,v<128){if((m-=1)<0)break;j.push(v)}else if(v<2048){if((m-=2)<0)break;j.push(v>>6|192,v&63|128)}else if(v<65536){if((m-=3)<0)break;j.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((m-=4)<0)break;j.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return j}y(V,"utf8ToBytes");function te(c){let m=[];for(let v=0;v<c.length;++v)m.push(c.charCodeAt(v)&255);return m}y(te,"asciiToBytes");function X(c,m){let v,I,R,j=[];for(let Y=0;Y<c.length&&!((m-=2)<0);++Y)v=c.charCodeAt(Y),I=v>>8,R=v%256,j.push(R),j.push(I);return j}y(X,"utf16leToBytes");function Z(c){return e.toByteArray(q(c))}y(Z,"base64ToBytes");function Q(c,m,v,I){let R;for(R=0;R<I&&!(R+v>=m.length||R>=c.length);++R)m[R+v]=c[R];return R}y(Q,"blitBuffer");function ie(c,m){return c instanceof m||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===m.name}y(ie,"isInstance");function ne(c){return c!==c}y(ne,"numberIsNaN");var ce=function(){let c="0123456789abcdef",m=new Array(256);for(let v=0;v<16;++v){let I=v*16;for(let R=0;R<16;++R)m[I+R]=c[v]+c[R]}return m}();function le(c){return typeof BigInt>"u"?xe:c}y(le,"defineBigIntMethod");function xe(){throw new Error("BigInt not supported")}y(xe,"BufferBigIntNotDefined")}),Dr,xi,et,fe,ye,ue=ht(()=>{Dr=globalThis,xi=globalThis.setImmediate??(t=>setTimeout(t,0)),et=globalThis.crypto??{},et.subtle??(et.subtle={}),fe=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:_m().Buffer,ye=globalThis.process??{},ye.env??(ye.env={});try{ye.nextTick(()=>{})}catch{let t=Promise.resolve();ye.nextTick=t.then.bind(t)}}),On=we((t,e)=>{ue();var n=typeof Reflect=="object"?Reflect:null,o=n&&typeof n.apply=="function"?n.apply:y(function(C,O,_){return Function.prototype.apply.call(C,O,_)},"ReflectApply"),r;n&&typeof n.ownKeys=="function"?r=n.ownKeys:Object.getOwnPropertySymbols?r=y(function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))},"ReflectOwnKeys"):r=y(function(C){return Object.getOwnPropertyNames(C)},"ReflectOwnKeys");function s(C){console&&console.warn&&console.warn(C)}y(s,"ProcessEmitWarning");var i=Number.isNaN||y(function(C){return C!==C},"NumberIsNaN");function a(){a.init.call(this)}y(a,"EventEmitter"),e.exports=a,e.exports.once=S,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function d(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}y(d,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:y(function(){return l},"get"),set:y(function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");l=C},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=y(function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},"setMaxListeners");function u(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}y(u,"_getMaxListeners"),a.prototype.getMaxListeners=y(function(){return u(this)},"getMaxListeners"),a.prototype.emit=y(function(C){for(var O=[],_=1;_<arguments.length;_++)O.push(arguments[_]);var k=C==="error",M=this._events;if(M!==void 0)k=k&&M.error===void 0;else if(!k)return!1;if(k){var P;if(O.length>0&&(P=O[0]),P instanceof Error)throw P;var D=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw D.context=P,D}var H=M[C];if(H===void 0)return!1;if(typeof H=="function")o(H,this,O);else for(var F=H.length,U=w(H,F),_=0;_<F;++_)o(U[_],this,O);return!0},"emit");function f(C,O,_,k){var M,P,D;if(d(_),P=C._events,P===void 0?(P=C._events=Object.create(null),C._eventsCount=0):(P.newListener!==void 0&&(C.emit("newListener",O,_.listener?_.listener:_),P=C._events),D=P[O]),D===void 0)D=P[O]=_,++C._eventsCount;else if(typeof D=="function"?D=P[O]=k?[_,D]:[D,_]:k?D.unshift(_):D.push(_),M=u(C),M>0&&D.length>M&&!D.warned){D.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=C,H.type=O,H.count=D.length,s(H)}return C}y(f,"_addListener"),a.prototype.addListener=y(function(C,O){return f(this,C,O,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=y(function(C,O){return f(this,C,O,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}y(p,"onceWrapper");function b(C,O,_){var k={fired:!1,wrapFn:void 0,target:C,type:O,listener:_},M=p.bind(k);return M.listener=_,k.wrapFn=M,M}y(b,"_onceWrap"),a.prototype.once=y(function(C,O){return d(O),this.on(C,b(this,C,O)),this},"once"),a.prototype.prependOnceListener=y(function(C,O){return d(O),this.prependListener(C,b(this,C,O)),this},"prependOnceListener"),a.prototype.removeListener=y(function(C,O){var _,k,M,P,D;if(d(O),k=this._events,k===void 0)return this;if(_=k[C],_===void 0)return this;if(_===O||_.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete k[C],k.removeListener&&this.emit("removeListener",C,_.listener||O));else if(typeof _!="function"){for(M=-1,P=_.length-1;P>=0;P--)if(_[P]===O||_[P].listener===O){D=_[P].listener,M=P;break}if(M<0)return this;M===0?_.shift():E(_,M),_.length===1&&(k[C]=_[0]),k.removeListener!==void 0&&this.emit("removeListener",C,D||O)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=y(function(C){var O,_,k;if(_=this._events,_===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _[C]),this;if(arguments.length===0){var M=Object.keys(_),P;for(k=0;k<M.length;++k)P=M[k],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=_[C],typeof O=="function")this.removeListener(C,O);else if(O!==void 0)for(k=O.length-1;k>=0;k--)this.removeListener(C,O[k]);return this},"removeAllListeners");function h(C,O,_){var k=C._events;if(k===void 0)return[];var M=k[O];return M===void 0?[]:typeof M=="function"?_?[M.listener||M]:[M]:_?x(M):w(M,M.length)}y(h,"_listeners"),a.prototype.listeners=y(function(C){return h(this,C,!0)},"listeners"),a.prototype.rawListeners=y(function(C){return h(this,C,!1)},"rawListeners"),a.listenerCount=function(C,O){return typeof C.listenerCount=="function"?C.listenerCount(O):g.call(C,O)},a.prototype.listenerCount=g;function g(C){var O=this._events;if(O!==void 0){var _=O[C];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}y(g,"listenerCount"),a.prototype.eventNames=y(function(){return this._eventsCount>0?r(this._events):[]},"eventNames");function w(C,O){for(var _=new Array(O),k=0;k<O;++k)_[k]=C[k];return _}y(w,"arrayClone");function E(C,O){for(;O+1<C.length;O++)C[O]=C[O+1];C.pop()}y(E,"spliceOne");function x(C){for(var O=new Array(C.length),_=0;_<O.length;++_)O[_]=C[_].listener||C[_];return O}y(x,"unwrapListeners");function S(C,O){return new Promise(function(_,k){function M(D){C.removeListener(O,P),k(D)}y(M,"errorListener");function P(){typeof C.removeListener=="function"&&C.removeListener("error",M),_([].slice.call(arguments))}y(P,"resolver"),L(C,O,P,{once:!0}),O!=="error"&&A(C,M,{once:!0})})}y(S,"once");function A(C,O,_){typeof C.on=="function"&&L(C,"error",O,_)}y(A,"addErrorHandlerIfEventEmitter");function L(C,O,_,k){if(typeof C.on=="function")k.once?C.once(O,_):C.on(O,_);else if(typeof C.addEventListener=="function")C.addEventListener(O,y(function M(P){k.once&&C.removeEventListener(O,M),_(P)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}y(L,"eventTargetAgnosticAddListener")}),Uo={};Pt(Uo,{default:()=>Ou});var Ou,Fr=ht(()=>{ue(),Ou={}});function So(t){let e=1779033703,n=3144134277,o=1013904242,r=2773480762,s=1359893119,i=2600822924,a=528734635,l=1541459225,d=0,u=0,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=y((x,S)=>x>>>S|x<<32-S,"rrot"),b=new Uint32Array(64),h=new Uint8Array(64),g=y(()=>{for(let M=0,P=0;M<16;M++,P+=4)b[M]=h[P]<<24|h[P+1]<<16|h[P+2]<<8|h[P+3];for(let M=16;M<64;M++){let P=p(b[M-15],7)^p(b[M-15],18)^b[M-15]>>>3,D=p(b[M-2],17)^p(b[M-2],19)^b[M-2]>>>10;b[M]=b[M-16]+P+b[M-7]+D|0}let x=e,S=n,A=o,L=r,C=s,O=i,_=a,k=l;for(let M=0;M<64;M++){let P=p(C,6)^p(C,11)^p(C,25),D=C&O^~C&_,H=k+P+D+f[M]+b[M]|0,F=p(x,2)^p(x,13)^p(x,22),U=x&S^x&A^S&A,K=F+U|0;k=_,_=O,O=C,C=L+H|0,L=A,A=S,S=x,x=H+K|0}e=e+x|0,n=n+S|0,o=o+A|0,r=r+L|0,s=s+C|0,i=i+O|0,a=a+_|0,l=l+k|0,u=0},"process"),w=y(x=>{typeof x=="string"&&(x=new TextEncoder().encode(x));for(let S=0;S<x.length;S++)h[u++]=x[S],u===64&&g();d+=x.length},"add"),E=y(()=>{if(h[u++]=128,u==64&&g(),u+8>64){for(;u<64;)h[u++]=0;g()}for(;u<58;)h[u++]=0;let x=d*8;h[u++]=x/1099511627776&255,h[u++]=x/4294967296&255,h[u++]=x>>>24,h[u++]=x>>>16&255,h[u++]=x>>>8&255,h[u++]=x&255,g();let S=new Uint8Array(32);return S[0]=e>>>24,S[1]=e>>>16&255,S[2]=e>>>8&255,S[3]=e&255,S[4]=n>>>24,S[5]=n>>>16&255,S[6]=n>>>8&255,S[7]=n&255,S[8]=o>>>24,S[9]=o>>>16&255,S[10]=o>>>8&255,S[11]=o&255,S[12]=r>>>24,S[13]=r>>>16&255,S[14]=r>>>8&255,S[15]=r&255,S[16]=s>>>24,S[17]=s>>>16&255,S[18]=s>>>8&255,S[19]=s&255,S[20]=i>>>24,S[21]=i>>>16&255,S[22]=i>>>8&255,S[23]=i&255,S[24]=a>>>24,S[25]=a>>>16&255,S[26]=a>>>8&255,S[27]=a&255,S[28]=l>>>24,S[29]=l>>>16&255,S[30]=l>>>8&255,S[31]=l&255,S},"digest");return t===void 0?{add:w,digest:E}:(w(t),E())}var Tm=ht(()=>{ue(),y(So,"sha256")}),Wt,zs,Bm=ht(()=>{ue(),Wt=class kt{constructor(){pe(this,"_dataLength",0),pe(this,"_bufferLength",0),pe(this,"_state",new Int32Array(4)),pe(this,"_buffer",new ArrayBuffer(68)),pe(this,"_buffer8"),pe(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,n=!1){return this.onePassHasher.start().appendByteArray(e).end(n)}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){let n=kt.hexChars,o=kt.hexOut,r,s,i,a;for(a=0;a<4;a+=1)for(s=a*8,r=e[a],i=0;i<8;i+=2)o[s+1+i]=n.charAt(r&15),r>>>=4,o[s+0+i]=n.charAt(r&15),r>>>=4;return o.join("")}static _md5cycle(e,n){let o=e[0],r=e[1],s=e[2],i=e[3];o+=(r&s|~r&i)+n[0]-680876936|0,o=(o<<7|o>>>25)+r|0,i+=(o&r|~o&s)+n[1]-389564586|0,i=(i<<12|i>>>20)+o|0,s+=(i&o|~i&r)+n[2]+606105819|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&o)+n[3]-1044525330|0,r=(r<<22|r>>>10)+s|0,o+=(r&s|~r&i)+n[4]-176418897|0,o=(o<<7|o>>>25)+r|0,i+=(o&r|~o&s)+n[5]+1200080426|0,i=(i<<12|i>>>20)+o|0,s+=(i&o|~i&r)+n[6]-1473231341|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&o)+n[7]-45705983|0,r=(r<<22|r>>>10)+s|0,o+=(r&s|~r&i)+n[8]+1770035416|0,o=(o<<7|o>>>25)+r|0,i+=(o&r|~o&s)+n[9]-1958414417|0,i=(i<<12|i>>>20)+o|0,s+=(i&o|~i&r)+n[10]-42063|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&o)+n[11]-1990404162|0,r=(r<<22|r>>>10)+s|0,o+=(r&s|~r&i)+n[12]+1804603682|0,o=(o<<7|o>>>25)+r|0,i+=(o&r|~o&s)+n[13]-40341101|0,i=(i<<12|i>>>20)+o|0,s+=(i&o|~i&r)+n[14]-1502002290|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&o)+n[15]+1236535329|0,r=(r<<22|r>>>10)+s|0,o+=(r&i|s&~i)+n[1]-165796510|0,o=(o<<5|o>>>27)+r|0,i+=(o&s|r&~s)+n[6]-1069501632|0,i=(i<<9|i>>>23)+o|0,s+=(i&r|o&~r)+n[11]+643717713|0,s=(s<<14|s>>>18)+i|0,r+=(s&o|i&~o)+n[0]-373897302|0,r=(r<<20|r>>>12)+s|0,o+=(r&i|s&~i)+n[5]-701558691|0,o=(o<<5|o>>>27)+r|0,i+=(o&s|r&~s)+n[10]+38016083|0,i=(i<<9|i>>>23)+o|0,s+=(i&r|o&~r)+n[15]-660478335|0,s=(s<<14|s>>>18)+i|0,r+=(s&o|i&~o)+n[4]-405537848|0,r=(r<<20|r>>>12)+s|0,o+=(r&i|s&~i)+n[9]+568446438|0,o=(o<<5|o>>>27)+r|0,i+=(o&s|r&~s)+n[14]-1019803690|0,i=(i<<9|i>>>23)+o|0,s+=(i&r|o&~r)+n[3]-187363961|0,s=(s<<14|s>>>18)+i|0,r+=(s&o|i&~o)+n[8]+1163531501|0,r=(r<<20|r>>>12)+s|0,o+=(r&i|s&~i)+n[13]-1444681467|0,o=(o<<5|o>>>27)+r|0,i+=(o&s|r&~s)+n[2]-51403784|0,i=(i<<9|i>>>23)+o|0,s+=(i&r|o&~r)+n[7]+1735328473|0,s=(s<<14|s>>>18)+i|0,r+=(s&o|i&~o)+n[12]-1926607734|0,r=(r<<20|r>>>12)+s|0,o+=(r^s^i)+n[5]-378558|0,o=(o<<4|o>>>28)+r|0,i+=(o^r^s)+n[8]-2022574463|0,i=(i<<11|i>>>21)+o|0,s+=(i^o^r)+n[11]+1839030562|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^o)+n[14]-35309556|0,r=(r<<23|r>>>9)+s|0,o+=(r^s^i)+n[1]-1530992060|0,o=(o<<4|o>>>28)+r|0,i+=(o^r^s)+n[4]+1272893353|0,i=(i<<11|i>>>21)+o|0,s+=(i^o^r)+n[7]-155497632|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^o)+n[10]-1094730640|0,r=(r<<23|r>>>9)+s|0,o+=(r^s^i)+n[13]+681279174|0,o=(o<<4|o>>>28)+r|0,i+=(o^r^s)+n[0]-358537222|0,i=(i<<11|i>>>21)+o|0,s+=(i^o^r)+n[3]-722521979|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^o)+n[6]+76029189|0,r=(r<<23|r>>>9)+s|0,o+=(r^s^i)+n[9]-640364487|0,o=(o<<4|o>>>28)+r|0,i+=(o^r^s)+n[12]-421815835|0,i=(i<<11|i>>>21)+o|0,s+=(i^o^r)+n[15]+530742520|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^o)+n[2]-995338651|0,r=(r<<23|r>>>9)+s|0,o+=(s^(r|~i))+n[0]-198630844|0,o=(o<<6|o>>>26)+r|0,i+=(r^(o|~s))+n[7]+1126891415|0,i=(i<<10|i>>>22)+o|0,s+=(o^(i|~r))+n[14]-1416354905|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~o))+n[5]-57434055|0,r=(r<<21|r>>>11)+s|0,o+=(s^(r|~i))+n[12]+1700485571|0,o=(o<<6|o>>>26)+r|0,i+=(r^(o|~s))+n[3]-1894986606|0,i=(i<<10|i>>>22)+o|0,s+=(o^(i|~r))+n[10]-1051523|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~o))+n[1]-2054922799|0,r=(r<<21|r>>>11)+s|0,o+=(s^(r|~i))+n[8]+1873313359|0,o=(o<<6|o>>>26)+r|0,i+=(r^(o|~s))+n[15]-30611744|0,i=(i<<10|i>>>22)+o|0,s+=(o^(i|~r))+n[6]-1560198380|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~o))+n[13]+1309151649|0,r=(r<<21|r>>>11)+s|0,o+=(s^(r|~i))+n[4]-145523070|0,o=(o<<6|o>>>26)+r|0,i+=(r^(o|~s))+n[11]-1120210379|0,i=(i<<10|i>>>22)+o|0,s+=(o^(i|~r))+n[2]+718787259|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~o))+n[9]-343485551|0,r=(r<<21|r>>>11)+s|0,e[0]=o+e[0]|0,e[1]=r+e[1]|0,e[2]=s+e[2]|0,e[3]=i+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(kt.stateIdentity),this}appendStr(e){let n=this._buffer8,o=this._buffer32,r=this._bufferLength,s,i;for(i=0;i<e.length;i+=1){if(s=e.charCodeAt(i),s<128)n[r++]=s;else if(s<2048)n[r++]=(s>>>6)+192,n[r++]=s&63|128;else if(s<55296||s>56319)n[r++]=(s>>>12)+224,n[r++]=s>>>6&63|128,n[r++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++i)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[r++]=(s>>>18)+240,n[r++]=s>>>12&63|128,n[r++]=s>>>6&63|128,n[r++]=s&63|128}r>=64&&(this._dataLength+=64,kt._md5cycle(this._state,o),r-=64,o[0]=o[16])}return this._bufferLength=r,this}appendAsciiStr(e){let n=this._buffer8,o=this._buffer32,r=this._bufferLength,s,i=0;for(;;){for(s=Math.min(e.length-i,64-r);s--;)n[r++]=e.charCodeAt(i++);if(r<64)break;this._dataLength+=64,kt._md5cycle(this._state,o),r=0}return this._bufferLength=r,this}appendByteArray(e){let n=this._buffer8,o=this._buffer32,r=this._bufferLength,s,i=0;for(;;){for(s=Math.min(e.length-i,64-r);s--;)n[r++]=e[i++];if(r<64)break;this._dataLength+=64,kt._md5cycle(this._state,o),r=0}return this._bufferLength=r,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let n=e.buffer,o=e.state,r=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)}end(e=!1){let n=this._bufferLength,o=this._buffer8,r=this._buffer32,s=(n>>2)+1;this._dataLength+=n;let i=this._dataLength*8;if(o[n]=128,o[n+1]=o[n+2]=o[n+3]=0,r.set(kt.buffer32Identity.subarray(s),s),n>55&&(kt._md5cycle(this._state,r),r.set(kt.buffer32Identity)),i<=4294967295)r[14]=i;else{let a=i.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let l=parseInt(a[2],16),d=parseInt(a[1],16)||0;r[14]=l,r[15]=d}return kt._md5cycle(this._state,r),e?this._state:kt._hex(this._state)}},y(Wt,"Md5"),pe(Wt,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),pe(Wt,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),pe(Wt,"hexChars","0123456789abcdef"),pe(Wt,"hexOut",[]),pe(Wt,"onePassHasher",new Wt),zs=Wt}),Si={};Pt(Si,{createHash:()=>Lu,createHmac:()=>Ru,randomBytes:()=>Pu});function Pu(t){return et.getRandomValues(fe.alloc(t))}function Lu(t){if(t==="sha256")return{update:y(function(e){return{digest:y(function(){return fe.from(So(e))},"digest")}},"update")};if(t==="md5")return{update:y(function(e){return{digest:y(function(){return typeof e=="string"?zs.hashStr(e):zs.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function Ru(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:y(function(n){return{digest:y(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof n=="string"&&(n=new TextEncoder().encode(n));let o=e.length;if(o>64)e=So(e);else if(o<64){let l=new Uint8Array(64);l.set(e),e=l}let r=new Uint8Array(64),s=new Uint8Array(64);for(let l=0;l<64;l++)r[l]=54^e[l],s[l]=92^e[l];let i=new Uint8Array(n.length+64);i.set(r,0),i.set(n,64);let a=new Uint8Array(96);return a.set(s,0),a.set(So(i),64),fe.from(So(a))},"digest")}},"update")}}var Nu=ht(()=>{ue(),Tm(),Bm(),y(Pu,"randomBytes"),y(Lu,"createHash"),y(Ru,"createHmac")}),Du=we(t=>{ue(),t.parse=function(r,s){return new n(r,s).parse()};var e=class Fu{constructor(s,i){this.source=s,this.transform=i||o,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var s=this.source[this.position++];return s==="\\"?{value:this.source[this.position++],escaped:!0}:{value:s,escaped:!1}}record(s){this.recorded.push(s)}newEntry(s){var i;(this.recorded.length>0||s)&&(i=this.recorded.join(""),i==="NULL"&&!s&&(i=null),i!==null&&(i=this.transform(i)),this.entries.push(i),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var s=this.nextCharacter();if(s.value==="=")break}}parse(s){var i,a,l;for(this.consumeDimensions();!this.isEof();)if(i=this.nextCharacter(),i.value==="{"&&!l)this.dimension++,this.dimension>1&&(a=new Fu(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(i.value==="}"&&!l){if(this.dimension--,!this.dimension&&(this.newEntry(),s))return this.entries}else i.value==='"'&&!i.escaped?(l&&this.newEntry(!0),l=!l):i.value===","&&!l?this.newEntry():this.record(i.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};y(e,"ArrayParser");var n=e;function o(r){return r}y(o,"identity")}),ju=we((t,e)=>{ue();var n=Du();e.exports={create:y(function(o,r){return{parse:y(function(){return n.parse(o,r)},"parse")}},"create")}}),Im=we((t,e)=>{ue();var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,o=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,r=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,s=/^-?infinity$/;e.exports=y(function(u){if(s.test(u))return Number(u.replace("i","I"));var f=n.exec(u);if(!f)return i(u)||null;var p=!!f[8],b=parseInt(f[1],10);p&&(b=l(b));var h=parseInt(f[2],10)-1,g=f[3],w=parseInt(f[4],10),E=parseInt(f[5],10),x=parseInt(f[6],10),S=f[7];S=S?1e3*parseFloat(S):0;var A,L=a(u);return L!=null?(A=new Date(Date.UTC(b,h,g,w,E,x,S)),d(b)&&A.setUTCFullYear(b),L!==0&&A.setTime(A.getTime()-L)):(A=new Date(b,h,g,w,E,x,S),d(b)&&A.setFullYear(b)),A},"parseDate");function i(u){var f=o.exec(u);if(f){var p=parseInt(f[1],10),b=!!f[4];b&&(p=l(p));var h=parseInt(f[2],10)-1,g=f[3],w=new Date(p,h,g);return d(p)&&w.setFullYear(p),w}}y(i,"getDate");function a(u){if(u.endsWith("+00"))return 0;var f=r.exec(u.split(" ")[1]);if(f){var p=f[1];if(p==="Z")return 0;var b=p==="-"?-1:1,h=parseInt(f[2],10)*3600+parseInt(f[3]||0,10)*60+parseInt(f[4]||0,10);return h*b*1e3}}y(a,"timeZoneOffset");function l(u){return-(u-1)}y(l,"bcYearToNegativeYear");function d(u){return u>=0&&u<100}y(d,"is0To99")}),Am=we((t,e)=>{ue(),e.exports=o;var n=Object.prototype.hasOwnProperty;function o(r){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)n.call(i,a)&&(r[a]=i[a])}return r}y(o,"extend")}),Mm=we((t,e)=>{ue();var n=Am();e.exports=o;function o(x){if(!(this instanceof o))return new o(x);n(this,E(x))}y(o,"PostgresInterval");var r=["seconds","minutes","hours","days","months","years"];o.prototype.toPostgres=function(){var x=r.filter(this.hasOwnProperty,this);return this.milliseconds&&x.indexOf("seconds")<0&&x.push("seconds"),x.length===0?"0":x.map(function(S){var A=this[S]||0;return S==="seconds"&&this.milliseconds&&(A=(A+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),A+" "+S},this).join(" ")};var s={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},i=["years","months","days"],a=["hours","minutes","seconds"];o.prototype.toISOString=o.prototype.toISO=function(){var x=i.map(A,this).join(""),S=a.map(A,this).join("");return"P"+x+"T"+S;function A(L){var C=this[L]||0;return L==="seconds"&&this.milliseconds&&(C=(C+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),C+s[L]}};var l="([+-]?\\d+)",d=l+"\\s+years?",u=l+"\\s+mons?",f=l+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",b=new RegExp([d,u,f,p].map(function(x){return"("+x+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},g=["hours","minutes","seconds","milliseconds"];function w(x){var S=x+"000000".slice(x.length);return parseInt(S,10)/1e3}y(w,"parseMilliseconds");function E(x){if(!x)return{};var S=b.exec(x),A=S[8]==="-";return Object.keys(h).reduce(function(L,C){var O=h[C],_=S[O];return!_||(_=C==="milliseconds"?w(_):parseInt(_,10),!_)||(A&&~g.indexOf(C)&&(_*=-1),L[C]=_),L},{})}y(E,"parse")}),Om=we((t,e)=>{ue(),e.exports=y(function(n){if(/^\\x/.test(n))return new fe(n.substr(2),"hex");for(var o="",r=0;r<n.length;)if(n[r]!=="\\")o+=n[r],++r;else if(/[0-7]{3}/.test(n.substr(r+1,3)))o+=String.fromCharCode(parseInt(n.substr(r+1,3),8)),r+=4;else{for(var s=1;r+s<n.length&&n[r+s]==="\\";)s++;for(var i=0;i<Math.floor(s/2);++i)o+="\\";r+=Math.floor(s/2)*2}return new fe(o,"binary")},"parseBytea")}),Pm=we((t,e)=>{ue();var n=Du(),o=ju(),r=Im(),s=Mm(),i=Om();function a(k){return y(function(M){return M===null?M:k(M)},"nullAllowed")}y(a,"allowNull");function l(k){return k===null?k:k==="TRUE"||k==="t"||k==="true"||k==="y"||k==="yes"||k==="on"||k==="1"}y(l,"parseBool");function d(k){return k?n.parse(k,l):null}y(d,"parseBoolArray");function u(k){return parseInt(k,10)}y(u,"parseBaseTenInt");function f(k){return k?n.parse(k,a(u)):null}y(f,"parseIntegerArray");function p(k){return k?n.parse(k,a(function(M){return A(M).trim()})):null}y(p,"parseBigIntegerArray");var b=y(function(k){if(!k)return null;var M=o.create(k,function(P){return P!==null&&(P=C(P)),P});return M.parse()},"parsePointArray"),h=y(function(k){if(!k)return null;var M=o.create(k,function(P){return P!==null&&(P=parseFloat(P)),P});return M.parse()},"parseFloatArray"),g=y(function(k){if(!k)return null;var M=o.create(k);return M.parse()},"parseStringArray"),w=y(function(k){if(!k)return null;var M=o.create(k,function(P){return P!==null&&(P=r(P)),P});return M.parse()},"parseDateArray"),E=y(function(k){if(!k)return null;var M=o.create(k,function(P){return P!==null&&(P=s(P)),P});return M.parse()},"parseIntervalArray"),x=y(function(k){return k?n.parse(k,a(i)):null},"parseByteAArray"),S=y(function(k){return parseInt(k,10)},"parseInteger"),A=y(function(k){var M=String(k);return/^\d+$/.test(M)?M:k},"parseBigInteger"),L=y(function(k){return k?n.parse(k,a(JSON.parse)):null},"parseJsonArray"),C=y(function(k){return k[0]!=="("?null:(k=k.substring(1,k.length-1).split(","),{x:parseFloat(k[0]),y:parseFloat(k[1])})},"parsePoint"),O=y(function(k){if(k[0]!=="<"&&k[1]!=="(")return null;for(var M="(",P="",D=!1,H=2;H<k.length-1;H++){if(D||(M+=k[H]),k[H]===")"){D=!0;continue}else if(!D)continue;k[H]!==","&&(P+=k[H])}var F=C(M);return F.radius=parseFloat(P),F},"parseCircle"),_=y(function(k){k(20,A),k(21,S),k(23,S),k(26,S),k(700,parseFloat),k(701,parseFloat),k(16,l),k(1082,r),k(1114,r),k(1184,r),k(600,C),k(651,g),k(718,O),k(1e3,d),k(1001,x),k(1005,f),k(1007,f),k(1028,f),k(1016,p),k(1017,b),k(1021,h),k(1022,h),k(1231,h),k(1014,g),k(1015,g),k(1008,g),k(1009,g),k(1040,g),k(1041,g),k(1115,w),k(1182,w),k(1185,w),k(1186,s),k(1187,E),k(17,i),k(114,JSON.parse.bind(JSON)),k(3802,JSON.parse.bind(JSON)),k(199,L),k(3807,L),k(3907,g),k(2951,g),k(791,g),k(1183,g),k(1270,g)},"init");e.exports={init:_}}),Lm=we((t,e)=>{ue();var n=1e6;function o(r){var s=r.readInt32BE(0),i=r.readUInt32BE(4),a="";s<0&&(s=~s+(i===0),i=~i+1>>>0,a="-");var l="",d,u,f,p,b,h;{if(d=s%n,s=s/n>>>0,u=4294967296*d+i,i=u/n>>>0,f=""+(u-n*i),i===0&&s===0)return a+f+l;for(p="",b=6-f.length,h=0;h<b;h++)p+="0";l=p+f+l}{if(d=s%n,s=s/n>>>0,u=4294967296*d+i,i=u/n>>>0,f=""+(u-n*i),i===0&&s===0)return a+f+l;for(p="",b=6-f.length,h=0;h<b;h++)p+="0";l=p+f+l}{if(d=s%n,s=s/n>>>0,u=4294967296*d+i,i=u/n>>>0,f=""+(u-n*i),i===0&&s===0)return a+f+l;for(p="",b=6-f.length,h=0;h<b;h++)p+="0";l=p+f+l}return d=s%n,u=4294967296*d+i,f=""+u%n,a+f+l}y(o,"readInt8"),e.exports=o}),Rm=we((t,e)=>{ue();var n=Lm(),o=y(function(g,w,E,x,S){E=E||0,x=x||!1,S=S||function(D,H,F){return D*Math.pow(2,F)+H};var A=E>>3,L=y(function(D){return x?~D&255:D},"inv"),C=255,O=8-E%8;w<O&&(C=255<<8-w&255,O=w),E&&(C=C>>E%8);var _=0;E%8+w>=8&&(_=S(0,L(g[A])&C,O));for(var k=w+E>>3,M=A+1;M<k;M++)_=S(_,L(g[M]),8);var P=(w+E)%8;return P>0&&(_=S(_,L(g[k])>>8-P,P)),_},"parseBits"),r=y(function(g,w,E){var x=Math.pow(2,E-1)-1,S=o(g,1),A=o(g,E,1);if(A===0)return 0;var L=1,C=y(function(_,k,M){_===0&&(_=1);for(var P=1;P<=M;P++)L/=2,(k&1<<M-P)>0&&(_+=L);return _},"parsePrecisionBits"),O=o(g,w,E+1,!1,C);return A==Math.pow(2,E+1)-1?O===0?S===0?1/0:-1/0:NaN:(S===0?1:-1)*Math.pow(2,A-x)*O},"parseFloatFromBits"),s=y(function(g){return o(g,1)==1?-1*(o(g,15,1,!0)+1):o(g,15,1)},"parseInt16"),i=y(function(g){return o(g,1)==1?-1*(o(g,31,1,!0)+1):o(g,31,1)},"parseInt32"),a=y(function(g){return r(g,23,8)},"parseFloat32"),l=y(function(g){return r(g,52,11)},"parseFloat64"),d=y(function(g){var w=o(g,16,32);if(w==49152)return NaN;for(var E=Math.pow(1e4,o(g,16,16)),x=0,S=[],A=o(g,16),L=0;L<A;L++)x+=o(g,16,64+16*L)*E,E/=1e4;var C=Math.pow(10,o(g,16,48));return(w===0?1:-1)*Math.round(x*C)/C},"parseNumeric"),u=y(function(g,w){var E=o(w,1),x=o(w,63,1),S=new Date((E===0?1:-1)*x/1e3+9466848e5);return g||S.setTime(S.getTime()+S.getTimezoneOffset()*6e4),S.usec=x%1e3,S.getMicroSeconds=function(){return this.usec},S.setMicroSeconds=function(A){this.usec=A},S.getUTCMicroSeconds=function(){return this.usec},S},"parseDate"),f=y(function(g){for(var w=o(g,32),E=o(g,32,32),x=o(g,32,64),S=96,A=[],L=0;L<w;L++)A[L]=o(g,32,S),S+=32,S+=32;var C=y(function(_){var k=o(g,32,S);if(S+=32,k==4294967295)return null;var M;if(_==23||_==20)return M=o(g,k*8,S),S+=k*8,M;if(_==25)return M=g.toString(this.encoding,S>>3,(S+=k<<3)>>3),M;console.log("ERROR: ElementType not implemented: "+_)},"parseElement"),O=y(function(_,k){var M=[],P;if(_.length>1){var D=_.shift();for(P=0;P<D;P++)M[P]=O(_,k);_.unshift(D)}else for(P=0;P<_[0];P++)M[P]=C(k);return M},"parse");return O(A,x)},"parseArray"),p=y(function(g){return g.toString("utf8")},"parseText"),b=y(function(g){return g===null?null:o(g,8)>0},"parseBool"),h=y(function(g){g(20,n),g(21,s),g(23,i),g(26,i),g(1700,d),g(700,a),g(701,l),g(16,b),g(1114,u.bind(null,!1)),g(1184,u.bind(null,!0)),g(1e3,f),g(1007,f),g(1016,f),g(1008,f),g(1009,f),g(25,p)},"init");e.exports={init:h}}),Nm=we((t,e)=>{ue(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),jr=we(t=>{ue();var e=Pm(),n=Rm(),o=ju(),r=Nm();t.getTypeParser=a,t.setTypeParser=l,t.arrayParser=o,t.builtins=r;var s={text:{},binary:{}};function i(d){return String(d)}y(i,"noParse");function a(d,u){return u=u||"text",s[u]&&s[u][d]||i}y(a,"getTypeParser");function l(d,u,f){typeof u=="function"&&(f=u,u="text"),s[u][d]=f}y(l,"setTypeParser"),e.init(function(d,u){s.text[d]=u}),n.init(function(d,u){s.binary[d]=u})}),$r=we((t,e)=>{ue(),e.exports={host:"localhost",user:ye.platform==="win32"?ye.env.USERNAME:ye.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=jr(),o=n.getTypeParser(20,"text"),r=n.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(s){n.setTypeParser(20,"text",s?n.getTypeParser(23,"text"):o),n.setTypeParser(1016,"text",s?n.getTypeParser(1007,"text"):r)})}),Hr=we((t,e)=>{ue();var n=(Nu(),Ge(Si)),o=$r();function r(h){var g=h.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+g+'"'}y(r,"escapeElement");function s(h){for(var g="{",w=0;w<h.length;w++)w>0&&(g=g+","),h[w]===null||typeof h[w]>"u"?g=g+"NULL":Array.isArray(h[w])?g=g+s(h[w]):h[w]instanceof fe?g+="\\\\x"+h[w].toString("hex"):g+=r(i(h[w]));return g=g+"}",g}y(s,"arrayString");var i=y(function(h,g){if(h==null)return null;if(h instanceof fe)return h;if(ArrayBuffer.isView(h)){var w=fe.from(h.buffer,h.byteOffset,h.byteLength);return w.length===h.byteLength?w:w.slice(h.byteOffset,h.byteOffset+h.byteLength)}return h instanceof Date?o.parseInputDatesAsUTC?u(h):d(h):Array.isArray(h)?s(h):typeof h=="object"?a(h,g):h.toString()},"prepareValue");function a(h,g){if(h&&typeof h.toPostgres=="function"){if(g=g||[],g.indexOf(h)!==-1)throw new Error('circular reference detected while preparing "'+h+'" for query');return g.push(h),i(h.toPostgres(i),g)}return JSON.stringify(h)}y(a,"prepareObject");function l(h,g){for(h=""+h;h.length<g;)h="0"+h;return h}y(l,"pad");function d(h){var g=-h.getTimezoneOffset(),w=h.getFullYear(),E=w<1;E&&(w=Math.abs(w)+1);var x=l(w,4)+"-"+l(h.getMonth()+1,2)+"-"+l(h.getDate(),2)+"T"+l(h.getHours(),2)+":"+l(h.getMinutes(),2)+":"+l(h.getSeconds(),2)+"."+l(h.getMilliseconds(),3);return g<0?(x+="-",g*=-1):x+="+",x+=l(Math.floor(g/60),2)+":"+l(g%60,2),E&&(x+=" BC"),x}y(d,"dateToString");function u(h){var g=h.getUTCFullYear(),w=g<1;w&&(g=Math.abs(g)+1);var E=l(g,4)+"-"+l(h.getUTCMonth()+1,2)+"-"+l(h.getUTCDate(),2)+"T"+l(h.getUTCHours(),2)+":"+l(h.getUTCMinutes(),2)+":"+l(h.getUTCSeconds(),2)+"."+l(h.getUTCMilliseconds(),3);return E+="+00:00",w&&(E+=" BC"),E}y(u,"dateToStringUTC");function f(h,g,w){return h=typeof h=="string"?{text:h}:h,g&&(typeof g=="function"?h.callback=g:h.values=g),w&&(h.callback=w),h}y(f,"normalizeQueryConfig");var p=y(function(h){return n.createHash("md5").update(h,"utf-8").digest("hex")},"md5"),b=y(function(h,g,w){var E=p(g+h),x=p(fe.concat([fe.from(E),w]));return"md5"+x},"postgresMd5PasswordHash");e.exports={prepareValue:y(function(h){return i(h)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:b,md5:p}}),Dm=we((t,e)=>{ue();var n=(Nu(),Ge(Si));function o(g){if(g.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let w=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:w,response:"n,,n=*,r="+w,message:"SASLInitialResponse"}}y(o,"startSession");function r(g,w,E){if(g.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof w!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof E!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let x=d(E);if(x.nonce.startsWith(g.clientNonce)){if(x.nonce.length===g.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var S=fe.from(x.salt,"base64"),A=h(w,S,x.iteration),L=b(A,"Client Key"),C=p(L),O="n=*,r="+g.clientNonce,_="r="+x.nonce+",s="+x.salt+",i="+x.iteration,k="c=biws,r="+x.nonce,M=O+","+_+","+k,P=b(C,M),D=f(L,P),H=D.toString("base64"),F=b(A,"Server Key"),U=b(F,M);g.message="SASLResponse",g.serverSignature=U.toString("base64"),g.response=k+",p="+H}y(r,"continueSession");function s(g,w){if(g.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof w!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:E}=u(w);if(E!==g.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}y(s,"finalizeSession");function i(g){if(typeof g!="string")throw new TypeError("SASL: text must be a string");return g.split("").map((w,E)=>g.charCodeAt(E)).every(w=>w>=33&&w<=43||w>=45&&w<=126)}y(i,"isPrintableChars");function a(g){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(g)}y(a,"isBase64");function l(g){if(typeof g!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(g.split(",").map(w=>{if(!/^.=/.test(w))throw new Error("SASL: Invalid attribute pair entry");let E=w[0],x=w.substring(2);return[E,x]}))}y(l,"parseAttributePairs");function d(g){let w=l(g),E=w.get("r");if(E){if(!i(E))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let x=w.get("s");if(x){if(!a(x))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let S=w.get("i");if(S){if(!/^[1-9][0-9]*$/.test(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let A=parseInt(S,10);return{nonce:E,salt:x,iteration:A}}y(d,"parseServerFirstMessage");function u(g){let w=l(g).get("v");if(w){if(!a(w))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:w}}y(u,"parseServerFinalMessage");function f(g,w){if(!fe.isBuffer(g))throw new TypeError("first argument must be a Buffer");if(!fe.isBuffer(w))throw new TypeError("second argument must be a Buffer");if(g.length!==w.length)throw new Error("Buffer lengths must match");if(g.length===0)throw new Error("Buffers cannot be empty");return fe.from(g.map((E,x)=>g[x]^w[x]))}y(f,"xorBuffers");function p(g){return n.createHash("sha256").update(g).digest()}y(p,"sha256");function b(g,w){return n.createHmac("sha256",g).update(w).digest()}y(b,"hmacSha256");function h(g,w,E){for(var x=b(g,fe.concat([w,fe.from([0,0,0,1])])),S=x,A=0;A<E-1;A++)x=b(g,x),S=f(S,x);return S}y(h,"Hi"),e.exports={startSession:o,continueSession:r,finalizeSession:s}}),Ci={};Pt(Ci,{join:()=>$u});function $u(...t){return t.join("/")}var Hu=ht(()=>{ue(),y($u,"join")}),_i={};Pt(_i,{stat:()=>Uu});function Uu(t,e){e(new Error("No filesystem"))}var zu=ht(()=>{ue(),y(Uu,"stat")}),Ti={};Pt(Ti,{default:()=>Wu});var Wu,Vu=ht(()=>{ue(),Wu={}}),qu={};Pt(qu,{StringDecoder:()=>Qu});var bs,Qu,Fm=ht(()=>{ue(),bs=class{constructor(e){pe(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},y(bs,"StringDecoder"),Qu=bs}),jm=we((t,e)=>{ue();var{Transform:n}=(Vu(),Ge(Ti)),{StringDecoder:o}=(Fm(),Ge(qu)),r=Symbol("last"),s=Symbol("decoder");function i(f,p,b){let h;if(this.overflow){if(h=this[s].write(f).split(this.matcher),h.length===1)return b();h.shift(),this.overflow=!1}else this[r]+=this[s].write(f),h=this[r].split(this.matcher);this[r]=h.pop();for(let g=0;g<h.length;g++)try{l(this,this.mapper(h[g]))}catch(w){return b(w)}if(this.overflow=this[r].length>this.maxLength,this.overflow&&!this.skipOverflow){b(new Error("maximum buffer reached"));return}b()}y(i,"transform");function a(f){if(this[r]+=this[s].end(),this[r])try{l(this,this.mapper(this[r]))}catch(p){return f(p)}f()}y(a,"flush");function l(f,p){p!==void 0&&f.push(p)}y(l,"push");function d(f){return f}y(d,"noop");function u(f,p,b){switch(f=f||/\r?\n/,p=p||d,b=b||{},arguments.length){case 1:typeof f=="function"?(p=f,f=/\r?\n/):typeof f=="object"&&!(f instanceof RegExp)&&!f[Symbol.split]&&(b=f,f=/\r?\n/);break;case 2:typeof f=="function"?(b=p,p=f,f=/\r?\n/):typeof p=="object"&&(b=p,p=d)}b=Object.assign({},b),b.autoDestroy=!0,b.transform=i,b.flush=a,b.readableObjectMode=!0;let h=new n(b);return h[r]="",h[s]=new o("utf8"),h.matcher=f,h.mapper=p,h.maxLength=b.maxLength,h.skipOverflow=b.skipOverflow||!1,h.overflow=!1,h._destroy=function(g,w){this._writableState.errorEmitted=!1,w(g)},h}y(u,"split"),e.exports=u}),$m=we((t,e)=>{ue();var n=(Hu(),Ge(Ci)),o=(Vu(),Ge(Ti)).Stream,r=jm(),s=(Fr(),Ge(Uo)),i=5432,a=ye.platform==="win32",l=ye.stderr,d=56,u=7,f=61440,p=32768;function b(L){return(L&f)==p}y(b,"isRegFile");var h=["host","port","database","user","password"],g=h.length,w=h[g-1];function E(){var L=l instanceof o&&l.writable===!0;if(L){var C=Array.prototype.slice.call(arguments).concat(`
`);l.write(s.format.apply(s,C))}}y(E,"warn"),Object.defineProperty(e.exports,"isWin",{get:y(function(){return a},"get"),set:y(function(L){a=L},"set")}),e.exports.warnTo=function(L){var C=l;return l=L,C},e.exports.getFileName=function(L){var C=L||ye.env,O=C.PGPASSFILE||(a?n.join(C.APPDATA||"./","postgresql","pgpass.conf"):n.join(C.HOME||"./",".pgpass"));return O},e.exports.usePgPass=function(L,C){return Object.prototype.hasOwnProperty.call(ye.env,"PGPASSWORD")?!1:a?!0:(C=C||"<unkn>",b(L.mode)?L.mode&(d|u)?(E('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',C),!1):!0:(E('WARNING: password file "%s" is not a plain file',C),!1))};var x=e.exports.match=function(L,C){return h.slice(0,-1).reduce(function(O,_,k){return k==1&&Number(L[_]||i)===Number(C[_])?O&&!0:O&&(C[_]==="*"||C[_]===L[_])},!0)};e.exports.getPassword=function(L,C,O){var _,k=C.pipe(r());function M(H){var F=S(H);F&&A(F)&&x(L,F)&&(_=F[w],k.end())}y(M,"onLine");var P=y(function(){C.destroy(),O(_)},"onEnd"),D=y(function(H){C.destroy(),E("WARNING: error on reading file: %s",H),O(void 0)},"onErr");C.on("error",D),k.on("data",M).on("end",P).on("error",D)};var S=e.exports.parseLine=function(L){if(L.length<11||L.match(/^\s+#/))return null;for(var C="",O="",_=0,k=0,M=0,P={},D=!1,H=y(function(U,K,G){var re=L.substring(K,G);Object.hasOwnProperty.call(ye.env,"PGPASS_NO_DEESCAPE")||(re=re.replace(/\\([:\\])/g,"$1")),P[h[U]]=re},"addToObj"),F=0;F<L.length-1;F+=1){if(C=L.charAt(F+1),O=L.charAt(F),D=_==g-1,D){H(_,k);break}F>=0&&C==":"&&O!=="\\"&&(H(_,k,F+1),k=F+2,_+=1)}return P=Object.keys(P).length===g?P:null,P},A=e.exports.isValidEntry=function(L){for(var C={0:function(P){return P.length>0},1:function(P){return P==="*"?!0:(P=Number(P),isFinite(P)&&P>0&&P<9007199254740992&&Math.floor(P)===P)},2:function(P){return P.length>0},3:function(P){return P.length>0},4:function(P){return P.length>0}},O=0;O<h.length;O+=1){var _=C[O],k=L[h[O]]||"",M=_(k);if(!M)return!1}return!0}}),Hm=we((t,e)=>{ue(),Hu(),Ge(Ci);var n=(zu(),Ge(_i)),o=$m();e.exports=function(r,s){var i=o.getFileName();n.stat(i,function(a,l){if(a||!o.usePgPass(l,i))return s(void 0);var d=n.createReadStream(i);o.getPassword(r,d,s)})},e.exports.warnTo=o.warnTo}),Bi=we((t,e)=>{ue();var n=jr();function o(r){this._types=r||n,this.text={},this.binary={}}y(o,"TypeOverrides"),o.prototype.getOverrides=function(r){switch(r){case"text":return this.text;case"binary":return this.binary;default:return{}}},o.prototype.setTypeParser=function(r,s,i){typeof s=="function"&&(i=s,s="text"),this.getOverrides(s)[r]=i},o.prototype.getTypeParser=function(r,s){return s=s||"text",this.getOverrides(s)[r]||this._types.getTypeParser(r,s)},e.exports=o}),Ku={};Pt(Ku,{default:()=>Gu});var Gu,Um=ht(()=>{ue(),Gu={}}),Yu={};Pt(Yu,{parse:()=>Ii});function Ii(t,e=!1){let{protocol:n}=new URL(t),o="http:"+t.substring(n.length),{username:r,password:s,host:i,hostname:a,port:l,pathname:d,search:u,searchParams:f,hash:p}=new URL(o);s=decodeURIComponent(s),r=decodeURIComponent(r),d=decodeURIComponent(d);let b=r+":"+s,h=e?Object.fromEntries(f.entries()):u;return{href:t,protocol:n,auth:b,username:r,password:s,host:i,hostname:a,port:l,pathname:d,search:u,query:h,hash:p}}var Zu=ht(()=>{ue(),y(Ii,"parse")}),zm=we((t,e)=>{ue();var n=(Zu(),Ge(Yu)),o=(zu(),Ge(_i));function r(s){if(s.charAt(0)==="/"){var a=s.split(" ");return{host:a[0],database:a[1]}}var i=n.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(s)?encodeURI(s).replace(/\%25(\d\d)/g,"%$1"):s,!0),a=i.query;for(var l in a)Array.isArray(a[l])&&(a[l]=a[l][a[l].length-1]);var d=(i.auth||":").split(":");if(a.user=d[0],a.password=d.splice(1).join(":"),a.port=i.port,i.protocol=="socket:")return a.host=decodeURI(i.pathname),a.database=i.query.db,a.client_encoding=i.query.encoding,a;a.host||(a.host=i.hostname);var u=i.pathname;if(!a.host&&u&&/^%2f/i.test(u)){var f=u.split("/");a.host=decodeURIComponent(f[0]),u=f.splice(1).join("/")}switch(u&&u.charAt(0)==="/"&&(u=u.slice(1)||null),a.database=u&&decodeURI(u),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=o.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=o.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=o.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}y(r,"parse"),e.exports=r,r.parse=r}),Ai=we((t,e)=>{ue();var n=(Um(),Ge(Ku)),o=$r(),r=zm().parse,s=y(function(f,p,b){return b===void 0?b=ye.env["PG"+f.toUpperCase()]:b===!1||(b=ye.env[b]),p[f]||b||o[f]},"val"),i=y(function(){switch(ye.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return o.ssl},"readSSLConfigFromEnvironment"),a=y(function(f){return"'"+(""+f).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=y(function(f,p,b){var h=p[b];h!=null&&f.push(b+"="+a(h))},"add"),d=class{constructor(p){p=typeof p=="string"?r(p):p||{},p.connectionString&&(p=Object.assign({},p,r(p.connectionString))),this.user=s("user",p),this.database=s("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(s("port",p),10),this.host=s("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",p)}),this.binary=s("binary",p),this.options=s("options",p),this.ssl=typeof p.ssl>"u"?i():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=s("client_encoding",p),this.replication=s("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",p,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",p,!1),this.statement_timeout=s("statement_timeout",p,!1),this.lock_timeout=s("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",p,!1),this.query_timeout=s("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=ye.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var b=[];l(b,this,"user"),l(b,this,"password"),l(b,this,"port"),l(b,this,"application_name"),l(b,this,"fallback_application_name"),l(b,this,"connect_timeout"),l(b,this,"options");var h=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(b,h,"sslmode"),l(b,h,"sslca"),l(b,h,"sslkey"),l(b,h,"sslcert"),l(b,h,"sslrootcert"),this.database&&b.push("dbname="+a(this.database)),this.replication&&b.push("replication="+a(this.replication)),this.host&&b.push("host="+a(this.host)),this.isDomainSocket)return p(null,b.join(" "));this.client_encoding&&b.push("client_encoding="+a(this.client_encoding)),n.lookup(this.host,function(g,w){return g?p(g,null):(b.push("hostaddr="+a(w)),p(null,b.join(" ")))})}};y(d,"ConnectionParameters");var u=d;e.exports=u}),Wm=we((t,e)=>{ue();var n=jr(),o=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,r=class{constructor(a,l){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=l,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var l;a.text?l=o.exec(a.text):l=o.exec(a.command),l&&(this.command=l[1],l[3]?(this.oid=parseInt(l[2],10),this.rowCount=parseInt(l[3],10)):l[2]&&(this.rowCount=parseInt(l[2],10)))}_parseRowAsArray(a){for(var l=new Array(a.length),d=0,u=a.length;d<u;d++){var f=a[d];f!==null?l[d]=this._parsers[d](f):l[d]=null}return l}parseRow(a){for(var l={},d=0,u=a.length;d<u;d++){var f=a[d],p=this.fields[d].name;f!==null?l[p]=this._parsers[d](f):l[p]=null}return l}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var l=0;l<a.length;l++){var d=a[l];this._types?this._parsers[l]=this._types.getTypeParser(d.dataTypeID,d.format||"text"):this._parsers[l]=n.getTypeParser(d.dataTypeID,d.format||"text")}}};y(r,"Result");var s=r;e.exports=s}),Vm=we((t,e)=>{ue();var{EventEmitter:n}=On(),o=Wm(),r=Hr(),s=class extends n{constructor(l,d,u){super(),l=r.normalizeQueryConfig(l,d,u),this.text=l.text,this.values=l.values,this.rows=l.rows,this.types=l.types,this.name=l.name,this.binary=l.binary,this.portal=l.portal||"",this.callback=l.callback,this._rowMode=l.rowMode,ye.domain&&l.callback&&(this.callback=ye.domain.bind(l.callback)),this._result=new o(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new o(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(l){this._checkForMultirow(),this._result.addFields(l.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(l){let d;if(!this._canceledDueToError){try{d=this._result.parseRow(l.fields)}catch(u){this._canceledDueToError=u;return}this.emit("row",d,this._result),this._accumulateRows&&this._result.addRow(d)}}handleCommandComplete(l,d){this._checkForMultirow(),this._result.addCommandComplete(l),this.rows&&d.sync()}handleEmptyQuery(l){this.rows&&l.sync()}handleError(l,d){if(this._canceledDueToError&&(l=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(l);this.emit("error",l)}handleReadyForQuery(l){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,l);if(this.callback)try{this.callback(null,this._results)}catch(d){ye.nextTick(()=>{throw d})}this.emit("end",this._results)}submit(l){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let d=l.parsedStatements[this.name];return this.text&&d&&this.text!==d?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(l):l.query(this.text),null)}hasBeenParsed(l){return this.name&&l.parsedStatements[this.name]}handlePortalSuspended(l){this._getRows(l,this.rows)}_getRows(l,d){l.execute({portal:this.portal,rows:d}),d?l.flush():l.sync()}prepare(l){this.isPreparedStatement=!0,this.hasBeenParsed(l)||l.parse({text:this.text,name:this.name,types:this.types});try{l.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:r.prepareValue})}catch(d){this.handleError(d,l);return}l.describe({type:"P",name:this.portal||""}),this._getRows(l,this.rows)}handleCopyInResponse(l){l.sendCopyFail("No source stream defined")}handleCopyData(l,d){}};y(s,"Query");var i=s;e.exports=i}),Xu={};Pt(Xu,{Socket:()=>Ur,isIP:()=>Ju});function Ju(t){return 0}var Rl,vs,ao,Ur,Mi=ht(()=>{ue(),Rl=eo(On(),1),y(Ju,"isIP"),vs=/^[^.]+\./,ao=class de extends Rl.EventEmitter{constructor(){super(...arguments),pe(this,"opts",{}),pe(this,"connecting",!1),pe(this,"pending",!0),pe(this,"writable",!0),pe(this,"encrypted",!1),pe(this,"authorized",!1),pe(this,"destroyed",!1),pe(this,"ws",null),pe(this,"writeBuffer"),pe(this,"tlsState",0),pe(this,"tlsRead"),pe(this,"tlsWrite")}static get poolQueryViaFetch(){return de.opts.poolQueryViaFetch??de.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){de.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return de.opts.fetchEndpoint??de.defaults.fetchEndpoint}static set fetchEndpoint(e){de.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return de.opts.fetchFunction??de.defaults.fetchFunction}static set fetchFunction(e){de.opts.fetchFunction=e}static get webSocketConstructor(){return de.opts.webSocketConstructor??de.defaults.webSocketConstructor}static set webSocketConstructor(e){de.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??de.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return de.opts.wsProxy??de.defaults.wsProxy}static set wsProxy(e){de.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??de.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return de.opts.coalesceWrites??de.defaults.coalesceWrites}static set coalesceWrites(e){de.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??de.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return de.opts.useSecureWebSocket??de.defaults.useSecureWebSocket}static set useSecureWebSocket(e){de.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??de.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return de.opts.forceDisablePgSSL??de.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){de.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??de.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return de.opts.disableSNI??de.defaults.disableSNI}static set disableSNI(e){de.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??de.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return de.opts.pipelineConnect??de.defaults.pipelineConnect}static set pipelineConnect(e){de.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??de.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return de.opts.subtls??de.defaults.subtls}static set subtls(e){de.opts.subtls=e}get subtls(){return this.opts.subtls??de.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return de.opts.pipelineTLS??de.defaults.pipelineTLS}static set pipelineTLS(e){de.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??de.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return de.opts.rootCerts??de.defaults.rootCerts}static set rootCerts(e){de.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??de.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,n){let o=this.wsProxy;if(o===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof o=="function"?o(e,n):`${o}?address=${e}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,n,o){this.connecting=!0,o&&this.once("connect",o);let r=y(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),s=y((a,l=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",d=>{this.emit("error",d),this.emit("close")}),a.addEventListener("message",d=>{if(this.tlsState===0){let u=fe.from(d.data);this.emit("data",u)}}),a.addEventListener("close",()=>{this.emit("close")}),l?r():a.addEventListener("open",r)},"configureWebSocket"),i;try{i=this.wsProxyAddrForHost(n,typeof e=="string"?parseInt(e,10):e)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+i;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),s(this.ws);else try{this.ws=new WebSocket(a),s(this.ws)}catch{this.ws=new __unstable_WebSocket(a),s(this.ws)}}catch(a){let l=(this.useSecureWebSocket?"https:":"http:")+"//"+i;fetch(l,{headers:{Upgrade:"websocket"}}).then(d=>{if(this.ws=d.webSocket,this.ws==null)throw a;this.ws.accept(),s(this.ws,!0)}).catch(d=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${d.message}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let n=this.subtls.TrustedCert.fromPEM(this.rootCerts),o=new this.subtls.WebSocketReadQueue(this.ws),r=o.read.bind(o),s=this.rawWrite.bind(this),[i,a]=await this.subtls.startTls(e,n,r,s,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=i,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let n=fe.from(e);this.emit("data",n)}}}rawWrite(e){if(!this.coalesceWrites){this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(this.writeBuffer.length+e.length);n.set(this.writeBuffer),n.set(e,this.writeBuffer.length),this.writeBuffer=n}}write(e,n="utf8",o=r=>{}){return e.length===0?(o(),!0):(typeof e=="string"&&(e=fe.from(e,n)),this.tlsState===0?(this.rawWrite(e),o()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,n,o)}):(this.tlsWrite(e),o()),!0)}end(e=fe.alloc(0),n="utf8",o=()=>{}){return this.write(e,n,()=>{this.ws.close(),o()}),this}destroy(){return this.destroyed=!0,this.end()}},y(ao,"Socket"),pe(ao,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:y((t,e,n)=>{let o;return n!=null&&n.jwtAuth?o=t.replace(vs,"apiauth."):o=t.replace(vs,"api."),"https://"+o+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:y(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),pe(ao,"opts",{}),Ur=ao}),ed=we(t=>{ue(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(F,U,K){super(F),this.length=U,this.name=K}};y(e,"DatabaseError");var n=e;t.DatabaseError=n;var o=class{constructor(F,U){this.length=F,this.chunk=U,this.name="copyData"}};y(o,"CopyDataMessage");var r=o;t.CopyDataMessage=r;var s=class{constructor(F,U,K,G){this.length=F,this.name=U,this.binary=K,this.columnTypes=new Array(G)}};y(s,"CopyResponse");var i=s;t.CopyResponse=i;var a=class{constructor(F,U,K,G,re,ge,Me){this.name=F,this.tableID=U,this.columnID=K,this.dataTypeID=G,this.dataTypeSize=re,this.dataTypeModifier=ge,this.format=Me}};y(a,"Field");var l=a;t.Field=l;var d=class{constructor(F,U){this.length=F,this.fieldCount=U,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};y(d,"RowDescriptionMessage");var u=d;t.RowDescriptionMessage=u;var f=class{constructor(F,U){this.length=F,this.parameterCount=U,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};y(f,"ParameterDescriptionMessage");var p=f;t.ParameterDescriptionMessage=p;var b=class{constructor(F,U,K){this.length=F,this.parameterName=U,this.parameterValue=K,this.name="parameterStatus"}};y(b,"ParameterStatusMessage");var h=b;t.ParameterStatusMessage=h;var g=class{constructor(F,U){this.length=F,this.salt=U,this.name="authenticationMD5Password"}};y(g,"AuthenticationMD5Password");var w=g;t.AuthenticationMD5Password=w;var E=class{constructor(F,U,K){this.length=F,this.processID=U,this.secretKey=K,this.name="backendKeyData"}};y(E,"BackendKeyDataMessage");var x=E;t.BackendKeyDataMessage=x;var S=class{constructor(F,U,K,G){this.length=F,this.processId=U,this.channel=K,this.payload=G,this.name="notification"}};y(S,"NotificationResponseMessage");var A=S;t.NotificationResponseMessage=A;var L=class{constructor(F,U){this.length=F,this.status=U,this.name="readyForQuery"}};y(L,"ReadyForQueryMessage");var C=L;t.ReadyForQueryMessage=C;var O=class{constructor(F,U){this.length=F,this.text=U,this.name="commandComplete"}};y(O,"CommandCompleteMessage");var _=O;t.CommandCompleteMessage=_;var k=class{constructor(F,U){this.length=F,this.fields=U,this.name="dataRow",this.fieldCount=U.length}};y(k,"DataRowMessage");var M=k;t.DataRowMessage=M;var P=class{constructor(F,U){this.length=F,this.message=U,this.name="notice"}};y(P,"NoticeMessage");var D=P;t.NoticeMessage=D}),qm=we(t=>{ue(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(r=256){this.size=r,this.offset=5,this.headerPosition=0,this.buffer=fe.allocUnsafe(r)}ensure(r){var s=this.buffer.length-this.offset;if(s<r){var i=this.buffer,a=i.length+(i.length>>1)+r;this.buffer=fe.allocUnsafe(a),i.copy(this.buffer)}}addInt32(r){return this.ensure(4),this.buffer[this.offset++]=r>>>24&255,this.buffer[this.offset++]=r>>>16&255,this.buffer[this.offset++]=r>>>8&255,this.buffer[this.offset++]=r>>>0&255,this}addInt16(r){return this.ensure(2),this.buffer[this.offset++]=r>>>8&255,this.buffer[this.offset++]=r>>>0&255,this}addCString(r){if(!r)this.ensure(1);else{var s=fe.byteLength(r);this.ensure(s+1),this.buffer.write(r,this.offset,"utf-8"),this.offset+=s}return this.buffer[this.offset++]=0,this}addString(r=""){var s=fe.byteLength(r);return this.ensure(s),this.buffer.write(r,this.offset),this.offset+=s,this}add(r){return this.ensure(r.length),r.copy(this.buffer,this.offset),this.offset+=r.length,this}join(r){if(r){this.buffer[this.headerPosition]=r;let s=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(s,this.headerPosition+1)}return this.buffer.slice(r?0:5,this.offset)}flush(r){var s=this.join(r);return this.offset=5,this.headerPosition=0,this.buffer=fe.allocUnsafe(this.size),s}};y(e,"Writer");var n=e;t.Writer=n}),Qm=we(t=>{ue(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=qm(),n=new e.Writer,o=y(F=>{n.addInt16(3).addInt16(0);for(let G of Object.keys(F))n.addCString(G).addCString(F[G]);n.addCString("client_encoding").addCString("UTF8");var U=n.addCString("").flush(),K=U.length+4;return new e.Writer().addInt32(K).add(U).flush()},"startup"),r=y(()=>{let F=fe.allocUnsafe(8);return F.writeInt32BE(8,0),F.writeInt32BE(80877103,4),F},"requestSsl"),s=y(F=>n.addCString(F).flush(112),"password"),i=y(function(F,U){return n.addCString(F).addInt32(fe.byteLength(U)).addString(U),n.flush(112)},"sendSASLInitialResponseMessage"),a=y(function(F){return n.addString(F).flush(112)},"sendSCRAMClientFinalMessage"),l=y(F=>n.addCString(F).flush(81),"query"),d=[],u=y(F=>{let U=F.name||"";U.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",U,U.length),console.error("This can cause conflicts and silent errors executing queries"));let K=F.types||d;for(var G=K.length,re=n.addCString(U).addCString(F.text).addInt16(G),ge=0;ge<G;ge++)re.addInt32(K[ge]);return n.flush(80)},"parse"),f=new e.Writer,p=y(function(F,U){for(let K=0;K<F.length;K++){let G=U?U(F[K],K):F[K];G==null?(n.addInt16(0),f.addInt32(-1)):G instanceof fe?(n.addInt16(1),f.addInt32(G.length),f.add(G)):(n.addInt16(0),f.addInt32(fe.byteLength(G)),f.addString(G))}},"writeValues"),b=y((F={})=>{let U=F.portal||"",K=F.statement||"",G=F.binary||!1,re=F.values||d,ge=re.length;return n.addCString(U).addCString(K),n.addInt16(ge),p(re,F.valueMapper),n.addInt16(ge),n.add(f.flush()),n.addInt16(G?1:0),n.flush(66)},"bind"),h=fe.from([69,0,0,0,9,0,0,0,0,0]),g=y(F=>{if(!F||!F.portal&&!F.rows)return h;let U=F.portal||"",K=F.rows||0,G=fe.byteLength(U),re=4+G+1+4,ge=fe.allocUnsafe(1+re);return ge[0]=69,ge.writeInt32BE(re,1),ge.write(U,5,"utf-8"),ge[G+5]=0,ge.writeUInt32BE(K,ge.length-4),ge},"execute"),w=y((F,U)=>{let K=fe.allocUnsafe(16);return K.writeInt32BE(16,0),K.writeInt16BE(1234,4),K.writeInt16BE(5678,6),K.writeInt32BE(F,8),K.writeInt32BE(U,12),K},"cancel"),E=y((F,U)=>{let K=4+fe.byteLength(U)+1,G=fe.allocUnsafe(1+K);return G[0]=F,G.writeInt32BE(K,1),G.write(U,5,"utf-8"),G[K]=0,G},"cstringMessage"),x=n.addCString("P").flush(68),S=n.addCString("S").flush(68),A=y(F=>F.name?E(68,`${F.type}${F.name||""}`):F.type==="P"?x:S,"describe"),L=y(F=>{let U=`${F.type}${F.name||""}`;return E(67,U)},"close"),C=y(F=>n.add(F).flush(100),"copyData"),O=y(F=>E(102,F),"copyFail"),_=y(F=>fe.from([F,0,0,0,4]),"codeOnlyBuffer"),k=_(72),M=_(83),P=_(88),D=_(99),H={startup:o,password:s,requestSsl:r,sendSASLInitialResponseMessage:i,sendSCRAMClientFinalMessage:a,query:l,parse:u,bind:b,execute:g,describe:A,close:L,flush:y(()=>k,"flush"),sync:y(()=>M,"sync"),end:y(()=>P,"end"),copyData:C,copyDone:y(()=>D,"copyDone"),copyFail:O,cancel:w};t.serialize=H}),Km=we(t=>{ue(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=fe.allocUnsafe(0),n=class{constructor(s=0){this.offset=s,this.buffer=e,this.encoding="utf-8"}setBuffer(s,i){this.offset=s,this.buffer=i}int16(){let s=this.buffer.readInt16BE(this.offset);return this.offset+=2,s}byte(){let s=this.buffer[this.offset];return this.offset++,s}int32(){let s=this.buffer.readInt32BE(this.offset);return this.offset+=4,s}string(s){let i=this.buffer.toString(this.encoding,this.offset,this.offset+s);return this.offset+=s,i}cstring(){let s=this.offset,i=s;for(;this.buffer[i++]!==0;);return this.offset=i,this.buffer.toString(this.encoding,s,i-1)}bytes(s){let i=this.buffer.slice(this.offset,this.offset+s);return this.offset+=s,i}};y(n,"BufferReader");var o=n;t.BufferReader=o}),Gm=we(t=>{ue(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=ed(),n=Km(),o=1,r=4,s=o+r,i=fe.allocUnsafe(0),a=class{constructor(u){if(this.buffer=i,this.bufferLength=0,this.bufferOffset=0,this.reader=new n.BufferReader,(u==null?void 0:u.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(u==null?void 0:u.mode)||"text"}parse(u,f){this.mergeBuffer(u);let p=this.bufferOffset+this.bufferLength,b=this.bufferOffset;for(;b+s<=p;){let h=this.buffer[b],g=this.buffer.readUInt32BE(b+o),w=o+g;if(w+b<=p){let E=this.handlePacket(b+s,h,g,this.buffer);f(E),b+=w}else break}b===p?(this.buffer=i,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-b,this.bufferOffset=b)}mergeBuffer(u){if(this.bufferLength>0){let f=this.bufferLength+u.byteLength;if(f+this.bufferOffset>this.buffer.byteLength){let p;if(f<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let b=this.buffer.byteLength*2;for(;f>=b;)b*=2;p=fe.allocUnsafe(b)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}u.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=f}else this.buffer=u,this.bufferOffset=0,this.bufferLength=u.byteLength}handlePacket(u,f,p,b){switch(f){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(u,p,b);case 67:return this.parseCommandCompleteMessage(u,p,b);case 90:return this.parseReadyForQueryMessage(u,p,b);case 65:return this.parseNotificationMessage(u,p,b);case 82:return this.parseAuthenticationResponse(u,p,b);case 83:return this.parseParameterStatusMessage(u,p,b);case 75:return this.parseBackendKeyData(u,p,b);case 69:return this.parseErrorMessage(u,p,b,"error");case 78:return this.parseErrorMessage(u,p,b,"notice");case 84:return this.parseRowDescriptionMessage(u,p,b);case 116:return this.parseParameterDescriptionMessage(u,p,b);case 71:return this.parseCopyInMessage(u,p,b);case 72:return this.parseCopyOutMessage(u,p,b);case 100:return this.parseCopyData(u,p,b);default:return new e.DatabaseError("received invalid response: "+f.toString(16),p,"error")}}parseReadyForQueryMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.string(1);return new e.ReadyForQueryMessage(f,b)}parseCommandCompleteMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.cstring();return new e.CommandCompleteMessage(f,b)}parseCopyData(u,f,p){let b=p.slice(u,u+(f-4));return new e.CopyDataMessage(f,b)}parseCopyInMessage(u,f,p){return this.parseCopyMessage(u,f,p,"copyInResponse")}parseCopyOutMessage(u,f,p){return this.parseCopyMessage(u,f,p,"copyOutResponse")}parseCopyMessage(u,f,p,b){this.reader.setBuffer(u,p);let h=this.reader.byte()!==0,g=this.reader.int16(),w=new e.CopyResponse(f,b,h,g);for(let E=0;E<g;E++)w.columnTypes[E]=this.reader.int16();return w}parseNotificationMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.int32(),h=this.reader.cstring(),g=this.reader.cstring();return new e.NotificationResponseMessage(f,b,h,g)}parseRowDescriptionMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.int16(),h=new e.RowDescriptionMessage(f,b);for(let g=0;g<b;g++)h.fields[g]=this.parseField();return h}parseField(){let u=this.reader.cstring(),f=this.reader.int32(),p=this.reader.int16(),b=this.reader.int32(),h=this.reader.int16(),g=this.reader.int32(),w=this.reader.int16()===0?"text":"binary";return new e.Field(u,f,p,b,h,g,w)}parseParameterDescriptionMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.int16(),h=new e.ParameterDescriptionMessage(f,b);for(let g=0;g<b;g++)h.dataTypeIDs[g]=this.reader.int32();return h}parseDataRowMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.int16(),h=new Array(b);for(let g=0;g<b;g++){let w=this.reader.int32();h[g]=w===-1?null:this.reader.string(w)}return new e.DataRowMessage(f,h)}parseParameterStatusMessage(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.cstring(),h=this.reader.cstring();return new e.ParameterStatusMessage(f,b,h)}parseBackendKeyData(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.int32(),h=this.reader.int32();return new e.BackendKeyDataMessage(f,b,h)}parseAuthenticationResponse(u,f,p){this.reader.setBuffer(u,p);let b=this.reader.int32(),h={name:"authenticationOk",length:f};switch(b){case 0:break;case 3:h.length===8&&(h.name="authenticationCleartextPassword");break;case 5:if(h.length===12){h.name="authenticationMD5Password";let w=this.reader.bytes(4);return new e.AuthenticationMD5Password(f,w)}break;case 10:h.name="authenticationSASL",h.mechanisms=[];let g;do g=this.reader.cstring(),g&&h.mechanisms.push(g);while(g);break;case 11:h.name="authenticationSASLContinue",h.data=this.reader.string(f-8);break;case 12:h.name="authenticationSASLFinal",h.data=this.reader.string(f-8);break;default:throw new Error("Unknown authenticationOk message type "+b)}return h}parseErrorMessage(u,f,p,b){this.reader.setBuffer(u,p);let h={},g=this.reader.string(1);for(;g!=="\0";)h[g]=this.reader.cstring(),g=this.reader.string(1);let w=h.M,E=b==="notice"?new e.NoticeMessage(f,w):new e.DatabaseError(w,f,b);return E.severity=h.S,E.code=h.C,E.detail=h.D,E.hint=h.H,E.position=h.P,E.internalPosition=h.p,E.internalQuery=h.q,E.where=h.W,E.schema=h.s,E.table=h.t,E.column=h.c,E.dataType=h.d,E.constraint=h.n,E.file=h.F,E.line=h.L,E.routine=h.R,E}};y(a,"Parser");var l=a;t.Parser=l}),td=we(t=>{ue(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=ed();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:y(function(){return e.DatabaseError},"get")});var n=Qm();Object.defineProperty(t,"serialize",{enumerable:!0,get:y(function(){return n.serialize},"get")});var o=Gm();function r(s,i){let a=new o.Parser;return s.on("data",l=>a.parse(l,i)),new Promise(l=>s.on("end",()=>l()))}y(r,"parse"),t.parse=r}),nd={};Pt(nd,{connect:()=>od});function od({socket:t,servername:e}){return t.startTls(e),t}var Ym=ht(()=>{ue(),y(od,"connect")}),rd=we((t,e)=>{ue();var n=(Mi(),Ge(Xu)),o=On().EventEmitter,{parse:r,serialize:s}=td(),i=s.flush(),a=s.sync(),l=s.end(),d=class extends o{constructor(p){super(),p=p||{},this.stream=p.stream||new n.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var b=this;this.on("newListener",function(h){h==="message"&&(b._emitMessage=!0)})}connect(p,b){var h=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,b),this.stream.once("connect",function(){h._keepAlive&&h.stream.setKeepAlive(!0,h._keepAliveInitialDelayMillis),h.emit("connect")});let g=y(function(w){h._ending&&(w.code==="ECONNRESET"||w.code==="EPIPE")||h.emit("error",w)},"reportStreamError");if(this.stream.on("error",g),this.stream.on("close",function(){h.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(w){var E=w.toString("utf8");switch(E){case"S":break;case"N":return h.stream.end(),h.emit("error",new Error("The server does not support SSL connections"));default:return h.stream.end(),h.emit("error",new Error("There was an error establishing an SSL connection"))}var x=(Ym(),Ge(nd));let S={socket:h.stream};h.ssl!==!0&&(Object.assign(S,h.ssl),"key"in h.ssl&&(S.key=h.ssl.key)),n.isIP(b)===0&&(S.servername=b);try{h.stream=x.connect(S)}catch(A){return h.emit("error",A)}h.attachListeners(h.stream),h.stream.on("error",g),h.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),r(p,b=>{var h=b.name==="error"?"errorMessage":b.name;this._emitMessage&&this.emit("message",b),this.emit(h,b)})}requestSsl(){this.stream.write(s.requestSsl())}startup(p){this.stream.write(s.startup(p))}cancel(p,b){this._send(s.cancel(p,b))}password(p){this._send(s.password(p))}sendSASLInitialResponseMessage(p,b){this._send(s.sendSASLInitialResponseMessage(p,b))}sendSCRAMClientFinalMessage(p){this._send(s.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(s.query(p))}parse(p){this._send(s.parse(p))}bind(p){this._send(s.bind(p))}execute(p){this._send(s.execute(p))}flush(){this.stream.writable&&this.stream.write(i)}sync(){this._ending=!0,this._send(i),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(p){this._send(s.close(p))}describe(p){this._send(s.describe(p))}sendCopyFromChunk(p){this._send(s.copyData(p))}endCopyFrom(){this._send(s.copyDone())}sendCopyFail(p){this._send(s.copyFail(p))}};y(d,"Connection");var u=d;e.exports=u}),Zm=we((t,e)=>{ue();var n=On().EventEmitter;Fr(),Ge(Uo);var o=Hr(),r=Dm(),s=Hm(),i=Bi(),a=Ai(),l=Vm(),d=$r(),u=rd(),f=class extends n{constructor(h){super(),this.connectionParameters=new a(h),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var g=h||{};this._Promise=g.Promise||Dr.Promise,this._types=new i(g.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=g.connection||new u({stream:g.stream,ssl:this.connectionParameters.ssl,keepAlive:g.keepAlive||!1,keepAliveInitialDelayMillis:g.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=g.binary||d.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=g.connectionTimeoutMillis||0}_errorAllQueries(h){let g=y(w=>{ye.nextTick(()=>{w.handleError(h,this.connection)})},"enqueueError");this.activeQuery&&(g(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(g),this.queryQueue.length=0}_connect(h){var g=this,w=this.connection;if(this._connectionCallback=h,this._connecting||this._connected){let E=new Error("Client has already been connected. You cannot reuse a client.");ye.nextTick(()=>{h(E)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{w._ending=!0,w.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?w.connect(this.host+"/.s.PGSQL."+this.port):w.connect(this.port,this.host),w.on("connect",function(){g.ssl?w.requestSsl():w.startup(g.getStartupConf())}),w.on("sslconnect",function(){w.startup(g.getStartupConf())}),this._attachListeners(w),w.once("end",()=>{let E=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(E),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(E):this._handleErrorEvent(E):this._connectionError||this._handleErrorEvent(E)),ye.nextTick(()=>{this.emit("end")})})}connect(h){if(h){this._connect(h);return}return new this._Promise((g,w)=>{this._connect(E=>{E?w(E):g()})})}_attachListeners(h){h.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),h.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),h.on("authenticationSASL",this._handleAuthSASL.bind(this)),h.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),h.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),h.on("backendKeyData",this._handleBackendKeyData.bind(this)),h.on("error",this._handleErrorEvent.bind(this)),h.on("errorMessage",this._handleErrorMessage.bind(this)),h.on("readyForQuery",this._handleReadyForQuery.bind(this)),h.on("notice",this._handleNotice.bind(this)),h.on("rowDescription",this._handleRowDescription.bind(this)),h.on("dataRow",this._handleDataRow.bind(this)),h.on("portalSuspended",this._handlePortalSuspended.bind(this)),h.on("emptyQuery",this._handleEmptyQuery.bind(this)),h.on("commandComplete",this._handleCommandComplete.bind(this)),h.on("parseComplete",this._handleParseComplete.bind(this)),h.on("copyInResponse",this._handleCopyInResponse.bind(this)),h.on("copyData",this._handleCopyData.bind(this)),h.on("notification",this._handleNotification.bind(this))}_checkPgPass(h){let g=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(w=>{if(w!==void 0){if(typeof w!="string"){g.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=w}else this.connectionParameters.password=this.password=null;h()}).catch(w=>{g.emit("error",w)}):this.password!==null?h():s(this.connectionParameters,w=>{w!==void 0&&(this.connectionParameters.password=this.password=w),h()})}_handleAuthCleartextPassword(h){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(h){this._checkPgPass(()=>{let g=o.postgresMd5PasswordHash(this.user,this.password,h.salt);this.connection.password(g)})}_handleAuthSASL(h){this._checkPgPass(()=>{this.saslSession=r.startSession(h.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(h){r.continueSession(this.saslSession,this.password,h.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(h){r.finalizeSession(this.saslSession,h.data),this.saslSession=null}_handleBackendKeyData(h){this.processID=h.processID,this.secretKey=h.secretKey}_handleReadyForQuery(h){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:g}=this;this.activeQuery=null,this.readyForQuery=!0,g&&g.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(h){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(h);this.emit("error",h)}}_handleErrorEvent(h){if(this._connecting)return this._handleErrorWhileConnecting(h);this._queryable=!1,this._errorAllQueries(h),this.emit("error",h)}_handleErrorMessage(h){if(this._connecting)return this._handleErrorWhileConnecting(h);let g=this.activeQuery;if(!g){this._handleErrorEvent(h);return}this.activeQuery=null,g.handleError(h,this.connection)}_handleRowDescription(h){this.activeQuery.handleRowDescription(h)}_handleDataRow(h){this.activeQuery.handleDataRow(h)}_handlePortalSuspended(h){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(h){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(h){this.activeQuery.handleCommandComplete(h,this.connection)}_handleParseComplete(h){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(h){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(h){this.activeQuery.handleCopyData(h,this.connection)}_handleNotification(h){this.emit("notification",h)}_handleNotice(h){this.emit("notice",h)}getStartupConf(){var h=this.connectionParameters,g={user:h.user,database:h.database},w=h.application_name||h.fallback_application_name;return w&&(g.application_name=w),h.replication&&(g.replication=""+h.replication),h.statement_timeout&&(g.statement_timeout=String(parseInt(h.statement_timeout,10))),h.lock_timeout&&(g.lock_timeout=String(parseInt(h.lock_timeout,10))),h.idle_in_transaction_session_timeout&&(g.idle_in_transaction_session_timeout=String(parseInt(h.idle_in_transaction_session_timeout,10))),h.options&&(g.options=h.options),g}cancel(h,g){if(h.activeQuery===g){var w=this.connection;this.host&&this.host.indexOf("/")===0?w.connect(this.host+"/.s.PGSQL."+this.port):w.connect(this.port,this.host),w.on("connect",function(){w.cancel(h.processID,h.secretKey)})}else h.queryQueue.indexOf(g)!==-1&&h.queryQueue.splice(h.queryQueue.indexOf(g),1)}setTypeParser(h,g,w){return this._types.setTypeParser(h,g,w)}getTypeParser(h,g){return this._types.getTypeParser(h,g)}escapeIdentifier(h){return'"'+h.replace(/"/g,'""')+'"'}escapeLiteral(h){for(var g=!1,w="'",E=0;E<h.length;E++){var x=h[E];x==="'"?w+=x+x:x==="\\"?(w+=x+x,g=!0):w+=x}return w+="'",g===!0&&(w=" E"+w),w}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let h=this.activeQuery.submit(this.connection);h&&ye.nextTick(()=>{this.activeQuery.handleError(h,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(h,g,w){var E,x,S,A,L;if(h==null)throw new TypeError("Client was passed a null or undefined query");return typeof h.submit=="function"?(S=h.query_timeout||this.connectionParameters.query_timeout,x=E=h,typeof g=="function"&&(E.callback=E.callback||g)):(S=this.connectionParameters.query_timeout,E=new l(h,g,w),E.callback||(x=new this._Promise((C,O)=>{E.callback=(_,k)=>_?O(_):C(k)}))),S&&(L=E.callback,A=setTimeout(()=>{var C=new Error("Query read timeout");ye.nextTick(()=>{E.handleError(C,this.connection)}),L(C),E.callback=()=>{};var O=this.queryQueue.indexOf(E);O>-1&&this.queryQueue.splice(O,1),this._pulseQueryQueue()},S),E.callback=(C,O)=>{clearTimeout(A),L(C,O)}),this.binary&&!E.binary&&(E.binary=!0),E._result&&!E._result._types&&(E._result._types=this._types),this._queryable?this._ending?(ye.nextTick(()=>{E.handleError(new Error("Client was closed and is not queryable"),this.connection)}),x):(this.queryQueue.push(E),this._pulseQueryQueue(),x):(ye.nextTick(()=>{E.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),x)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(h){if(this._ending=!0,!this.connection._connecting)if(h)h();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),h)this.connection.once("end",h);else return new this._Promise(g=>{this.connection.once("end",g)})}};y(f,"Client");var p=f;p.Query=l,e.exports=p}),Xm=we((t,e)=>{ue();var n=On().EventEmitter,o=y(function(){},"NOOP"),r=y((h,g)=>{let w=h.findIndex(g);return w===-1?void 0:h.splice(w,1)[0]},"removeWhere"),s=class{constructor(g,w,E){this.client=g,this.idleListener=w,this.timeoutId=E}};y(s,"IdleItem");var i=s,a=class{constructor(g){this.callback=g}};y(a,"PendingItem");var l=a;function d(){throw new Error("Release called on client which has already been released to the pool.")}y(d,"throwOnDoubleRelease");function u(h,g){if(g)return{callback:g,result:void 0};let w,E,x=y(function(A,L){A?w(A):E(L)},"cb"),S=new h(function(A,L){E=A,w=L}).catch(A=>{throw Error.captureStackTrace(A),A});return{callback:x,result:S}}y(u,"promisify");function f(h,g){return y(function w(E){E.client=g,g.removeListener("error",w),g.on("error",()=>{h.log("additional client error after disconnection due to error",E)}),h._remove(g),h.emit("error",E,g)},"idleListener")}y(f,"makeIdleListener");var p=class extends n{constructor(g,w){super(),this.options=Object.assign({},g),g!=null&&"password"in g&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:g.password}),g!=null&&g.ssl&&g.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||w||Oi().Client,this.Promise=this.options.Promise||Dr.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(w=>{this._remove(w.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let g=this._pendingQueue.shift();if(this._idle.length){let w=this._idle.pop();clearTimeout(w.timeoutId);let E=w.client;E.ref&&E.ref();let x=w.idleListener;return this._acquireClient(E,g,x,!1)}if(!this._isFull())return this.newClient(g);throw new Error("unexpected condition")}_remove(g){let w=r(this._idle,E=>E.client===g);w!==void 0&&clearTimeout(w.timeoutId),this._clients=this._clients.filter(E=>E!==g),g.end(),this.emit("remove",g)}connect(g){if(this.ending){let x=new Error("Cannot use a pool after calling end on the pool");return g?g(x):this.Promise.reject(x)}let w=u(this.Promise,g),E=w.result;if(this._isFull()||this._idle.length){if(this._idle.length&&ye.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(w.callback)),E;let x=y((L,C,O)=>{clearTimeout(A),w.callback(L,C,O)},"queueCallback"),S=new l(x),A=setTimeout(()=>{r(this._pendingQueue,L=>L.callback===x),S.timedOut=!0,w.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(S),E}return this.newClient(new l(w.callback)),E}newClient(g){let w=new this.Client(this.options);this._clients.push(w);let E=f(this,w);this.log("checking client timeout");let x,S=!1;this.options.connectionTimeoutMillis&&(x=setTimeout(()=>{this.log("ending client due to timeout"),S=!0,w.connection?w.connection.stream.destroy():w.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),w.connect(A=>{if(x&&clearTimeout(x),w.on("error",E),A)this.log("client failed to connect",A),this._clients=this._clients.filter(L=>L!==w),S&&(A.message="Connection terminated due to connection timeout"),this._pulseQueue(),g.timedOut||g.callback(A,void 0,o);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let L=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(w),this._idle.findIndex(C=>C.client===w)!==-1&&this._acquireClient(w,new l((C,O,_)=>_()),E,!1)},this.options.maxLifetimeSeconds*1e3);L.unref(),w.once("end",()=>clearTimeout(L))}return this._acquireClient(w,g,E,!0)}})}_acquireClient(g,w,E,x){x&&this.emit("connect",g),this.emit("acquire",g),g.release=this._releaseOnce(g,E),g.removeListener("error",E),w.timedOut?x&&this.options.verify?this.options.verify(g,g.release):g.release():x&&this.options.verify?this.options.verify(g,S=>{if(S)return g.release(S),w.callback(S,void 0,o);w.callback(void 0,g,g.release)}):w.callback(void 0,g,g.release)}_releaseOnce(g,w){let E=!1;return x=>{E&&d(),E=!0,this._release(g,w,x)}}_release(g,w,E){if(g.on("error",w),g._poolUseCount=(g._poolUseCount||0)+1,this.emit("release",E,g),E||this.ending||!g._queryable||g._ending||g._poolUseCount>=this.options.maxUses){g._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(g),this._pulseQueue();return}if(this._expired.has(g)){this.log("remove expired client"),this._expired.delete(g),this._remove(g),this._pulseQueue();return}let x;this.options.idleTimeoutMillis&&(x=setTimeout(()=>{this.log("remove idle client"),this._remove(g)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&x.unref()),this.options.allowExitOnIdle&&g.unref(),this._idle.push(new i(g,w,x)),this._pulseQueue()}query(g,w,E){if(typeof g=="function"){let S=u(this.Promise,g);return xi(function(){return S.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),S.result}typeof w=="function"&&(E=w,w=void 0);let x=u(this.Promise,E);return E=x.callback,this.connect((S,A)=>{if(S)return E(S);let L=!1,C=y(O=>{L||(L=!0,A.release(O),E(O))},"onError");A.once("error",C),this.log("dispatching query");try{A.query(g,w,(O,_)=>{if(this.log("query dispatched"),A.removeListener("error",C),!L)return L=!0,A.release(O),O?E(O):E(void 0,_)})}catch(O){return A.release(O),E(O)}}),x.result}end(g){if(this.log("ending"),this.ending){let E=new Error("Called end on pool more than once");return g?g(E):this.Promise.reject(E)}this.ending=!0;let w=u(this.Promise,g);return this._endCallback=w.callback,this._pulseQueue(),w.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((g,w)=>g+(this._expired.has(w)?1:0),0)}get totalCount(){return this._clients.length}};y(p,"Pool");var b=p;e.exports=b}),sd={};Pt(sd,{default:()=>id});var id,Jm=ht(()=>{ue(),id={}}),e0=we((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),t0=we((t,e)=>{ue();var n=On().EventEmitter,o=(Fr(),Ge(Uo)),r=Hr(),s=e.exports=function(a,l,d){n.call(this),a=r.normalizeQueryConfig(a,l,d),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(u){u==="row"&&(this._emitRowEvents=!0)}).bind(this))};o.inherits(s,n);var i={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};s.prototype.handleError=function(a){var l=this.native.pq.resultErrorFields();if(l)for(var d in l){var u=i[d]||d;a[u]=l[d]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},s.prototype.then=function(a,l){return this._getPromise().then(a,l)},s.prototype.catch=function(a){return this._getPromise().catch(a)},s.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(a,l){this._once("end",a),this._once("error",l)}).bind(this)),this._promise)},s.prototype.submit=function(a){this.state="running";var l=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var d=y(function(p,b,h){if(a.native.arrayMode=!1,xi(function(){l.emit("_done")}),p)return l.handleError(p);l._emitRowEvents&&(h.length>1?b.forEach((g,w)=>{g.forEach(E=>{l.emit("row",E,h[w])})}):b.forEach(function(g){l.emit("row",g,h)})),l.state="end",l.emit("end",h),l.callback&&l.callback(null,h)},"after");if(ye.domain&&(d=ye.domain.bind(d)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var u=(this.values||[]).map(r.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return d(p)}return a.native.execute(this.name,u,d)}return a.native.prepare(this.name,this.text,u.length,function(p){return p?d(p):(a.namedQueries[l.name]=l.text,l.native.execute(l.name,u,d))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return d(p)}var f=this.values.map(r.prepareValue);a.native.query(this.text,f,d)}else a.native.query(this.text,d)}}),n0=we((t,e)=>{ue();var n=(Jm(),Ge(sd)),o=Bi();e0();var r=On().EventEmitter,s=(Fr(),Ge(Uo)),i=Ai(),a=t0(),l=e.exports=function(d){r.call(this),d=d||{},this._Promise=d.Promise||Dr.Promise,this._types=new o(d.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var u=this.connectionParameters=new i(d);this.user=u.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:u.password}),this.database=u.database,this.host=u.host,this.port=u.port,this.namedQueries={}};l.Query=a,s.inherits(l,r),l.prototype._errorAllQueries=function(d){let u=y(f=>{ye.nextTick(()=>{f.native=this.native,f.handleError(d)})},"enqueueError");this._hasActiveQuery()&&(u(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(u),this._queryQueue.length=0},l.prototype._connect=function(d){var u=this;if(this._connecting){ye.nextTick(()=>d(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(f,p){if(f)return d(f);u.native.connect(p,function(b){if(b)return u.native.end(),d(b);u._connected=!0,u.native.on("error",function(h){u._queryable=!1,u._errorAllQueries(h),u.emit("error",h)}),u.native.on("notification",function(h){u.emit("notification",{channel:h.relname,payload:h.extra})}),u.emit("connect"),u._pulseQueryQueue(!0),d()})})},l.prototype.connect=function(d){if(d){this._connect(d);return}return new this._Promise((u,f)=>{this._connect(p=>{p?f(p):u()})})},l.prototype.query=function(d,u,f){var p,b,h,g,w;if(d==null)throw new TypeError("Client was passed a null or undefined query");if(typeof d.submit=="function")h=d.query_timeout||this.connectionParameters.query_timeout,b=p=d,typeof u=="function"&&(d.callback=u);else if(h=this.connectionParameters.query_timeout,p=new a(d,u,f),!p.callback){let E,x;b=new this._Promise((S,A)=>{E=S,x=A}),p.callback=(S,A)=>S?x(S):E(A)}return h&&(w=p.callback,g=setTimeout(()=>{var E=new Error("Query read timeout");ye.nextTick(()=>{p.handleError(E,this.connection)}),w(E),p.callback=()=>{};var x=this._queryQueue.indexOf(p);x>-1&&this._queryQueue.splice(x,1),this._pulseQueryQueue()},h),p.callback=(E,x)=>{clearTimeout(g),w(E,x)}),this._queryable?this._ending?(p.native=this.native,ye.nextTick(()=>{p.handleError(new Error("Client was closed and is not queryable"))}),b):(this._queryQueue.push(p),this._pulseQueryQueue(),b):(p.native=this.native,ye.nextTick(()=>{p.handleError(new Error("Client has encountered a connection error and is not queryable"))}),b)},l.prototype.end=function(d){var u=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,d));var f;return d||(f=new this._Promise(function(p,b){d=y(h=>h?b(h):p(),"cb")})),this.native.end(function(){u._errorAllQueries(new Error("Connection terminated")),ye.nextTick(()=>{u.emit("end"),d&&d()})}),f},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(d){if(this._connected&&!this._hasActiveQuery()){var u=this._queryQueue.shift();if(!u){d||this.emit("drain");return}this._activeQuery=u,u.submit(this);var f=this;u.once("_done",function(){f._pulseQueryQueue()})}},l.prototype.cancel=function(d){this._activeQuery===d?this.native.cancel(function(){}):this._queryQueue.indexOf(d)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(d),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(d,u,f){return this._types.setTypeParser(d,u,f)},l.prototype.getTypeParser=function(d,u){return this._types.getTypeParser(d,u)}}),Nl=we((t,e)=>{ue(),e.exports=n0()}),Oi=we((t,e)=>{ue();var n=Zm(),o=$r(),r=rd(),s=Xm(),{DatabaseError:i}=td(),a=y(d=>{var u;return u=class extends s{constructor(f){super(f,d)}},y(u,"BoundPool"),u},"poolFactory"),l=y(function(d){this.defaults=o,this.Client=d,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=r,this.types=jr(),this.DatabaseError=i},"PG");typeof ye.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new l(Nl()):(e.exports=new l(n),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var d=null;try{d=new l(Nl())}catch(u){if(u.code!=="MODULE_NOT_FOUND")throw u}return Object.defineProperty(e.exports,"native",{value:d}),d}}))});ue();var ad=eo(Oi());Mi();ue();Mi();Zu();var o0=eo(Hr()),r0=eo(Bi());function ld(t){return t instanceof fe?"\\x"+t.toString("hex"):t}y(ld,"encodeBuffersAsBytea");var cd=class ud extends Error{constructor(e){super(e),pe(this,"name","NeonDbError"),pe(this,"severity"),pe(this,"code"),pe(this,"detail"),pe(this,"hint"),pe(this,"position"),pe(this,"internalPosition"),pe(this,"internalQuery"),pe(this,"where"),pe(this,"schema"),pe(this,"table"),pe(this,"column"),pe(this,"dataType"),pe(this,"constraint"),pe(this,"file"),pe(this,"line"),pe(this,"routine"),pe(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ud)}};y(cd,"NeonDbError");var zn=cd,Dl="transaction() expects an array of queries, or a function returning an array of queries",s0=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function Pi(t,{arrayMode:e,fullResults:n,fetchOptions:o,isolationLevel:r,readOnly:s,deferrable:i,queryCallback:a,resultCallback:l,authToken:d}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let u;try{u=Ii(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:f,username:p,hostname:b,port:h,pathname:g}=u;if(f!=="postgres:"&&f!=="postgresql:"||!p||!b||!g)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function w(x,...S){let A,L;if(typeof x=="string")A=x,L=S[1],S=S[0]??[];else{A="";for(let O=0;O<x.length;O++)A+=x[O],O<S.length&&(A+="$"+(O+1))}S=S.map(O=>ld((0,o0.prepareValue)(O)));let C={query:A,params:S};return a&&a(C),dd(E,C,L)}y(w,"resolve"),w.transaction=async(x,S)=>{if(typeof x=="function"&&(x=x(w)),!Array.isArray(x))throw new Error(Dl);x.forEach(C=>{if(C[Symbol.toStringTag]!=="NeonQueryPromise")throw new Error(Dl)});let A=x.map(C=>C.parameterizedQuery),L=x.map(C=>C.opts??{});return E(A,L,S)};async function E(x,S,A){let{fetchEndpoint:L,fetchFunction:C}=Ur,O=Array.isArray(x)?{queries:x}:x,_=o??{},k=e??!1,M=n??!1,P=r,D=s,H=i;A!==void 0&&(A.fetchOptions!==void 0&&(_={..._,...A.fetchOptions}),A.arrayMode!==void 0&&(k=A.arrayMode),A.fullResults!==void 0&&(M=A.fullResults),A.isolationLevel!==void 0&&(P=A.isolationLevel),A.readOnly!==void 0&&(D=A.readOnly),A.deferrable!==void 0&&(H=A.deferrable)),S!==void 0&&!Array.isArray(S)&&S.fetchOptions!==void 0&&(_={..._,...S.fetchOptions});let F=d;!Array.isArray(S)&&(S==null?void 0:S.authToken)!==void 0&&(F=S.authToken);let U=typeof L=="function"?L(b,h,{jwtAuth:F!==void 0}):L,K={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},G=await hd(F);G&&(K.Authorization=`Bearer ${G}`),Array.isArray(x)&&(P!==void 0&&(K["Neon-Batch-Isolation-Level"]=P),D!==void 0&&(K["Neon-Batch-Read-Only"]=String(D)),H!==void 0&&(K["Neon-Batch-Deferrable"]=String(H)));let re;try{re=await(C??fetch)(U,{method:"POST",body:JSON.stringify(O),headers:K,..._})}catch(ge){let Me=new zn(`Error connecting to database: ${ge.message}`);throw Me.sourceError=ge,Me}if(re.ok){let ge=await re.json();if(Array.isArray(x)){let Me=ge.results;if(!Array.isArray(Me))throw new zn("Neon internal error: unexpected result format");return Me.map((ke,ve)=>{let ut=S[ve]??{},yt=ut.arrayMode??k,Lt=ut.fullResults??M;return Ws(ke,{arrayMode:yt,fullResults:Lt,parameterizedQuery:x[ve],resultCallback:l,types:ut.types})})}else{let Me=S??{},ke=Me.arrayMode??k,ve=Me.fullResults??M;return Ws(ge,{arrayMode:ke,fullResults:ve,parameterizedQuery:x,resultCallback:l,types:Me.types})}}else{let{status:ge}=re;if(ge===400){let Me=await re.json(),ke=new zn(Me.message);for(let ve of s0)ke[ve]=Me[ve]??void 0;throw ke}else{let Me=await re.text();throw new zn(`Server error (HTTP status ${ge}): ${Me}`)}}}return y(E,"execute"),w}y(Pi,"neon");function dd(t,e,n){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:e,opts:n,then:y((o,r)=>t(e,n).then(o,r),"then"),catch:y(o=>t(e,n).catch(o),"catch"),finally:y(o=>t(e,n).finally(o),"finally")}}y(dd,"createNeonQueryPromise");function Ws(t,{arrayMode:e,fullResults:n,parameterizedQuery:o,resultCallback:r,types:s}){let i=new r0.default(s),a=t.fields.map(u=>u.name),l=t.fields.map(u=>i.getTypeParser(u.dataTypeID)),d=e===!0?t.rows.map(u=>u.map((f,p)=>f===null?null:l[p](f))):t.rows.map(u=>Object.fromEntries(u.map((f,p)=>[a[p],f===null?null:l[p](f)])));return r&&r(o,t,d,{arrayMode:e,fullResults:n}),n?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=d,t._parsers=l,t._types=i,t):d}y(Ws,"processQueryResult");async function hd(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let n=new zn("Error getting auth token.");throw e instanceof Error&&(n=new zn(`Error getting auth token: ${e.message}`)),n}}y(hd,"getAuthToken");var i0=eo(Ai()),to=eo(Oi()),fd=class extends ad.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){var d,u;let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let o=((d=this.config)==null?void 0:d.host)!==void 0||((u=this.config)==null?void 0:u.connectionString)!==void 0||ye.env.PGHOST!==void 0,r=ye.env.USER??ye.env.USERNAME;if(!o&&this.host==="localhost"&&this.user===r&&this.database===r&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${r}, db: ${r}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let s=super.connect(e),i=n.pipelineTLS&&this.ssl,a=n.pipelineConnect==="password";if(!i&&!n.pipelineConnect)return s;let l=this.connection;if(i&&l.on("connect",()=>l.stream.emit("data","S")),a){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let f=this.ssl?"sslconnect":"connect";l.on(f,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return s}async _handleAuthSASLContinue(e){let n=this.saslSession,o=this.password,r=e.data;if(n.message!=="SASLInitialResponse"||typeof o!="string"||typeof r!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(r.split(",").map(G=>{if(!/^.=/.test(G))throw new Error("SASL: Invalid attribute pair entry");let re=G[0],ge=G.substring(2);return[re,ge]})),i=s.r,a=s.s,l=s.i;if(!i||!/^[!-+--~]+$/.test(i))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!a||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!i.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(i.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let d=parseInt(l,10),u=fe.from(a,"base64"),f=new TextEncoder,p=f.encode(o),b=await et.subtle.importKey("raw",p,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),h=new Uint8Array(await et.subtle.sign("HMAC",b,fe.concat([u,fe.from([0,0,0,1])]))),g=h;for(var w=0;w<d-1;w++)h=new Uint8Array(await et.subtle.sign("HMAC",b,h)),g=fe.from(g.map((G,re)=>g[re]^h[re]));let E=g,x=await et.subtle.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),S=new Uint8Array(await et.subtle.sign("HMAC",x,f.encode("Client Key"))),A=await et.subtle.digest("SHA-256",S),L="n=*,r="+n.clientNonce,C="r="+i+",s="+a+",i="+d,O="c=biws,r="+i,_=L+","+C+","+O,k=await et.subtle.importKey("raw",A,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var M=new Uint8Array(await et.subtle.sign("HMAC",k,f.encode(_))),P=fe.from(S.map((G,re)=>S[re]^M[re])),D=P.toString("base64");let H=await et.subtle.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),F=await et.subtle.sign("HMAC",H,f.encode("Server Key")),U=await et.subtle.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var K=fe.from(await et.subtle.sign("HMAC",U,f.encode(_)));n.message="SASLResponse",n.serverSignature=K.toString("base64"),n.response=O+",p="+D,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};y(fd,"NeonClient");var a0=fd;function pd(t,e){if(e)return{callback:e,result:void 0};let n,o,r=y(function(i,a){i?n(i):o(a)},"cb"),s=new t(function(i,a){o=i,n=a});return{callback:r,result:s}}y(pd,"promisify");var l0=class extends ad.Pool{constructor(){super(...arguments),pe(this,"Client",a0),pe(this,"hasFetchUnsupportedListeners",!1)}on(e,n){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,n)}query(e,n,o){var s;if(!Ur.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,n,o);typeof n=="function"&&(o=n,n=void 0);let r=pd(this.Promise,o);o=r.callback;try{let i=new i0.default(this.options),a=encodeURIComponent,l=encodeURI,d=`postgresql://${a(i.user)}:${a(i.password)}@${a(i.host)}/${l(i.database)}`,u=typeof e=="string"?e:e.text,f=n??e.values??[];Pi(d,{fullResults:!0,arrayMode:e.rowMode==="array"})(u,f,{types:e.types??((s=this.options)==null?void 0:s.types)}).then(p=>o(void 0,p)).catch(p=>o(p))}catch(i){o(i)}return r.result}};y(l0,"NeonPool");to.ClientBase;to.Connection;to.DatabaseError;to.Query;to.defaults;to.types;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/class c0{constructor(){this.sql=Pi("postgresql://neondb_owner:npg_EsOW9R1whuGy@ep-raspy-tree-a8xdn8ec-pooler.eastus2.azure.neon.tech/neondb?sslmode=require")}async loadAllNotes(){try{return await this.sql("select id,title,hold,TO_CHAR(updated_at, 'YYYY/MM/DD HH:mm:ss') AS updated_at from notes order by hold DESC, updated_at ASC;")}catch(e){throw e}}async findNoteById(e){try{return(await this.sql("select * from notes where id = $1;",[e]))[0]}catch(n){throw n}}async saveNewNote(e,n){try{return(await this.sql("INSERT INTO notes (title,updated_at) values ($1,$2) RETURNING *",[e,n]))[0]}catch(o){throw o}}async updateNote(e,n,o){try{return await this.sql("UPDATE notes SET content = $1,updated_at = $2 where id = $3",[n,o,e]),{status:200,updated_at:o}}catch(r){throw r}}async updateNoteTitle(e,n,o){try{return await this.sql("UPDATE notes SET title = $1,updated_at = $2 where id = $3",[n,o,e]),{status:200,updated_at:o}}catch(r){throw r}}async updateNoteHoldState(e,n,o){try{return await this.sql("UPDATE notes SET hold = $1,updated_at = $2 where id = $3",[n,o,e]),{status:200}}catch(r){throw r}}async deleteNoteById(e){try{return await this.sql("DELETE FROM notes where id = $1 ",[e]),{status:200}}catch(n){reject(n)}}}class u0{getCurrentTime(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDate(){return this.getCurrentTime().split(" ")[0]}}const Pn=new c0,d0=new u0,zr=d0.getCurrentTime();async function h0(){return await Pn.loadAllNotes()}async function f0(t){return await Pn.findNoteById(t)}async function p0(t){return await Pn.saveNewNote(t,zr)}async function g0(t,e){return await Pn.updateNote(t,e,zr)}async function m0(t,e){return await Pn.updateNoteTitle(t,e,zr)}async function b0(t,e){return await Pn.updateNoteHoldState(t,e,zr)}async function v0(t){return await Pn.deleteNoteById(t)}const y0=()=>{},w0=()=>{},k0={class:"col-span-2 h-full w-full flex flex-col border-r border-gray-500 relative"},E0={class:"flex flex-col"},x0={id:"navSocialMediaLinks",class:"absolute bottom-0 right-1/2 w-auto"},S0={__name:"NavComponent",setup(t){return(e,n)=>(Ee(),Te("div",k0,[n[4]||(n[4]=J("div",{class:"flex flex-row mb-6 items-end border-b rounded-md border-slate-800 shadow-lg p-4 shadow-slate-600 mx-auto"},[J("h5",{class:"font-sans text-xl antialiased font-semibold text-blue-gray-900"}," MemoWave ")],-1)),J("nav",E0,[(Ee(!0),Te(Et,null,qc(Ae(bm),o=>(Ee(),Kn(lm,{route:o},null,8,["route"]))),256))]),J("div",x0,[J("button",{class:"mx-1 hover:-translate-y-0.5 transition-transform",onClick:n[0]||(n[0]=o=>Ae(y0)())},n[2]||(n[2]=[J("img",{src:im,alt:""},null,-1)])),J("button",{class:"mx-1 hover:-translate-y-0.5 transition-transform",onClick:n[1]||(n[1]=o=>Ae(w0)())},n[3]||(n[3]=[J("img",{src:am,alt:""},null,-1)]))])]))}};/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gd;const Wr=t=>gd=t,md=Symbol();function Vs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Co;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Co||(Co={}));function C0(){const t=lc(!0),e=t.run(()=>bt({}));let n=[],o=[];const r=fi({install(s){Wr(r),r._a=s,s.provide(md,r),s.config.globalProperties.$pinia=r,o.forEach(i=>n.push(i)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const bd=()=>{};function Fl(t,e,n,o=bd){t.push(e);const r=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),o())};return!n&&cc()&&Uh(r),r}function Dn(t,...e){t.slice().forEach(n=>{n(...e)})}const _0=t=>t(),jl=Symbol(),ys=Symbol();function qs(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,o)=>t.set(o,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],r=t[n];Vs(r)&&Vs(o)&&t.hasOwnProperty(n)&&!qe(o)&&!ln(o)?t[n]=qs(r,o):t[n]=o}return t}const T0=Symbol();function B0(t){return!Vs(t)||!t.hasOwnProperty(T0)}const{assign:tn}=Object;function I0(t){return!!(qe(t)&&t.effect)}function A0(t,e,n,o){const{state:r,actions:s,getters:i}=e,a=n.state.value[t];let l;function d(){a||(n.state.value[t]=r?r():{});const u=hf(n.state.value[t]);return tn(u,s,Object.keys(i||{}).reduce((f,p)=>(f[p]=fi(xt(()=>{Wr(n);const b=n._s.get(t);return i[p].call(b,b)})),f),{}))}return l=vd(t,d,e,n,o,!0),l}function vd(t,e,n={},o,r,s){let i;const a=tn({actions:{}},n),l={deep:!0};let d,u,f=[],p=[],b;const h=o.state.value[t];!s&&!h&&(o.state.value[t]={}),bt({});let g;function w(_){let k;d=u=!1,typeof _=="function"?(_(o.state.value[t]),k={type:Co.patchFunction,storeId:t,events:b}):(qs(o.state.value[t],_),k={type:Co.patchObject,payload:_,storeId:t,events:b});const M=g=Symbol();pi().then(()=>{g===M&&(d=!0)}),u=!0,Dn(f,k,o.state.value[t])}const E=s?function(){const{state:k}=n,M=k?k():{};this.$patch(P=>{tn(P,M)})}:bd;function x(){i.stop(),f=[],p=[],o._s.delete(t)}const S=(_,k="")=>{if(jl in _)return _[ys]=k,_;const M=function(){Wr(o);const P=Array.from(arguments),D=[],H=[];function F(G){D.push(G)}function U(G){H.push(G)}Dn(p,{args:P,name:M[ys],store:L,after:F,onError:U});let K;try{K=_.apply(this&&this.$id===t?this:L,P)}catch(G){throw Dn(H,G),G}return K instanceof Promise?K.then(G=>(Dn(D,G),G)).catch(G=>(Dn(H,G),Promise.reject(G))):(Dn(D,K),K)};return M[jl]=!0,M[ys]=k,M},A={_p:o,$id:t,$onAction:Fl.bind(null,p),$patch:w,$reset:E,$subscribe(_,k={}){const M=Fl(f,_,k.detached,()=>P()),P=i.run(()=>ko(()=>o.state.value[t],D=>{(k.flush==="sync"?u:d)&&_({storeId:t,type:Co.direct,events:b},D)},tn({},l,k)));return M},$dispose:x},L=Mn(A);o._s.set(t,L);const O=(o._a&&o._a.runWithContext||_0)(()=>o._e.run(()=>(i=lc()).run(()=>e({action:S}))));for(const _ in O){const k=O[_];if(qe(k)&&!I0(k)||ln(k))s||(h&&B0(k)&&(qe(k)?k.value=h[_]:qs(k,h[_])),o.state.value[t][_]=k);else if(typeof k=="function"){const M=S(k,_);O[_]=M,a.actions[_]=k}}return tn(L,O),tn(_e(L),O),Object.defineProperty(L,"$state",{get:()=>o.state.value[t],set:_=>{w(k=>{tn(k,_)})}}),o._p.forEach(_=>{tn(L,i.run(()=>_({store:L,app:o._a,pinia:o,options:a})))}),h&&s&&n.hydrate&&n.hydrate(L.$state,h),d=!0,u=!0,L}/*! #__NO_SIDE_EFFECTS__ */function M0(t,e,n){let o,r;const s=typeof e=="function";o=t,r=s?n:e;function i(a,l){const d=qf();return a=a||(d?It(md,null):null),a&&Wr(a),a=gd,a._s.has(o)||(s?vd(o,e,r,a):A0(o,r,a)),a._s.get(o)}return i.$id=o,i}const vt=M0("config",{state:()=>({folderLocation:"",toastMessage:{text:"",type:"",show:!1}}),getters:{getFolderLocation(t){return t.folderLocation},getToastMessageContent(t){return t.toastMessage}},actions:{setLocation(t){this.folderLocation=t},showMessage(t,e){this.toastMessage.text=t,this.toastMessage.type=e,this.toastMessage.show=!0,setTimeout(()=>{this.toastMessage.text="",this.toastMessage.type="",this.toastMessage.show=!1},3e3)}}}),O0={key:0,class:"text-green-700 inline-block text-lg mr-4"},P0={key:1,class:"text-green-700 inline-block text-lg mr-4"},L0={key:2,class:"text-green-700 inline-block text-lg mr-4"},R0={key:3,class:"text-red-700 inline-block text-lg mr-4"},N0={class:"text-slate-200 font-semibold"},D0={__name:"ToastMessageCompontent",setup(t){const e=vt(),n=Mn({showMessage:!1,messageToast:"",type:""});return e.$subscribe((o,r)=>{n.messageToast=r.toastMessage.text,n.showMessage=r.toastMessage.show,n.type=r.toastMessage.type}),(o,r)=>(Ee(),Te("div",{id:"toast",class:fn(["absolute z-10 flex flex-row p-3 items-center border-black bg-slate-600 opacity-0 w-72 h-11 right-4 rounded-lg -translate-y-4 duration-500",{"transition-all translate-y-4 duration-500 opacity-90 shadow-slate-500 shadow-lg border border-slate-500":n.showMessage}])},[J("div",null,[n.type=="create"?(Ee(),Te("p",O0,"  ")):fo("",!0),n.type=="update"?(Ee(),Te("p",P0,"  ")):fo("",!0),n.type=="delete"?(Ee(),Te("p",L0,"  ")):fo("",!0),n.type=="error"?(Ee(),Te("p",R0,"  ")):fo("",!0)]),J("p",N0,Yt(n.messageToast),1)],2))}},F0={class:"grid grid-cols-12 p-5 h-svh text-gray-300 font-sans font-thin relative"},j0={class:"col-span-10 h-full p-4"},$0={__name:"App",setup(t){return(e,n)=>(Ee(),Te("div",F0,[Be(D0),Be(S0),J("main",j0,[Be(Ae(Au),null,{default:dr(({Component:o})=>[Be(Pp,{name:"fade"},{default:dr(()=>[(Ee(),Kn(Nf(o)))]),_:2},1024)]),_:1})])]))}},H0=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},U0={};function z0(t,e){return Ee(),Te("div",null,e[0]||(e[0]=[J("h1",null,"About page!",-1)]))}const W0=H0(U0,[["render",z0]]),V0="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%208.37688C22%208.78086%2021.6668%209.10836%2021.2557%209.10836H16.2937C15.8826%209.10836%2015.5494%208.78086%2015.5494%208.37688C15.5494%207.97289%2015.8826%207.64539%2016.2937%207.64539H21.2557C21.6668%207.64539%2022%207.97289%2022%208.37688Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012.7658C22%2013.1698%2021.6668%2013.4973%2021.2557%2013.4973H17.2861C16.875%2013.4973%2016.5418%2013.1698%2016.5418%2012.7658C16.5418%2012.3618%2016.875%2012.0343%2017.2861%2012.0343H21.2557C21.6668%2012.0343%2022%2012.3618%2022%2012.7658Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3cpath%20d='M12.5872%208.23781L12.9508%208.59515C14.4693%2010.0875%2015.2285%2010.8336%2015.2278%2011.6425C15.2276%2011.9068%2015.1728%2012.1682%2015.0666%2012.411C14.7417%2013.1542%2013.7441%2013.5444%2011.7489%2014.3248L11.6045%2014.3813C11.0389%2014.6025%2010.7561%2014.7132%2010.5279%2014.8908C10.3548%2015.0256%2010.2058%2015.1878%2010.0871%2015.3708C9.93056%2015.6119%209.84745%2015.8997%209.68123%2016.4753C9.42348%2017.3678%209.2946%2017.8141%209.01976%2018.0121C8.81551%2018.1593%208.56173%2018.2242%208.3104%2018.1934C7.97221%2018.1521%207.63845%2017.8241%206.97092%2017.168L5.94386%2016.1586L3.2706%2018.7858C2.97993%2019.0714%202.50867%2019.0714%202.218%2018.7858C1.92733%2018.5001%201.92733%2018.0369%202.218%2017.7513L4.88125%2015.1143L3.86422%2014.1148C3.1967%2013.4588%202.86293%2013.1307%202.82084%2012.7984C2.78956%2012.5514%202.85556%2012.302%203.00532%2012.1012C3.20683%2011.8311%203.66091%2011.7045%204.56907%2011.4511C5.15473%2011.2878%205.44756%2011.2061%205.69297%2011.0523C5.87915%2010.9356%206.0442%2010.7891%206.18133%2010.619C6.36209%2010.3948%206.47465%2010.1168%206.69977%209.56094L6.75724%209.41903C7.55132%207.45818%207.94835%206.47775%208.70458%206.15843C8.95161%206.05411%209.21763%206.00021%209.4865%206C10.3096%205.99934%2011.0688%206.7455%2012.5872%208.23781Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2017.1547C22%2017.5587%2021.6668%2017.8862%2021.2557%2017.8862H12.3241C11.9131%2017.8862%2011.5798%2017.5587%2011.5798%2017.1547C11.5798%2016.7507%2011.9131%2016.4232%2012.3241%2016.4232H21.2557C21.6668%2016.4232%2022%2016.7507%2022%2017.1547Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",q0="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M13.6315%208.22382C15.1616%209.7539%2015.9266%2010.5189%2015.926%2011.3483C15.9257%2011.6192%2015.8705%2011.8873%2015.7635%2012.1362C15.4361%2012.8982%2014.4309%2013.2983%2012.4204%2014.0985L12.2749%2014.1564C11.7049%2014.3832%2011.4199%2014.4967%2011.19%2014.6788C11.0156%2014.817%2010.8655%2014.9833%2010.7458%2015.1709C10.5881%2015.4182%2010.5044%2015.7133%2010.3369%2016.3034C10.0771%2017.2185%209.94727%2017.6761%209.67033%2017.8791C9.46451%2018.03%209.20879%2018.0966%208.95553%2018.065C8.61475%2018.0226%208.27843%2017.6863%207.60579%2017.0137L4.47529%2013.8832C3.80265%2013.2105%203.46633%2012.8742%203.42392%2012.5334C3.3924%2012.2802%203.4589%2012.0244%203.60981%2011.8186C3.81287%2011.5417%204.27042%2011.4118%205.18554%2011.1521C5.77568%2010.9846%206.07076%2010.9009%206.31804%2010.7431C6.50565%2010.6235%206.67197%2010.4733%206.81015%2010.2989C6.9923%2010.069%207.10572%209.78403%207.33256%209.21406L7.39047%209.06855C8.19063%207.05807%208.59071%206.05283%209.35273%205.72542C9.60165%205.61847%209.86971%205.56321%2010.1406%205.56299C10.5028%205.5627%2010.8526%205.70839%2011.2593%206.00002'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M3.34679%2018.142L6.04053%2015.4482'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M22%208H17'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M22%2012.5H18'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M22%2017H21M13%2017H17'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";function Li(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z","clip-rule":"evenodd"})])}function Ri(t,e){return Ee(),Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[J("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const Q0=async()=>{try{return await h0()}catch(t){throw Error(t)}},K0=async t=>await f0(t),G0=async t=>{try{const e=await p0(t);return e.id?vt().showMessage("Que fluyan las ideas!!","create"):vt().showMessage("mmm.. algo salio mal...","error"),e}catch(e){throw Error(e)}},Y0=async(t,e)=>{const n=await g0(t,e);return n.status==200?vt().showMessage("Todo guardado!!","update"):vt().showMessage("Error al actualizar nota","error"),n},Z0=async(t,e)=>{const n=await m0(t,e);return n.status==200?vt().showMessage("Todo guardado!!","update"):vt().showMessage("Error al actualizar nota","error"),n},X0=async(t,e)=>{const n=await b0(t,e);return n.status!=200&&vt().showMessage("Error al actualizar nota","error"),n},J0=async()=>{try{const t=await setFolderLocation(),e=vt();console.log(`FROM ACTION ${t}`),e.setLocation(t)}catch(t){throw Error(t)}},eb=async t=>{const e=await v0(t);return e.status==200?vt().showMessage("Ya no sera un problema...","delete"):vt().showMessage("Error al eliminar nota","error"),e},tb={class:"flex flex-row justify-between"},nb={__name:"InputDialogComponent",props:{show:Boolean,name:String,action:{type:Function,async default(t){const e=await G0(t);Na.push(`/editor/${e.id}`)}}},setup(t,{emit:e}){const n=bt(""),o=bt(null),r=e,s=t;mn(()=>{document.addEventListener("mousedown",l)}),Xn(()=>{document.removeEventListener("mousedown",l)});function i(){r("hidde")}function a(){s.action(n.value)}const l=d=>{o.value&&!o.value.contains(d.target)&&i()};return(d,u)=>(Ee(),Te("div",{ref_key:"menuWrapper",ref:o,class:fn(["absolute w-6/12 transition-all opacity-0 -translate-y-20 duration-700 bg-slate-600 p-2 rounded-md",{"transition-all translate-y-0 duration-700 opacity-100":s.show}])},[u[4]||(u[4]=J("h2",{class:"mb-2 font-semibold"},"Un titulo para la nota?",-1)),J("div",tb,[Pc(J("input",{onKeyup:u[0]||(u[0]=yi(f=>a(),["enter"])),class:"bg-slate-800 w-5/6 pl-2 placeholder:text-slate-500 rounded",type:"text",placeholder:"Titulo","onUpdate:modelValue":u[1]||(u[1]=f=>n.value=f)},null,544),[[bu,n.value]]),J("button",{onClick:u[2]||(u[2]=f=>a())},[Be(Ae(Li),{class:"size-6 hover:text-slate-400 transition-colors"})]),J("button",{onClick:u[3]||(u[3]=f=>i())},[Be(Ae(Ri),{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],2))}},ob={class:"flex items-baseline cursor-pointer text-white hover:text-blue-500",title:"Editar nombre"},rb={class:"flex items-baseline cursor-pointer hover:text-red-500",title:"Eliminar"},sb={__name:"DropDownComponent",props:{id:Number,name:String},setup(t,{emit:e}){const n=bt(!1),o=bt(null),r=e,s=t;mn(()=>{document.addEventListener("mousedown",l)}),Xn(()=>{document.removeEventListener("mousedown",l)});function i(u){n.value=u}function a(){r("showConfirmDialog",{show:!0,name:s.name,id:s.id})}const l=u=>{o.value&&!o.value.contains(u.target)&&i(!1)};function d(u){r("rename",{id:u})}return(u,f)=>(Ee(),Te("div",{class:"relative",ref_key:"menuWrapper",ref:o},[J("button",{onClick:f[0]||(f[0]=p=>i(!0)),title:"Opciones"},[n.value?(Ee(),Kn(Ae(hm),{key:0,class:"size-5 cursor-pointer"})):(Ee(),Kn(Ae(dm),{key:1,class:"size-5 cursor-pointer"}))]),n.value?(Ee(),Te("div",{key:0,id:"dialog",onKeyup:f[3]||(f[3]=yi(p=>i(!1),["esc"])),class:"absolute z-10 w-auto bg-sky-950 -translate-x-10 p-3 transition-all rounded"},[J("ul",null,[J("li",ob,[J("button",{onClick:f[1]||(f[1]=p=>d(s.id))},[Be(Ae(pm),{class:"size-4 inline-block mr-2"})])]),J("li",rb,[J("button",{onClick:f[2]||(f[2]=p=>a())},[Be(Ae(mm),{class:"size-4 inline-block mr-2"})])])])],32)):fo("",!0)],512))}},ib={class:"mb-2 font-semibold text-center"},ab={class:"flex flex-row justify-center"},lb={__name:"ConfirmDialogComponent",props:{show:Boolean,name:String},setup(t,{emit:e}){const n=e,o=bt(null),r=t;mn(()=>{document.addEventListener("pointerdown",s)}),Xn(()=>{document.removeEventListener("pointerdown",s)});const s=l=>{o.value&&!o.value.contains(l.target)&&i()};function i(){n("hidde")}function a(){n("delete")}return(l,d)=>(Ee(),Te("div",{ref_key:"menuWrapper",ref:o,class:fn(["absolute z-50 w-1/5 left-1/2 transition-all opacity-0 -translate-y-20 duration-700 bg-slate-600 p-2 rounded-md",{"transition-all translate-y-0 duration-700 opacity-100":r.show}])},[J("h2",ib,[d[2]||(d[2]=Oo("Seguro deseas eliminar ")),J("b",null,Yt(r.name),1),d[3]||(d[3]=Oo("?"))]),J("div",ab,[J("button",{onClick:d[0]||(d[0]=u=>a())},[Be(Ae(Li),{class:"size-6 mr-4 hover:text-slate-400 transition-colors"})]),J("button",{onClick:d[1]||(d[1]=u=>i())},[Be(Ae(Ri),{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],2))}},cb={class:"flex flex-row justify-between"},ub={__name:"InputDialogRenameComponent",props:{show:Boolean,id:Number,action:{type:Function,async default(t,e){await Z0(e,t)}}},setup(t,{emit:e}){const n=bt(""),o=bt(null),r=e,s=t;mn(()=>{document.addEventListener("mousedown",d)}),Xn(()=>{document.removeEventListener("mousedown",d)});function i(){r("hidde")}function a(){r("renamed")}function l(){s.action(n.value,s.id),a(),i()}const d=u=>{o.value&&!o.value.contains(u.target)&&i()};return(u,f)=>(Ee(),Te("div",{ref_key:"menuWrapper",ref:o,class:fn(["absolute w-6/12 transition-all opacity-0 -translate-y-20 duration-700 bg-slate-600 p-2 rounded-md",{"transition-all translate-y-0 duration-700 opacity-100":s.show}])},[f[4]||(f[4]=J("h2",{class:"mb-2 font-semibold"},"Ingresa el nuevo nombre",-1)),J("div",cb,[Pc(J("input",{onKeyup:f[0]||(f[0]=yi(p=>l(),["enter"])),class:"bg-slate-800 w-5/6 pl-2 placeholder:text-slate-500 rounded",type:"text",placeholder:"Titulo","onUpdate:modelValue":f[1]||(f[1]=p=>n.value=p)},null,544),[[bu,n.value]]),J("button",{onClick:f[2]||(f[2]=p=>l())},[Be(Ae(Li),{class:"size-6 hover:text-slate-400 transition-colors"})]),J("button",{onClick:f[3]||(f[3]=p=>i())},[Be(Ae(Ri),{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],2))}},db={class:"flex flex-row justify-between items-baseline mb-24"},hb={key:0},fb={key:1,class:"my-4 px-2 py-10 w-full max-h-90 overflow-scroll overflow-x-hidden bg-slate-900 rounded-2xl shadow-inner shadow-slate-950"},pb={class:"w-full table table-auto tabl"},gb={class:""},mb=["onClick"],bb=["onClick"],vb={class:"w-8/12"},yb=["onClick"],wb={class:"text-slate-600 mr-2"},kb={__name:"NotesView",props:{id:Number,name:String},setup(t,{emit:e}){const n=e,o=Mn({showInput:!1,showRename:{show:!1,id:null},delete:{showDialog:!1,name:null,id:null}}),r=bt([]);function s(w){Na.push(`/editor/${w}`)}zc(()=>{vt()}),mn(async()=>{i()});async function i(){const w=await Q0();r.value=w}function a(){o.showInput=!1}function l(){o.showRename.show=!1}async function d(){o.showInput=!o.showInput}async function u(w,E){X0(w,E).then(x=>{x.status==200&&setTimeout(async()=>{await i()},500)})}function f(w){o.showRename.show=!0,o.showRename.id=w}function p(w){o.delete.showDialog=w.show,o.delete.name=w.name,o.delete.id=w.id}async function b(w){(await eb(w)).status==200&&setTimeout(async()=>{g(),await i()},500),p(!0)}function h(){i()}function g(){n("deleted")}return(w,E)=>(Ee(),Te("div",null,[Be(nb,{show:o.showInput,onHidde:a},null,8,["show"]),Be(ub,{show:o.showRename.show,id:o.showRename.id,onHidde:l,onRenamed:E[0]||(E[0]=x=>h())},null,8,["show","id"]),Be(lb,{name:o.delete.name,show:o.delete.showDialog,onHidde:E[1]||(E[1]=x=>p(!1)),onDelete:E[2]||(E[2]=x=>b(o.delete.id))},null,8,["name","show"]),J("div",db,[E[7]||(E[7]=J("h1",{class:"float-left text-4xl"},"Notas almacenadas en tu equipo",-1)),J("button",{onClick:E[3]||(E[3]=x=>d()),title:"Crear nueva nota"},[Be(Ae(gm),{class:"size-5 mx-1 inline-block rounded animate-pulse hover:animate-none text-slate-50 hover:text-slate-400 transition-all"})])]),r.value.length==0?(Ee(),Te("div",hb,E[8]||(E[8]=[J("p",{class:"text-slate-400 text-lg"},"Wooow cuanto vaco...",-1)]))):(Ee(),Te("div",fb,[J("table",pb,[E[9]||(E[9]=J("thead",null,[J("tr",null,[J("th"),J("th"),J("th"),J("th")])],-1)),J("tbody",gb,[(Ee(!0),Te(Et,null,qc(r.value,(x,S)=>(Ee(),Te("tr",{key:x.title,class:"hover:bg-slate-800"},[J("td",null,[x.hold==1?(Ee(),Te("img",{key:0,onClick:A=>u(x.id,!x.hold),src:V0,class:"size-6 cursor-pointer",alt:"",title:"No fijar"},null,8,mb)):(Ee(),Te("img",{key:1,onClick:A=>u(x.id,!x.hold),src:q0,class:"size-5 cursor-pointer opacity-0 hover:opacity-80 transition-opacity",alt:"",title:"Fijar"},null,8,bb))]),J("td",vb,[J("button",{onClick:A=>s(x.id),class:"text-slate-500 font-semibold hover:text-slate-200 cursor-pointer"},Yt(x.title),9,yb)]),J("td",null,[J("p",wb,Yt(x.updated_at),1)]),J("td",null,[Be(sb,{id:x.id,name:x.title,onDeleted:E[4]||(E[4]=A=>i()),onRename:E[5]||(E[5]=A=>f(A.id)),onShowConfirmDialog:E[6]||(E[6]=A=>p(A))},null,8,["id","name"])])]))),128))])])]))]))}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Eb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),n}function ws(){}Object.assign(ws,{default:ws,register:ws,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const o=n instanceof Node;e.appendChild(o?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),o=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),s=this.offsetTop-e.offsetTop<e.scrollTop,i=this.offsetTop-e.offsetTop+this.clientHeight-o>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-r>e.scrollLeft+e.clientWidth,d=s&&!i;(s||i)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-o+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-r+this.clientWidth/2),(s||i||a||l)&&!t&&this.scrollIntoView(d)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let xb=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var yd=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(yd||{});const me={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},Sb={LEFT:0};function zo(t,e,n="log",o,r="color: inherit"){if(!("console"in window)||!window.console[n])return;const s=["info","log","warn","error"].includes(n),i=[];switch(zo.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!s||t)return;break}o&&i.push(o);const a="Editor.js 2.31.0-rc.7";t&&(s?(i.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,r),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{s?o?console[n](`${e} %o`,...i):console[n](e,...i):console[n](e)}catch{}}zo.logLevel="VERBOSE";function Cb(t){zo.logLevel=t}const Le=zo.bind(window,!1),St=zo.bind(window,!0);function In(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Ue(t){return In(t)==="function"||In(t)==="asyncfunction"}function Xe(t){return In(t)==="object"}function Zt(t){return In(t)==="string"}function _b(t){return In(t)==="boolean"}function $l(t){return In(t)==="number"}function Hl(t){return In(t)==="undefined"}function Tt(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function wd(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function Tb(t,e=()=>{},n=()=>{}){async function o(r,s,i){try{await r.function(r.data),await s(Hl(r.data)?{}:r.data)}catch{i(Hl(r.data)?{}:r.data)}}return t.reduce(async(r,s)=>(await r,o(s,e,n)),Promise.resolve())}function kd(t){return Array.prototype.slice.call(t)}function br(t,e){return function(){const n=this,o=arguments;window.setTimeout(()=>t.apply(n,o),e)}}function Bb(t){return t.name.split(".").pop()}function Ib(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function Ul(t,e,n){let o;return(...r)=>{const s=this,i=()=>{o=null,t.apply(s,r)};window.clearTimeout(o),o=window.setTimeout(i,e)}}function Qs(t,e,n=void 0){let o,r,s,i=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),i=null,s=t.apply(o,r),i||(o=r=null)};return function(){const d=Date.now();!a&&n.leading===!1&&(a=d);const u=e-(d-a);return o=this,r=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=d,s=t.apply(o,r),i||(o=r=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,u)),s}}function Ab(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function vr(t){return t[0].toUpperCase()+t.slice(1)}function Ks(t,...e){if(!e.length)return t;const n=e.shift();if(Xe(t)&&Xe(n))for(const o in n)Xe(n[o])?(t[o]||Object.assign(t,{[o]:{}}),Ks(t[o],n[o])):Object.assign(t,{[o]:n[o]});return Ks(t,...e)}function Ni(t){const e=Ab();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function Mb(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Ob(){return xb(10)}function Pb(t){window.open(t,"_blank")}function Lb(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Gs(t,e,n){const o=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&St(o,"warn")}function no(t,e,n){const o=n.value?"value":"get",r=n[o],s=`#${e}Cache`;if(n[o]=function(...i){return this[s]===void 0&&(this[s]=r.apply(this,...i)),this[s]},o==="get"&&n.set){const i=n.set;n.set=function(a){delete t[s],i.apply(this,a)}}return n}const Ed=650;function oo(){return window.matchMedia(`(max-width: ${Ed}px)`).matches}const Ys=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Rb(t,e){const n=Array.isArray(t)||Xe(t),o=Array.isArray(e)||Xe(e);return n||o?JSON.stringify(t)===JSON.stringify(e):t===e}class ${static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,o={}){const r=document.createElement(e);if(Array.isArray(n)){const s=n.filter(i=>i!==void 0);r.classList.add(...s)}else n&&r.classList.add(n);for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s]);return r}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(o=>e.appendChild(o)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(o=>e.prepend(o))):e.prepend(n)}static swap(e,n){const o=document.createElement("div"),r=e.parentNode;r.insertBefore(o,e),r.insertBefore(e,n),r.insertBefore(n,o),r.removeChild(o)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return kd(e.querySelectorAll($.allInputsSelector)).reduce((n,o)=>$.isNativeInput(o)||$.containsOnlyInlineElements(o)?[...n,o]:[...n,...$.getDeepestBlockElements(o)],[])}static getDeepestNode(e,n=!1){const o=n?"lastChild":"firstChild",r=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let s=e[o];if($.isSingleTag(s)&&!$.isNativeInput(s)&&!$.isLineBreakTag(s))if(s[r])s=s[r];else if(s.parentNode[r])s=s.parentNode[r];else return s.parentNode;return this.getDeepestNode(s,n)}return e}static isElement(e){return $l(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return $l(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if($.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=$.isContentEditable(e);return n}static isNodeEmpty(e,n){let o;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?o=e.value:o=e.textContent.replace("",""),n&&(o=o.replace(new RegExp(n,"g"),"")),o.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){const o=[e];for(;o.length>0;)if(e=o.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=$.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return $.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Zt(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const o=r=>!$.blockElements.includes(r.tagName.toLowerCase())&&Array.from(r.children).every(o);return Array.from(n.children).every(o)}static getDeepestBlockElements(e){return $.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,o)=>[...n,...$.getDeepestBlockElements(o)],[])}static getHolder(e){return Zt(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,s=n.top+r,i=n.left+o;return{top:s,left:i,bottom:s+n.height,right:i+n.width}}}function Nb(t){return!/[^\t\n\r ]/.test(t)}function Db(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||n*1.2,r=parseFloat(e.paddingTop),s=parseFloat(e.borderTopWidth),i=parseFloat(e.marginTop),a=n*.8,l=(o-n)/2;return i+s+r+l+a}function xd(t){t.dataset.empty=$.isEmpty(t)?"true":"false"}const Fb={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},jb={Text:"",Link:"",Bold:"",Italic:""},$b={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Hb={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Sd={ui:Fb,toolNames:jb,tools:$b,blockTunes:Hb},Cd=class Hn{static ui(e,n){return Hn._t(e,n)}static t(e,n){return Hn._t(e,n)}static setDictionary(e){Hn.currentDictionary=e}static _t(e,n){const o=Hn.getNamespace(e);return!o||!o[n]?n:o[n]}static getNamespace(e){return e.split(".").reduce((n,o)=>!n||!Object.keys(n).length?{}:n[o],Hn.currentDictionary)}};Cd.currentDictionary=Sd;let ct=Cd;class _d extends Error{}class Wo{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const o=r=>{const s=n(r),i=this.subscribers[e].indexOf(o);return i!==-1&&this.subscribers[e].splice(i,1),s};this.subscribers[e].push(o)}emit(e,n){Tt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((o,r)=>{const s=r(o);return s!==void 0?s:o},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===n){delete this.subscribers[e][o];break}}destroy(){this.subscribers={}}}function qt(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}class Vo{constructor(){this.allListeners=[]}on(e,n,o,r=!1){const s=Lb("l"),i={id:s,element:e,eventType:n,handler:o,options:r};if(!this.findOne(e,n,o))return this.allListeners.push(i),e.addEventListener(n,o,r),s}off(e,n,o,r){const s=this.findAll(e,n,o);s.forEach((i,a)=>{const l=this.allListeners.indexOf(s[a]);l>-1&&(this.allListeners.splice(l,1),i.element.removeEventListener(i.eventType,i.handler,i.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,o){const r=this.findAll(e,n,o);return r.length>0?r[0]:null}findAll(e,n,o){let r;const s=e?this.findByEventTarget(e):[];return e&&n&&o?r=s.filter(i=>i.eventType===n&&i.handler===o):e&&n?r=s.filter(i=>i.eventType===n):r=s,r}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class Se{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Vo,this.readOnlyMutableListeners={on:(o,r,s,i=!1)=>{this.mutableListenerIds.push(this.listeners.on(o,r,s,i))},clearAll:()=>{for(const o of this.mutableListenerIds)this.listeners.offById(o);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Se)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class ae{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?$.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(ae.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${ae.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${ae.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!ae.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,o={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),o.x=n.boundingLeft,o.y=n.boundingTop,o.width=n.boundingWidth,o.height=n.boundingHeight,o;if(!window.getSelection)return Le("Method window.getSelection is not supported","warn"),o;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Le("Method SelectionUtils.rangeCount is not supported","warn"),o;if(e.rangeCount===0)return o;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(o=n.getBoundingClientRect()),o.x===0&&o.y===0){const r=document.createElement("span");if(r.getBoundingClientRect){r.appendChild(document.createTextNode("")),n.insertNode(r),o=r.getBoundingClientRect();const s=r.parentNode;s.removeChild(r),s.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const o=document.createRange(),r=window.getSelection();return $.isNativeInput(e)?$.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(o.setStart(e,n),o.setEnd(e,n),r.removeAllRanges(),r.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){const n=ae.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=ae.range;if(e===null)return;const n=$.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return $.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=$.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=ae.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,o=10){const r=window.getSelection();let s=null;return!r||!r.anchorNode||!r.focusNode?null:([r.anchorNode,r.focusNode].forEach(i=>{let a=o;for(;a>0&&i.parentNode&&!(i.tagName===e&&(s=i,n&&i.classList&&!i.classList.contains(n)&&(s=null),s));)i=i.parentNode,a--}),s)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const o=document.createRange();o.selectNodeContents(e),n.addRange(o)}}function Ub(t,e){const{type:n,target:o,addedNodes:r,removedNodes:s}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(o)||n==="childList"&&(Array.from(r).some(i=>i===e)||Array.from(s).some(i=>i===e)))}const Zs="redactor dom changed",Td="block changed",Bd="fake cursor is about to be toggled",Id="fake cursor have been set",Fo="editor mobile layout toggled";function Xs(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return Ue(n)||Zt(n)}function yr(t,e){return Xs(t.tool,e)}function Ad(t,e){return Object.entries(t).some(([n,o])=>e[n]&&Rb(e[n],o))}async function Md(t,e){const n=(await t.save()).data,o=e.find(r=>r.name===t.name);return o!==void 0&&!Xs(o,"export")?[]:e.reduce((r,s)=>{if(!Xs(s,"import")||s.toolbox===void 0)return r;const i=s.toolbox.filter(a=>{if(Tt(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(Ad(a.data,n))return!1}else if(s.name===t.name)return!1;return!0});return r.push({...s,toolbox:i}),r},[])}function zl(t,e){return t.mergeable?t.name===e.name?!0:yr(e,"export")&&yr(t,"import"):!1}function zb(t,e){const n=e==null?void 0:e.export;return Ue(n)?n(t):Zt(n)?t[n]:(n!==void 0&&Le("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Wl(t,e,n){const o=e==null?void 0:e.import;return Ue(o)?o(t,n):Zt(o)?{[o]:t}:(o!==void 0&&Le("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var He=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(He||{}),Qt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Qt||{});class Ze extends Wo{constructor({id:e=Ob(),data:n,tool:o,readOnly:r,tunesData:s},i){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const l=a===void 0,d=a instanceof InputEvent;!l&&!d&&this.detectToolRootChange(a);let u;l||d?u=!0:u=!(a.length>0&&a.every(f=>{const{addedNodes:p,removedNodes:b,target:h}=f;return[...Array.from(p),...Array.from(b),h].some(g=>($.isElement(g)||(g=g.parentElement),g&&g.closest('[data-mutation-free="true"]')!==null))})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.editorEventBus=i||null,this.blockAPI=new qt(this),this.tool=o,this.toolInstance=o.create(n,this.blockAPI,r),this.tunes=o.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=$.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(o=>o===e||o.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Tt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Ue(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=$.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,o;this.holder.classList.toggle(Ze.CSS.selected,e);const r=e===!0&&ae.isRangeInsideContainer(this.holder),s=e===!1&&ae.isFakeCursorInsideContainer(this.holder);(r||s)&&((n=this.editorEventBus)==null||n.emit(Bd,{state:e}),r?ae.addFakeCursor():ae.removeFakeCursor(this.holder),(o=this.editorEventBus)==null||o.emit(Id,{state:e}))}get selected(){return this.holder.classList.contains(Ze.CSS.selected)}set stretched(e){this.holder.classList.toggle(Ze.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Ze.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Ze.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(Ue(this.toolInstance[e])){e==="appendCallback"&&Le("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(o){Le(`Error during '${e}' call: ${o.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([s,i])=>{if(Ue(i.save))try{n[s]=i.save()}catch(a){Le(`Tune ${i.constructor.name} save method throws an Error %o`,"warn",a)}});const o=window.performance.now();let r;return Promise.resolve(e).then(s=>(r=window.performance.now(),{id:this.id,tool:this.name,data:s,tunes:n,time:r-o})).catch(s=>{Le(`Saving process for ${this.name} tool failed due to the ${s}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],o=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return $.isElement(o)?e.push({type:He.Html,element:o}):Array.isArray(o)?e.push(...o):e.push(o),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(r=>r.render()).forEach(r=>{$.isElement(r)?n.push({type:He.Html,element:r}):Array.isArray(r)?n.push(...r):n.push(r)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=$.isNativeInput(document.activeElement)||!ae.anchorNode?document.activeElement:ae.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Ue(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,o=e;return o==null?void 0:o.find(r=>Ad(r.data,n))}async exportDataAsString(){const e=await this.data;return zb(e,this.tool.conversionConfig)}compose(){const e=$.make("div",Ze.CSS.wrapper),n=$.make("div",Ze.CSS.content),o=this.toolInstance.render();e.setAttribute("data-cy","block-wrapper"),e.dataset.id=this.id,this.toolRenderedElement=o,n.appendChild(this.toolRenderedElement);let r=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(s=>{if(Ue(s.wrap))try{r=s.wrap(r)}catch(i){Le(`Tune ${s.constructor.name} wrap method throws an Error %o`,"warn",i)}}),e.appendChild(r),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,o])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=o)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),$.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),$.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:o}=n;o.some(r=>Ub(r,this.toolRenderedElement))&&this.didMutated(o)},(e=this.editorEventBus)==null||e.on(Zs,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Zs,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const o=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=o}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(xd)}}class Wb extends Se{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},o={},r,s,i,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:r,needToFocus:s,replace:i});return new qt(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Ze({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,o)=>{const{BlockManager:r}=this.Editor,s=r.getBlockById(e);if(s===void 0)throw new Error(`Block with id "${e}" not found`);const i=await r.update(s,n,o);return new qt(i)},this.convert=async(e,n,o)=>{var r,s;const{BlockManager:i,Tools:a}=this.Editor,l=i.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const d=a.blockTools.get(l.name),u=a.blockTools.get(n);if(!u)throw new Error(`Block Tool with type "${n}" not found`);const f=((r=d==null?void 0:d.conversionConfig)==null?void 0:r.export)!==void 0,p=((s=u.conversionConfig)==null?void 0:s.import)!==void 0;if(f&&p){const b=await i.convert(l,n,o);return new qt(b)}else{const b=[f?!1:vr(l.name),p?!1:vr(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${b} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const o=e.map(({id:r,type:s,data:i})=>this.Editor.BlockManager.composeBlock({id:r,tool:s||this.config.defaultBlock,data:i}));return this.Editor.BlockManager.insertMany(o,n),o.map(r=>new qt(r))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){St("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){St("There is no block at index `"+e+"`","warn");return}return new qt(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(St("There is no block with id `"+e+"`","warn"),null):new qt(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){St("There is no block corresponding to element `"+e+"`","warn");return}return new qt(n)}swap(e,n){Le("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){St(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Gs(!0,"blocks.stretchBlock()","BlockAPI");const o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=n)}insertNewBlock(){Le("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function Vb(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class qb extends Se{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,o=0)=>{const r=Vb(e,this.Editor);return r===void 0?!1:(this.Editor.Caret.setToBlock(r,n,o),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Qb extends Se{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class Di extends Se{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{St("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:o=>ct.t(Di.getNamespace(e,n),o)})}}class Kb extends Se{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class Gb extends Se{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Yb extends Se{get methods(){return{on:(e,n,o,r)=>this.on(e,n,o,r),off:(e,n,o,r)=>this.off(e,n,o,r),offById:e=>this.offById(e)}}on(e,n,o,r){return this.listeners.on(e,n,o,r)}off(e,n,o,r){this.listeners.off(e,n,o,r)}offById(e){this.listeners.offById(e)}}var Od={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(s){if(o[s])return o[s].exports;var i=o[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=o,r.d=function(s,i,a){r.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,i){if(1&i&&(s=r(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)r.d(a,l,(function(d){return s[d]}).bind(null,l));return a},r.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(i,"a",i),i},r.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},r.p="/",r(r.s=0)}([function(n,o,r){r(1),n.exports=function(){var s=r(6),i="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=s.getWrapper(),document.body.appendChild(a)})();var d=null,u=l.time||8e3;switch(l.type){case"confirm":d=s.confirm(l);break;case"prompt":d=s.prompt(l);break;default:d=s.alert(l),window.setTimeout(function(){d.remove()},u)}a.appendChild(d),d.classList.add(i)}}}}()},function(n,o,r){var s=r(2);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(4)(s,i),s.locals&&(n.exports=s.locals)},function(n,o,r){(n.exports=r(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,o){n.exports=function(r){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,d){var u=l[1]||"",f=l[3];if(!f)return u;if(d&&typeof btoa=="function"){var p=(h=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),b=f.sources.map(function(g){return"/*# sourceURL="+f.sourceRoot+g+" */"});return[u].concat(b).concat([p]).join(`
`)}var h;return[u].join(`
`)}(i,r);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},d=0;d<this.length;d++){var u=this[d][0];typeof u=="number"&&(l[u]=!0)}for(d=0;d<i.length;d++){var f=i[d];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),s.push(f))}},s}},function(n,o,r){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),d=function(_){var k={};return function(M){if(typeof M=="function")return M();if(k[M]===void 0){var P=(function(D){return document.querySelector(D)}).call(this,M);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch{P=null}k[M]=P}return k[M]}}(),u=null,f=0,p=[],b=r(5);function h(_,k){for(var M=0;M<_.length;M++){var P=_[M],D=a[P.id];if(D){D.refs++;for(var H=0;H<D.parts.length;H++)D.parts[H](P.parts[H]);for(;H<P.parts.length;H++)D.parts.push(A(P.parts[H],k))}else{var F=[];for(H=0;H<P.parts.length;H++)F.push(A(P.parts[H],k));a[P.id]={id:P.id,refs:1,parts:F}}}}function g(_,k){for(var M=[],P={},D=0;D<_.length;D++){var H=_[D],F=k.base?H[0]+k.base:H[0],U={css:H[1],media:H[2],sourceMap:H[3]};P[F]?P[F].parts.push(U):M.push(P[F]={id:F,parts:[U]})}return M}function w(_,k){var M=d(_.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var P=p[p.length-1];if(_.insertAt==="top")P?P.nextSibling?M.insertBefore(k,P.nextSibling):M.appendChild(k):M.insertBefore(k,M.firstChild),p.push(k);else if(_.insertAt==="bottom")M.appendChild(k);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var D=d(_.insertInto+" "+_.insertAt.before);M.insertBefore(k,D)}}function E(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var k=p.indexOf(_);k>=0&&p.splice(k,1)}function x(_){var k=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),S(k,_.attrs),w(_,k),k}function S(_,k){Object.keys(k).forEach(function(M){_.setAttribute(M,k[M])})}function A(_,k){var M,P,D,H;if(k.transform&&_.css){if(!(H=k.transform(_.css)))return function(){};_.css=H}if(k.singleton){var F=f++;M=u||(u=x(k)),P=O.bind(null,M,F,!1),D=O.bind(null,M,F,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(U){var K=document.createElement("link");return U.attrs.type===void 0&&(U.attrs.type="text/css"),U.attrs.rel="stylesheet",S(K,U.attrs),w(U,K),K}(k),P=(function(U,K,G){var re=G.css,ge=G.sourceMap,Me=K.convertToAbsoluteUrls===void 0&&ge;(K.convertToAbsoluteUrls||Me)&&(re=b(re)),ge&&(re+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ge))))+" */");var ke=new Blob([re],{type:"text/css"}),ve=U.href;U.href=URL.createObjectURL(ke),ve&&URL.revokeObjectURL(ve)}).bind(null,M,k),D=function(){E(M),M.href&&URL.revokeObjectURL(M.href)}):(M=x(k),P=(function(U,K){var G=K.css,re=K.media;if(re&&U.setAttribute("media",re),U.styleSheet)U.styleSheet.cssText=G;else{for(;U.firstChild;)U.removeChild(U.firstChild);U.appendChild(document.createTextNode(G))}}).bind(null,M),D=function(){E(M)});return P(_),function(U){if(U){if(U.css===_.css&&U.media===_.media&&U.sourceMap===_.sourceMap)return;P(_=U)}else D()}}n.exports=function(_,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=l()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var M=g(_,k);return h(M,k),function(P){for(var D=[],H=0;H<M.length;H++){var F=M[H];(U=a[F.id]).refs--,D.push(U)}for(P&&h(g(P,k),k),H=0;H<D.length;H++){var U;if((U=D[H]).refs===0){for(var K=0;K<U.parts.length;K++)U.parts[K]();delete a[U.id]}}}};var L,C=(L=[],function(_,k){return L[_]=k,L.filter(Boolean).join(`
`)});function O(_,k,M,P){var D=M?"":P.css;if(_.styleSheet)_.styleSheet.cssText=C(k,D);else{var H=document.createTextNode(D),F=_.childNodes;F[k]&&_.removeChild(F[k]),F.length?_.insertBefore(H,F[k]):_.appendChild(H)}}},function(n,o){n.exports=function(r){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,d){var u,f=d.trim().replace(/^"(.*)"$/,function(p,b){return b}).replace(/^'(.*)'$/,function(p,b){return b});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?i+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,o,r){var s,i,a,l,d,u,f,p,b;n.exports=(s="cdx-notifies",i="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",d="cdx-notify__button--cancel",u="cdx-notify__input",f="cdx-notify__button",p="cdx-notify__btns-wrapper",{alert:b=function(h){var g=document.createElement("DIV"),w=document.createElement("DIV"),E=h.message,x=h.style;return g.classList.add(i),x&&g.classList.add(i+"--"+x),g.innerHTML=E,w.classList.add(a),w.addEventListener("click",g.remove.bind(g)),g.appendChild(w),g},confirm:function(h){var g=b(h),w=document.createElement("div"),E=document.createElement("button"),x=document.createElement("button"),S=g.querySelector("."+a),A=h.cancelHandler,L=h.okHandler;return w.classList.add(p),E.innerHTML=h.okText||"Confirm",x.innerHTML=h.cancelText||"Cancel",E.classList.add(f),x.classList.add(f),E.classList.add(l),x.classList.add(d),A&&typeof A=="function"&&(x.addEventListener("click",A),S.addEventListener("click",A)),L&&typeof L=="function"&&E.addEventListener("click",L),E.addEventListener("click",g.remove.bind(g)),x.addEventListener("click",g.remove.bind(g)),w.appendChild(E),w.appendChild(x),g.appendChild(w),g},prompt:function(h){var g=b(h),w=document.createElement("div"),E=document.createElement("button"),x=document.createElement("input"),S=g.querySelector("."+a),A=h.cancelHandler,L=h.okHandler;return w.classList.add(p),E.innerHTML=h.okText||"Ok",E.classList.add(f),E.classList.add(l),x.classList.add(u),h.placeholder&&x.setAttribute("placeholder",h.placeholder),h.default&&(x.value=h.default),h.inputType&&(x.type=h.inputType),A&&typeof A=="function"&&S.addEventListener("click",A),L&&typeof L=="function"&&E.addEventListener("click",function(){L(x.value)}),E.addEventListener("click",g.remove.bind(g)),w.appendChild(x),w.appendChild(E),g.appendChild(w),g},getWrapper:function(){var h=document.createElement("DIV");return h.classList.add(s),h}})}])})})(Od);var Zb=Od.exports;const Xb=Vr(Zb);class Jb{show(e){Xb.show(e)}}class ev extends Se{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new Jb}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class tv extends Se{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Pd={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(Do,function(){function n(f){var p=f.tags,b=Object.keys(p),h=b.map(function(g){return typeof p[g]}).every(function(g){return g==="object"||g==="boolean"||g==="function"});if(!h)throw new Error("The configuration was invalid");this.config=f}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(f){return o.indexOf(f.nodeName)!==-1}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function i(f){return s.indexOf(f.nodeName)!==-1}n.prototype.clean=function(f){const p=document.implementation.createHTMLDocument(),b=p.createElement("div");return b.innerHTML=f,this._sanitize(p,b),b.innerHTML},n.prototype._sanitize=function(f,p){var b=a(f,p),h=b.firstChild();if(h)do{if(h.nodeType===Node.TEXT_NODE)if(h.data.trim()===""&&(h.previousElementSibling&&r(h.previousElementSibling)||h.nextElementSibling&&r(h.nextElementSibling))){p.removeChild(h),this._sanitize(f,p);break}else continue;if(h.nodeType===Node.COMMENT_NODE){p.removeChild(h),this._sanitize(f,p);break}var g=i(h),w;g&&(w=Array.prototype.some.call(h.childNodes,r));var E=!!p.parentNode,x=r(p)&&r(h)&&E,S=h.nodeName.toLowerCase(),A=l(this.config,S,h),L=g&&w;if(L||d(h,A)||!this.config.keepNestedBlockElements&&x){if(!(h.nodeName==="SCRIPT"||h.nodeName==="STYLE"))for(;h.childNodes.length>0;)p.insertBefore(h.childNodes[0],h);p.removeChild(h),this._sanitize(f,p);break}for(var C=0;C<h.attributes.length;C+=1){var O=h.attributes[C];u(O,A,h)&&(h.removeAttribute(O.name),C=C-1)}this._sanitize(f,h)}while(h=b.nextSibling())};function a(f,p){return f.createTreeWalker(p,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(f,p,b){return typeof f.tags[p]=="function"?f.tags[p](b):f.tags[p]}function d(f,p){return typeof p>"u"?!0:typeof p=="boolean"?!p:!1}function u(f,p,b){var h=f.name.toLowerCase();return p===!0?!1:typeof p[h]=="function"?!p[h](f.value,b):typeof p[h]>"u"||p[h]===!1?!0:typeof p[h]=="string"?p[h]!==f.value:!1}return n})})(Pd);var nv=Pd.exports;const ov=Vr(nv);function Fi(t,e){return t.map(n=>{const o=Ue(e)?e(n.tool):e;return Tt(o)||(n.data=ji(n.data,o)),n})}function Ft(t,e={}){const n={tags:e};return new ov(n).clean(t)}function ji(t,e){return Array.isArray(t)?rv(t,e):Xe(t)?sv(t,e):Zt(t)?iv(t,e):t}function rv(t,e){return t.map(n=>ji(n,e))}function sv(t,e){const n={};for(const o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const r=t[o],s=av(e[o])?e[o]:e;n[o]=ji(r,s)}return n}function iv(t,e){return Xe(e)?Ft(t,e):e===!1?Ft(t,{}):t}function av(t){return Xe(t)||_b(t)||Ue(t)}class lv extends Se{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Ft(e,n)}}class cv extends Se{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(St(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class uv extends Se{constructor(){super(...arguments),this.selectionUtils=new ae}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class dv extends Se{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class hv extends Se{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class fv extends Se{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){St("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){St("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Ld={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(s){if(o[s])return o[s].exports;var i=o[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=o,r.d=function(s,i,a){r.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,i){if(1&i&&(s=r(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)r.d(a,l,(function(d){return s[d]}).bind(null,l));return a},r.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(i,"a",i),i},r.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},r.p="",r(r.s=0)}([function(n,o,r){n.exports=r(1)},function(n,o,r){r.r(o),r.d(o,"default",function(){return s});class s{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,d){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},d);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,d){a.addEventListener("mouseenter",()=>{this.show(a,l,d)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=r(2),d=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,d)}placeBottom(a,l){const d=a.getBoundingClientRect(),u=d.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=d.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,f)}placeTop(a,l){const d=a.getBoundingClientRect(),u=d.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=d.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,f)}placeLeft(a,l){const d=a.getBoundingClientRect(),u=d.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,f=d.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,f)}placeRight(a,l){const d=a.getBoundingClientRect(),u=d.right+this.offsetRight+l.marginRight,f=d.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,f)}applyPlacement(a,l,d){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=d+"px"}make(a,l=null,d={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const f in d)d.hasOwnProperty(f)&&(u[f]=d[f]);return u}append(a,l){Array.isArray(l)?l.forEach(d=>a.appendChild(d)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(d=>a.prepend(d)):a.prepend(l)}}},function(n,o){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Ld);var pv=Ld.exports;const gv=Vr(pv);let At=null;function $i(){At||(At=new gv)}function mv(t,e,n){$i(),At==null||At.show(t,e,n)}function wr(t=!1){$i(),At==null||At.hide(t)}function kr(t,e,n){$i(),At==null||At.onHover(t,e,n)}function bv(){At==null||At.destroy(),At=null}class vv extends Se{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,o)=>this.show(e,n,o),hide:()=>this.hide(),onHover:(e,n,o)=>this.onHover(e,n,o)}}show(e,n,o){mv(e,n,o)}hide(){wr()}onHover(e,n,o){kr(e,n,o)}}class yv extends Se{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Rd(t,e){const n={};return Object.entries(t).forEach(([o,r])=>{if(Xe(r)){const s=e?`${e}.${o}`:o;Object.values(r).every(i=>Zt(i))?n[o]=s:n[o]=Rd(r,s);return}n[o]=r}),n}const mt=Rd(Sd);function wv(t,e){const n={};return Object.keys(t).forEach(o=>{const r=e[o];r!==void 0?n[r]=t[o]:n[o]=t[o]}),n}const Nd=class po{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(po.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(po.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===po.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===po.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,$.canSetCaret(this.items[n])&&br(()=>ae.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};Nd.directions={RIGHT:"right",LEFT:"left"};let lo=Nd;class An{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(An.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case me.TAB:this.handleTabPress(n);break;case me.LEFT:case me.UP:this.flipLeft();break;case me.RIGHT:case me.DOWN:this.flipRight();break;case me.ENTER:this.handleEnterPress(n);break}},this.iterator=new lo(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||An.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[me.TAB,me.LEFT,me.RIGHT,me.ENTER,me.UP,me.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?lo.directions.LEFT:lo.directions.RIGHT){case lo.directions.RIGHT:this.flipRight();break;case lo.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Ue(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}const kv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Ev='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',xv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',Sv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',Cv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',_v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Tv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Bv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Vl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Iv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Av='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Dd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',Mv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Ov='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Pv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',Lv="__",Rv="--";function bn(t){return(e,n)=>[[t,e].filter(o=>!!o).join(Lv),n].filter(o=>!!o).join(Rv)}const co=bn("ce-hint"),uo={root:co(),alignedStart:co(null,"align-left"),alignedCenter:co(null,"align-center"),title:co("title"),description:co("description")};class Nv{constructor(e){this.nodes={root:$.make("div",[uo.root,e.alignment==="center"?uo.alignedCenter:uo.alignedStart]),title:$.make("div",uo.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=$.make("div",uo.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}class Hi{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){wr()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const o=new Nv(n);kr(e,o.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}}const ft=bn("ce-popover-item"),ze={container:ft(),active:ft(null,"active"),disabled:ft(null,"disabled"),focused:ft(null,"focused"),hidden:ft(null,"hidden"),confirmationState:ft(null,"confirmation"),noHover:ft(null,"no-hover"),noFocus:ft(null,"no-focus"),title:ft("title"),secondaryTitle:ft("secondary-title"),icon:ft("icon"),iconTool:ft("icon","tool"),iconChevronRight:ft("icon","chevron-right"),wobbleAnimation:bn("wobble")()};class Sn extends Hi{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var o;(o=this.nodes.root)==null||o.classList.remove(ze.noFocus)},this.removeSpecialHoverBehavior=()=>{var o;(o=this.nodes.root)==null||o.classList.remove(ze.noHover)},this.onErrorAnimationEnd=()=>{var o,r;(o=this.nodes.icon)==null||o.classList.remove(ze.wobbleAnimation),(r=this.nodes.icon)==null||r.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(ze.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(ze.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(ze.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var o,r;const s=(n==null?void 0:n.wrapperTag)||"div",i=$.make(s,ze.container,{type:s==="button"?"button":void 0});return e.name&&(i.dataset.itemName=e.name),this.nodes.icon=$.make("div",[ze.icon,ze.iconTool],{innerHTML:e.icon||Tv}),i.appendChild(this.nodes.icon),e.title!==void 0&&i.appendChild($.make("div",ze.title,{innerHTML:e.title||""})),e.secondaryLabel&&i.appendChild($.make("div",ze.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&i.appendChild($.make("div",[ze.icon,ze.iconChevronRight],{innerHTML:Sv})),this.isActive&&i.classList.add(ze.active),e.isDisabled&&i.classList.add(ze.disabled),e.hint!==void 0&&((o=n==null?void 0:n.hint)==null?void 0:o.enabled)!==!1&&this.addHint(i,{...e.hint,position:((r=n==null?void 0:n.hint)==null?void 0:r.position)||"right"}),i}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},o=this.make(n);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(ze.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ze.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,o;(e=this.nodes.root)==null||e.classList.add(ze.noHover),(n=this.nodes.root)==null||n.classList.add(ze.noFocus),(o=this.nodes.root)==null||o.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,o;(e=this.nodes.icon)!=null&&e.classList.contains(ze.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(ze.wobbleAnimation),(o=this.nodes.icon)==null||o.addEventListener("animationend",this.onErrorAnimationEnd))}}const ks=bn("ce-popover-item-separator"),Es={container:ks(),line:ks("line"),hidden:ks(null,"hidden")};class Fd extends Hi{constructor(){super(),this.nodes={root:$.make("div",Es.container),line:$.make("div",Es.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Es.hidden,e)}}var $t=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))($t||{});const rt=bn("ce-popover"),Ve={popover:rt(),popoverContainer:rt("container"),popoverOpenTop:rt(null,"open-top"),popoverOpenLeft:rt(null,"open-left"),popoverOpened:rt(null,"opened"),search:rt("search"),nothingFoundMessage:rt("nothing-found-message"),nothingFoundMessageDisplayed:rt("nothing-found-message","displayed"),items:rt("items"),overlay:rt("overlay"),overlayHidden:rt("overlay","hidden"),popoverNested:rt(null,"nested"),getPopoverNestedClass:t=>rt(null,`nested-level-${t.toString()}`),popoverInline:rt(null,"inline"),popoverHeader:rt("header")};var Qn=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(Qn||{});const ql=bn("ce-popover-item-html"),Ql={root:ql(),hidden:ql(null,"hidden")};class jo extends Hi{constructor(e,n){var o,r;super(e),this.nodes={root:$.make("div",Ql.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((o=n==null?void 0:n.hint)==null?void 0:o.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((r=n==null?void 0:n.hint)==null?void 0:r.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ql.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${$.allInputsSelector}`);return Array.from(e)}}class jd extends Wo{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new Vo,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=$.make("div",[Ve.popoverContainer]),this.nodes.nothingFoundMessage=$.make("div",[Ve.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=$.make("div",[Ve.items]),this.items.forEach(o=>{const r=o.getElement();r!==null&&this.nodes.items.appendChild(r)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",o=>this.handleClick(o)),this.nodes.popover=$.make("div",[Ve.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof Sn)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(Ve.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(Ve.popoverOpened),this.nodes.popover.classList.remove(Ve.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit($t.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(o=>o.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case He.Separator:return new Fd;case He.Html:return new jo(n,this.itemsRenderParams[He.Html]);default:return new Sn(n,this.itemsRenderParams[He.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof Sn||n instanceof jo).find(n=>{const o=n.getElement();return o===null?!1:e.composedPath().includes(o)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit($t.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof Sn&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(o=>o.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(o=>{o.toggleActive(o===e)})}}}var Er=(t=>(t.Search="search",t))(Er||{});const xs=bn("cdx-search-field"),Ss={wrapper:xs(),icon:xs("icon"),input:xs("input")};class Dv extends Wo{constructor({items:e,placeholder:n}){super(),this.listeners=new Vo,this.items=e,this.wrapper=$.make("div",Ss.wrapper);const o=$.make("div",Ss.icon,{innerHTML:Mv});this.input=$.make("input",Ss.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(o),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Er.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Er.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,o;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",s=(o=this.searchQuery)==null?void 0:o.toLowerCase();return s!==void 0?r.includes(s):!1}}var Fv=Object.defineProperty,jv=Object.getOwnPropertyDescriptor,$v=(t,e,n,o)=>{for(var r=jv(e,n),s=t.length-1,i;s>=0;s--)(i=t[s])&&(r=i(e,n,r)||r);return r&&Fv(e,n,r),r};const $d=class Hd extends jd{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var o;super.hide(),this.destroyNestedPopoverIfExists(),(o=this.flipper)==null||o.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const o=this.itemsDefault.find(r=>r.isFocused);o==null||o.onFocus()},this.onSearch=o=>{var r;const s=o.query==="",i=o.items.length===0;this.items.forEach(l=>{let d=!1;l instanceof Sn?d=!o.items.includes(l):(l instanceof Fd||l instanceof jo)&&(d=i||!s),l.toggleHidden(d)}),this.toggleNothingFoundMessage(i);const a=o.query===""?this.flippableElements:o.items.map(l=>l.getElement());(r=this.flipper)!=null&&r.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(Ve.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",o=>this.handleHover(o)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new An({items:this.flippableElements,focusedItemClass:ze.focused,allowedKeys:[me.TAB,me.UP,me.DOWN,me.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Qn.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(Ve.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(Ve.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const o=n.getElement(),r=(o?o.offsetTop:0)-this.scrollTop,s=this.offsetTop+r;e.style.setProperty(Qn.TriggerItemTop,s+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off($t.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new Hd({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on($t.ClosedOnActivate,this.hide);const o=this.nestedPopover.getElement();return this.nodes.popover.appendChild(o),this.setTriggerItemPosition(o,e),o.style.setProperty(Qn.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),o=this.size.height,r=e.top+o,s=e.top-o,i=Math.min(window.innerHeight,n.bottom);return s<n.top||r<=i}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),o=this.size.width,r=e.right+o,s=e.left-o,i=Math.min(window.innerWidth,n.right);return s<n.left||r<=i}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const o=this.nodes.popover.cloneNode(!0);o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000px",o.classList.add(Ve.popoverOpened),(e=o.querySelector("."+Ve.popoverNested))==null||e.remove(),document.body.appendChild(o);const r=o.querySelector("."+Ve.popoverContainer);return n.height=r.offsetHeight,n.width=r.offsetWidth,o.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof Sn)return e.getElement();if(e instanceof jo)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new Dv({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Er.Search,this.onSearch);const e=this.search.getElement();e.classList.add(Ve.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Ve.nothingFoundMessageDisplayed,e)}};$v([no],$d.prototype,"size");let Ui=$d;class Hv extends Ui{constructor(e){const n=!oo();super({...e,class:Ve.popoverInline},{[He.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[He.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(o=>{!(o instanceof Sn)&&!(o instanceof jo)||o.hasChildren&&o.isChildrenOpen&&this.showNestedItems(o)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Qn.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const o=n.getElement(),r=o?o.offsetLeft:0,s=this.offsetLeft+r;e.style.setProperty(Qn.TriggerItemLeft,s+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(Ve.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const Ud=class go{constructor(){this.scrollPosition=null}lock(){Ys?this.lockHard():document.body.classList.add(go.CSS.scrollLocked)}unlock(){Ys?this.unlockHard():document.body.classList.remove(go.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(go.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(go.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};Ud.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let Uv=Ud;const Cs=bn("ce-popover-header"),_s={root:Cs(),text:Cs("text"),backButton:Cs("back-button")};class zv{constructor({text:e,onBackButtonClick:n}){this.listeners=new Vo,this.text=e,this.onBackButtonClick=n,this.nodes={root:$.make("div",[_s.root]),backButton:$.make("button",[_s.backButton]),text:$.make("div",[_s.text])},this.nodes.backButton.innerHTML=xv,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class Wv{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class zd extends jd{constructor(e){super(e,{[He.Default]:{hint:{enabled:!1}},[He.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new Uv,this.history=new Wv,this.isHidden=!0,this.nodes.overlay=$.make("div",[Ve.overlay,Ve.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(Ve.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(Ve.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new zv({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const o=this.header.getElement();o!==null&&this.nodes.popoverContainer.insertBefore(o,this.nodes.popoverContainer.firstChild)}this.items.forEach(o=>{var r;return(r=o.getElement())==null?void 0:r.remove()}),this.items=this.buildItems(e),this.items.forEach(o=>{var r;const s=o.getElement();s!==null&&((r=this.nodes.items)==null||r.appendChild(s))})}}class Vv extends Se{constructor(){super(...arguments),this.opened=!1,this.selection=new ae,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,ae.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off($t.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=$.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(Fo,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Fo,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:o,commonTunes:r}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const s=oo()?zd:Ui;this.popover=new s({searchable:!0,items:await this.getTunesItems(e,r,o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:ct.ui(mt.ui.popover,"Nothing found"),search:ct.ui(mt.ui.popover,"Filter")}}),this.popover.on($t.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,o){const r=[];o!==void 0&&o.length>0&&(r.push(...o),r.push({type:He.Separator}));const s=Array.from(this.Editor.Tools.blockTools.values()),i=(await Md(e,s)).reduce((a,l)=>(l.toolbox.forEach(d=>{a.push({icon:d.icon,title:ct.t(mt.toolNames,d.title),name:l.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:u,Caret:f,Toolbar:p}=this.Editor,b=await u.convert(e,l.name,d.data);p.close(),f.setToBlock(b,f.positions.END)}})}),a),[]);return i.length>0&&(r.push({icon:Dd,name:"convert-to",title:ct.ui(mt.ui.popover,"Convert to"),children:{searchable:!0,items:i}}),r.push({type:He.Separator})),r.push(...n),r.map(a=>this.resolveTuneAliases(a))}resolveTuneAliases(e){if(e.type===He.Separator||e.type===He.Html)return e;const n=wv(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var Wd={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(s){if(o[s])return o[s].exports;var i=o[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=o,r.d=function(s,i,a){r.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,i){if(1&i&&(s=r(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)r.d(a,l,(function(d){return s[d]}).bind(null,l));return a},r.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(i,"a",i),i},r.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},r.p="",r(r.s=0)}([function(n,o,r){function s(l,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}function i(l,d,u){return d&&s(l.prototype,d),u&&s(l,u),l}r.r(o);var a=function(){function l(d){var u=this;(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=d.name,this.parseShortcutName(d.name),this.element=d.on,this.callback=d.callback,this.executeShortcut=function(f){u.execute(f)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),i(l,[{key:"parseShortcutName",value:function(d){d=d.split("+");for(var u=0;u<d.length;u++){d[u]=d[u].toUpperCase();var f=!1;for(var p in l.supportedCommands)if(l.supportedCommands[p].includes(d[u])){f=this.commands[p]=!0;break}f||(this.keys[d[u]]=!0)}for(var b in l.supportedCommands)this.commands[b]||(this.commands[b]=!1)}},{key:"execute",value:function(d){var u,f={CMD:d.ctrlKey||d.metaKey,SHIFT:d.shiftKey,ALT:d.altKey},p=!0;for(u in this.commands)this.commands[u]!==f[u]&&(p=!1);var b,h=!0;for(b in this.keys)h=h&&d.keyCode===l.keyCodes[b];p&&h&&this.callback(d)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();o.default=a}]).default})})(Wd);var qv=Wd.exports;const Qv=Vr(qv);class Kv{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new Qv({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,n])}remove(e,n){const o=this.findShortcut(e,n);if(!o)return;o.remove();const r=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,r.filter(s=>s!==o))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:o})=>o===n)}}const Zn=new Kv;var Gv=Object.defineProperty,Yv=Object.getOwnPropertyDescriptor,Vd=(t,e,n,o)=>{for(var r=Yv(e,n),s=t.length-1,i;s>=0;s--)(i=t[s])&&(r=i(e,n,r)||r);return r&&Gv(e,n,r),r},nr=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(nr||{});const zi=class qd extends Wo{constructor({api:e,tools:n,i18nLabels:o}){super(),this.opened=!1,this.listeners=new Vo,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=o,this.enableShortcuts(),this.nodes={toolbox:$.make("div",qd.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(Fo,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off($t.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Fo,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=oo()?zd:Ui;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on($t.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off($t.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,o,r=!0)=>({icon:n.icon,title:ct.t(mt.toolNames,n.title||vr(o.name)),name:o.name,onActivate:()=>{this.toolButtonActivated(o.name,n.data)},secondaryLabel:o.shortcut&&r?Ni(o.shortcut):""});return this.toolsToBeDisplayed.reduce((n,o)=>(Array.isArray(o.toolbox)?o.toolbox.forEach((r,s)=>{n.push(e(r,o,s===0))}):o.toolbox!==void 0&&n.push(e(o.toolbox,o)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Zn.add({name:n,on:this.api.ui.nodes.redactor,handler:async o=>{o.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),s=this.api.blocks.getBlockByIndex(r);if(s)try{const i=await this.api.blocks.convert(s.id,e);this.api.caret.setToBlock(i,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Zn.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const o=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(o);if(!r)return;const s=r.isEmpty?o:o+1;let i;if(n){const l=await this.api.blocks.composeBlockData(e);i=Object.assign(l,n)}const a=this.api.blocks.insert(e,i,void 0,s,void 0,r.isEmpty);a.call(Qt.APPEND_CALLBACK),this.api.caret.setToBlock(s),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};Vd([no],zi.prototype,"toolsToBeDisplayed");Vd([no],zi.prototype,"toolboxItemsToBeDisplayed");let Zv=zi;const Qd="block hovered";async function Xv(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(o){return console.error(o),e}}class Jv extends Se{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Le("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Le("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Le("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:o}=this.Editor.UI;let r;const s=20,i=e.firstInput,a=n.getBoundingClientRect(),l=i!==void 0?i.getBoundingClientRect():null,d=l!==null?l.top-a.top:null,u=d!==null?d>s:void 0;if(o)r=n.offsetTop+n.offsetHeight;else if(i===void 0||u){const f=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);r=n.offsetTop+f}else{const f=Db(i),p=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);r=n.offsetTop+f-p+8+d}this.nodes.wrapper.style.top=`${Math.floor(r)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=$.make("div",this.CSS.toolbar),["content","actions"].forEach(s=>{this.nodes[s]=$.make("div",this.CSS[s])}),$.append(this.nodes.wrapper,this.nodes.content),$.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=$.make("div",this.CSS.plusButton,{innerHTML:Av}),$.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{wr(!0),this.plusButtonClicked()},!1);const e=$.make("div");e.appendChild(document.createTextNode(ct.ui(mt.ui.toolbar.toolbox,"Add"))),e.appendChild($.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),kr(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=$.make("span",this.CSS.settingsToggler,{innerHTML:Iv}),$.append(this.nodes.actions,this.nodes.settingsToggler);const n=$.make("div"),o=$.text(ct.ui(mt.ui.blockTunes.toggler,"Click to tune")),r=await Xv("Slash","/");n.appendChild(o),n.appendChild($.make("div",this.CSS.plusButtonShortcut,{textContent:Ni(`CMD + ${r}`)})),kr(this.nodes.settingsToggler,n,{hidingDelay:400}),$.append(this.nodes.actions,this.makeToolbox()),$.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),$.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Zv({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:ct.ui(mt.ui.popover,"Filter"),nothingFound:ct.ui(mt.ui.popover,"Nothing found")}}),this.toolboxInstance.on(nr.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(nr.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(nr.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:o}=this.Editor,r=n.getBlockById(e.id);r.inputs.length===0&&(r===n.lastBlock?(n.insertAtEnd(),o.setToBlock(n.lastBlock)):o.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),wr(!0)},!0),oo()||this.eventsDispatcher.on(Qd,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Tn=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Tn||{}),or=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(or||{}),Kd=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Kd||{}),Un=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Un||{}),xr=(t=>(t.IsInline="isInline",t.Title="title",t.IsReadOnlySupported="isReadOnlySupported",t))(xr||{}),Js=(t=>(t.IsTune="isTune",t))(Js||{});class Wi{constructor({name:e,constructable:n,config:o,api:r,isDefault:s,isInternal:i=!1,defaultPlaceholder:a}){this.api=r,this.name=e,this.constructable=n,this.config=o,this.isDefault=s,this.isInternal=i,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Ue(this.constructable.reset))return this.constructable.reset()}prepare(){if(Ue(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Tn.Inline}isBlock(){return this.type===Tn.Block}isTune(){return this.type===Tn.Tune}}class ey extends Se{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=oo()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;if(this.opened){for(const[o,r]of this.tools){const s=this.getToolShortcut(o.name);s!==void 0&&Zn.remove(this.Editor.UI.nodes.redactor,s),Ue(r.clear)&&r.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=$.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),$.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const n=await this.getPopoverItems();this.popover=new Hv({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:ct.ui(mt.ui.popover,"Nothing found"),search:ct.ui(mt.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=ae.rect,o=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:n.x-o.x,y:n.y+n.height-o.top+this.toolbarVerticalMargin};r.x+e+o.x>this.Editor.UI.contentRect.right&&(r.x=this.Editor.UI.contentRect.right-e-o.x),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=ae.get(),o=ae.text;if(!n||!n.anchorNode||n.isCollapsed||o.length<1)return!1;const r=$.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(r===null||n!==null&&e.includes(r.tagName))return!1;const s=this.Editor.BlockManager.getBlock(n.anchorNode);return!s||this.getTools().some(i=>s.tool.inlineTools.has(i.name))===!1?!1:r.closest("[contenteditable]")!==null}getTools(){const e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(n=>!(this.Editor.ReadOnly.isEnabled&&n.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{const n=e.create();this.tools.set(e,n)})}async getPopoverItems(){const e=[];let n=0;for(const[o,r]of this.tools){const s=await r.render(),i=this.getToolShortcut(o.name);if(i!==void 0)try{this.enableShortcuts(o.name,i)}catch{}const a=i!==void 0?Ni(i):void 0,l=ct.t(mt.toolNames,o.title||vr(o.name));[s].flat().forEach(d=>{var u,f;const p={name:o.name,onActivate:()=>{this.toolClicked(r)},hint:{title:l,description:a}};if($.isElement(d)){const b={...p,element:d,type:He.Html};if(Ue(r.renderActions)){const h=r.renderActions();b.children={isOpen:(u=r.checkState)==null?void 0:u.call(r,ae.get()),isFlippable:!1,items:[{type:He.Html,element:h}]}}else(f=r.checkState)==null||f.call(r,ae.get());e.push(b)}else if(d.type===He.Html)e.push({...p,...d,type:He.Html});else if(d.type===He.Separator)e.push({type:He.Separator});else{const b={...p,...d,type:He.Default};"children"in b&&n!==0&&e.push({type:He.Separator}),e.push(b),"children"in b&&n<this.tools.size-1&&e.push({type:He.Separator})}}),n++}return e}getToolShortcut(e){const{Tools:n}=this.Editor,o=n.inlineTools.get(e),r=n.internal.inlineTools;return Array.from(r.keys()).includes(e)?this.inlineTools[e][Kd.Shortcut]:o==null?void 0:o.shortcut}enableShortcuts(e,n){Zn.add({name:n,handler:o=>{var r;const{currentBlock:s}=this.Editor.BlockManager;s&&s.tool.enabledInlineTools&&(o.preventDefault(),(r=this.popover)==null||r.activateItemByName(e))},on:document})}toolClicked(e){var n;const o=ae.range;(n=e.surround)==null||n.call(e,o),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(n=>{var o;(o=n.checkState)==null||o.call(n,ae.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,o])=>{e[n]=o.create()}),e}}function Gd(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function Yd(t,e,n,o){const r=document.createRange();o==="left"?(r.setStart(t,0),r.setEnd(e,n)):(r.setStart(e,n),r.setEnd(t,t.childNodes.length));const s=r.cloneContents(),i=document.createElement("div");i.appendChild(s);const a=i.textContent||"";return Nb(a)}function rr(t){const e=$.getDeepestNode(t);if(e===null||$.isEmpty(t))return!0;if($.isNativeInput(e))return e.selectionEnd===0;if($.isEmpty(t))return!0;const[n,o]=Gd();return n===null?!1:Yd(t,n,o,"left")}function sr(t){const e=$.getDeepestNode(t,!0);if(e===null)return!0;if($.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,o]=Gd();return n===null?!1:Yd(t,n,o,"right")}var Zd={},Vi={},qr={},Ln={},qi={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.allInputsSelector=ty;function ty(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=Qi;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(qi);var Rn={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.isNativeInput=ny;function ny(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Ki;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Rn);var Xd={},Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.append=oy;function oy(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Gi;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(Xd);var Yi={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.blockElements=ry;function ry(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Zi;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Yi);var Jd={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.calculateBaseline=sy;function sy(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||n*1.2,r=parseFloat(e.paddingTop),s=parseFloat(e.borderTopWidth),i=parseFloat(e.marginTop),a=n*.8,l=(o-n)/2,d=i+s+r+l+a;return d}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=Xi;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(Jd);var eh={},Ji={},ea={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.isContentEditable=iy;function iy(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=ta;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(ea);Object.defineProperty(Ji,"__esModule",{value:!0});Ji.canSetCaret=cy;var ay=Rn,ly=ea;function cy(t){var e=!0;if((0,ay.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,ly.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Ji;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(eh);var Qr={},na={};function uy(t,e,n){const o=n.value!==void 0?"value":"get",r=n[o],s=`#${e}Cache`;if(n[o]=function(...i){return this[s]===void 0&&(this[s]=r.apply(this,i)),this[s]},o==="get"&&n.set){const i=n.set;n.set=function(a){delete t[s],i.apply(this,a)}}return n}function th(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function oa(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function dy(t){return!oa(t)}const hy=()=>typeof window<"u"&&window.navigator!==null&&oa(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function fy(t){const e=th();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function py(t){return t[0].toUpperCase()+t.slice(1)}function gy(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),o=document.createRange();if(o.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}function my(t,e,n){let o;return(...r)=>{const s=this,i=()=>{o=void 0,n!==!0&&t.apply(s,r)},a=n===!0&&o!==void 0;window.clearTimeout(o),o=window.setTimeout(i,e),a&&t.apply(s,r)}}function un(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function by(t){return un(t)==="boolean"}function nh(t){return un(t)==="function"||un(t)==="asyncfunction"}function vy(t){return nh(t)&&/^\s*class\s+/.test(t.toString())}function yy(t){return un(t)==="number"}function ir(t){return un(t)==="object"}function wy(t){return Promise.resolve(t)===t}function ky(t){return un(t)==="string"}function Ey(t){return un(t)==="undefined"}function ei(t,...e){if(!e.length)return t;const n=e.shift();if(ir(t)&&ir(n))for(const o in n)ir(n[o])?(t[o]===void 0&&Object.assign(t,{[o]:{}}),ei(t[o],n[o])):Object.assign(t,{[o]:n[o]});return ei(t,...e)}function xy(t,e,n){const o=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(o)}function Sy(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Cy(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const _y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Ty={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let By=class{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((e,n)=>{this.completed=this.completed.then(t).then(e).catch(n)})}};function Iy(t,e,n=void 0){let o,r,s,i=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),i=null,s=t.apply(o,r),i===null&&(o=r=null)};return function(){const d=Date.now();!a&&n.leading===!1&&(a=d);const u=e-(d-a);return o=this,r=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=d,s=t.apply(o,r),i===null&&(o=r=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,u)),s}}const Ay=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:By,beautifyShortcut:fy,cacheable:uy,capitalize:py,copyTextToClipboard:gy,debounce:my,deepMerge:ei,deprecationAssert:xy,getUserOS:th,getValidUrl:Sy,isBoolean:by,isClass:vy,isEmpty:dy,isFunction:nh,isIosDevice:hy,isNumber:yy,isObject:ir,isPrintableKey:Cy,isPromise:wy,isString:ky,isUndefined:Ey,keyCodes:_y,mouseButtons:Ty,notEmpty:oa,throttle:Iy,typeOf:un},Symbol.toStringTag,{value:"Module"})),ra=Eb(Ay);Object.defineProperty(na,"__esModule",{value:!0});na.containsOnlyInlineElements=Py;var My=ra,Oy=Yi;function Py(t){var e;(0,My.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(o){return!(0,Oy.blockElements)().includes(o.tagName.toLowerCase())&&Array.from(o.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=na;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Qr);var oh={},sa={},Kr={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.make=Ly;function Ly(t,e,n){var o;e===void 0&&(e=null),n===void 0&&(n={});var r=document.createElement(t);if(Array.isArray(e)){var s=e.filter(function(a){return a!==void 0});(o=r.classList).add.apply(o,s)}else e!==null&&r.classList.add(e);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=ia;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Kr);Object.defineProperty(sa,"__esModule",{value:!0});sa.fragmentToString=Ny;var Ry=Kr;function Ny(t){var e=(0,Ry.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=sa;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(oh);var rh={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.getContentLength=Fy;var Dy=Rn;function Fy(t){var e,n;return(0,Dy.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=aa;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(rh);var la={},ca={},Kl=Do&&Do.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,s;o<r;o++)(s||!(o in e))&&(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(ca,"__esModule",{value:!0});ca.getDeepestBlockElements=sh;var jy=Qr;function sh(t){return(0,jy.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Kl(Kl([],e,!0),sh(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=ca;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(la);var ih={},ua={},Gr={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.isLineBreakTag=$y;function $y(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=da;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Gr);var Yr={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.isSingleTag=Hy;function Hy(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=ha;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Yr);Object.defineProperty(ua,"__esModule",{value:!0});ua.getDeepestNode=ah;var Uy=Rn,zy=Gr,Wy=Yr;function ah(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var r=t[n];if((0,Wy.isSingleTag)(r)&&!(0,Uy.isNativeInput)(r)&&!(0,zy.isLineBreakTag)(r))if(r[o])r=r[o];else if(r.parentNode!==null&&r.parentNode[o])r=r.parentNode[o];else return r.parentNode;return ah(r,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=ua;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(ih);var lh={},fa={},Yo=Do&&Do.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,s;o<r;o++)(s||!(o in e))&&(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(fa,"__esModule",{value:!0});fa.findAllInputs=Gy;var Vy=Qr,qy=la,Qy=qi,Ky=Rn;function Gy(t){return Array.from(t.querySelectorAll((0,Qy.allInputsSelector)())).reduce(function(e,n){return(0,Ky.isNativeInput)(n)||(0,Vy.containsOnlyInlineElements)(n)?Yo(Yo([],e,!0),[n],!1):Yo(Yo([],e,!0),(0,qy.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=fa;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(lh);var ch={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.isCollapsedWhitespaces=Yy;function Yy(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=pa;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(ch);var ga={},ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.isElement=Xy;var Zy=ra;function Xy(t){return(0,Zy.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=ma;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(ga);var uh={},ba={},va={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.isLeaf=Jy;function Jy(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=ya;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(va);var wa={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.isNodeEmpty=r1;var e1=Gr,t1=ga,n1=Rn,o1=Yr;function r1(t,e){var n="";return(0,o1.isSingleTag)(t)&&!(0,e1.isLineBreakTag)(t)?!1:((0,t1.isElement)(t)&&(0,n1.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=ka;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(wa);Object.defineProperty(ba,"__esModule",{value:!0});ba.isEmpty=a1;var s1=va,i1=wa;function a1(t,e){t.normalize();for(var n=[t];n.length>0;){var o=n.shift();if(o){if(t=o,(0,s1.isLeaf)(t)&&!(0,i1.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=ba;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(uh);var dh={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.isFragment=c1;var l1=ra;function c1(t){return(0,l1.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=Ea;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(dh);var hh={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.isHTMLString=d1;var u1=Kr;function d1(t){var e=(0,u1.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=xa;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(hh);var fh={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.offset=h1;function h1(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,r=e.top+o,s=e.left+n;return{top:r,left:s,bottom:r+e.height,right:s+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Sa;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(fh);var ph={},Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.prepend=f1;function f1(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=Ca;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(ph);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=qi;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Rn;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var o=Xd;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return o.append}});var r=Yi;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return r.blockElements}});var s=Jd;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return s.calculateBaseline}});var i=eh;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return i.canSetCaret}});var a=Qr;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=oh;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var d=rh;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return d.getContentLength}});var u=la;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var f=ih;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return f.getDeepestNode}});var p=lh;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var b=ch;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return b.isCollapsedWhitespaces}});var h=ea;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return h.isContentEditable}});var g=ga;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return g.isElement}});var w=uh;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var E=dh;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return E.isFragment}});var x=hh;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return x.isHTMLString}});var S=va;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return S.isLeaf}});var A=wa;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return A.isNodeEmpty}});var L=Gr;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return L.isLineBreakTag}});var C=Yr;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return C.isSingleTag}});var O=Kr;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return O.make}});var _=fh;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return _.offset}});var k=ph;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return k.prepend}})})(Ln);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.getContenteditableSlice=g1;var p1=Ln;function g1(t,e,n,o,r){var s;r===void 0&&(r=!1);var i=document.createRange();if(o==="left"?(i.setStart(t,0),i.setEnd(e,n)):(i.setStart(e,n),i.setEnd(t,t.childNodes.length)),r===!0){var a=i.extractContents();return(0,p1.fragmentToString)(a)}var l=i.cloneContents(),d=document.createElement("div");d.appendChild(l);var u=(s=d.textContent)!==null&&s!==void 0?s:"";return u}Object.defineProperty(qr,"__esModule",{value:!0});qr.checkContenteditableSliceForEmptiness=v1;var m1=Ln,b1=Zr;function v1(t,e,n,o){var r=(0,b1.getContenteditableSlice)(t,e,n,o);return(0,m1.isCollapsedWhitespaces)(r)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=qr;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Vi);var gh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=Zr;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(gh);var mh={},_a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.focus=w1;var y1=Ln;function w1(t,e){var n,o;if(e===void 0&&(e=!0),(0,y1.isNativeInput)(t)){t.focus();var r=e?0:t.value.length;t.setSelectionRange(r,r)}else{var s=document.createRange(),i=window.getSelection();if(!i)return;var a=function(p){var b=document.createTextNode("");p.appendChild(b),s.setStart(b,0),s.setEnd(b,0)},l=function(p){return p!=null},d=t.childNodes,u=e?d[0]:d[d.length-1];if(l(u)){for(;l(u)&&u.nodeType!==Node.TEXT_NODE;)u=e?u.firstChild:u.lastChild;if(l(u)&&u.nodeType===Node.TEXT_NODE){var f=(o=(n=u.textContent)===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0,r=e?0:f;s.setStart(u,r),s.setEnd(u,r)}else a(t)}else a(t);i.removeAllRanges(),i.addRange(s)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=_a;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(mh);var Ta={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.getCaretNodeAndOffset=k1;function k1(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=Xr;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Ta);var bh={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.getRange=E1;function E1(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=Jr;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(bh);var vh={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.isCaretAtEndOfInput=C1;var Gl=Ln,x1=Ta,S1=Vi;function C1(t){var e=(0,Gl.getDeepestNode)(t,!0);if(e===null)return!0;if((0,Gl.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,x1.getCaretNodeAndOffset)(),o=n[0],r=n[1];return o===null?!1:(0,S1.checkContenteditableSliceForEmptiness)(t,o,r,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=Ba;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(vh);var yh={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.isCaretAtStartOfInput=B1;var Zo=Ln,_1=Xr,T1=qr;function B1(t){var e=(0,Zo.getDeepestNode)(t);if(e===null||(0,Zo.isEmpty)(t))return!0;if((0,Zo.isNativeInput)(e))return e.selectionEnd===0;if((0,Zo.isEmpty)(t))return!0;var n=(0,_1.getCaretNodeAndOffset)(),o=n[0],r=n[1];return o===null?!1:(0,T1.checkContenteditableSliceForEmptiness)(t,o,r,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=Ia;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(yh);var wh={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.save=M1;var I1=Ln,A1=Jr;function M1(){var t=(0,A1.getRange)(),e=(0,I1.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=Aa;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(wh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=Vi;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=gh;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var o=mh;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return o.focus}});var r=Ta;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return r.getCaretNodeAndOffset}});var s=bh;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return s.getRange}});var i=vh;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return i.isCaretAtEndOfInput}});var a=yh;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var l=wh;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return l.save}})})(Zd);class O1 extends Se{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case me.BACKSPACE:this.backspace(e);break;case me.DELETE:this.delete(e);break;case me.ENTER:this.enter(e);break;case me.DOWN:case me.RIGHT:this.arrowRightAndDown(e);break;case me.UP:case me.LEFT:this.arrowLeftAndUp(e);break;case me.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&wd(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:o,Caret:r}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const s=o.removeSelectedBlocks(),i=o.insertDefaultBlockAtIndex(s,!0);r.setToBlock(i,r.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:o}=this.Editor;n.opened||(e.shiftKey?o.navigatePrevious(!0):o.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:o}=this.Editor,r=n.currentBlock;if(r===void 0||r.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey&&!Ys)return;let s=r;r.currentInput!==void 0&&rr(r.currentInput)&&!r.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):r.currentInput&&sr(r.currentInput)?s=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):s=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(s),this.Editor.Toolbar.moveAndOpen(s),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r,previousBlock:s}=n;if(!(r===void 0||!ae.isCollapsed||!r.currentInput||!rr(r.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.firstInput){o.navigatePrevious();return}if(s!==null){if(s.isEmpty){n.removeBlock(s);return}if(r.isEmpty){n.removeBlock(r);const i=n.currentBlock;o.setToBlock(i,o.positions.END);return}zl(s,r)?this.mergeBlocks(s,r):o.setToBlock(s,o.positions.END)}}}delete(e){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r,nextBlock:s}=n;if(!(!ae.isCollapsed||!sr(r.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.lastInput){o.navigateNext();return}if(s!==null){if(s.isEmpty){n.removeBlock(s);return}if(r.isEmpty){n.removeBlock(r),o.setToBlock(s,o.positions.START);return}zl(r,s)?this.mergeBlocks(r,s):o.setToBlock(s,o.positions.START)}}}mergeBlocks(e,n){const{BlockManager:o,Toolbar:r}=this.Editor;e.lastInput!==void 0&&(Zd.focus(e.lastInput,!1),o.mergeBlocks(e,n).then(()=>{r.close()}))}arrowRightAndDown(e){const n=An.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===me.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:o}=this.Editor.BlockManager,r=((o==null?void 0:o.currentInput)!==void 0?sr(o.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===me.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===me.DOWN||e.keyCode===me.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}br(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(An.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===me.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,o=((n==null?void 0:n.currentInput)!==void 0?rr(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===me.UP&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===me.UP||e.keyCode===me.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}br(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===me.ENTER&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===me.ENTER&&this.Editor.BlockSettings.opened,r=e.keyCode===me.ENTER&&this.Editor.InlineToolbar.opened,s=e.keyCode===me.TAB;return!(e.shiftKey||s||n||o||r)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Ts{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return kd(this.workingArea.children)}static set(e,n,o){return isNaN(Number(n))?(Reflect.set(e,n,o),!0):(e.insert(+n,o),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const o=this.blocks[n];$.swap(this.blocks[e].holder,o.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=o}move(e,n){const o=this.blocks.splice(n,1)[0],r=e-1,s=Math.max(0,r),i=this.blocks[s];e>0?this.insertToDOM(o,"afterend",i):this.insertToDOM(o,"beforebegin",i),this.blocks.splice(e,0,o);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});o.call(Qt.MOVED,a)}insert(e,n,o=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(Qt.REMOVED));const r=o?1:0;if(this.blocks.splice(e,r,n),e>0){const s=this.blocks[e-1];this.insertToDOM(n,"afterend",s)}else{const s=this.blocks[e+1];s?this.insertToDOM(n,"beforebegin",s):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const o=new DocumentFragment;for(const r of e)o.appendChild(r.holder);if(this.length>0){if(n>0){const r=Math.min(n-1,this.length-1);this.blocks[r].holder.after(o)}else n===0&&this.workingArea.prepend(o);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(o);e.forEach(r=>r.call(Qt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Qt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Qt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const o=this.blocks.indexOf(e);this.insert(o+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,o){n?o.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Qt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Yl="block-removed",Zl="block-added",P1="block-moved",Xl="block-changed";class L1{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,o)=>{this.completed=this.completed.then(e).then(n).catch(o)})}}class R1 extends Se{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Ts(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Ts.set,get:Ts.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:o=void 0,tunes:r={}}){const s=this.Editor.ReadOnly.isEnabled,i=this.Editor.Tools.blockTools.get(e),a=new Ze({id:o,data:n,tool:i,api:this.Editor.API,readOnly:s,tunesData:r},this.eventsDispatcher);return s||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:o={},index:r,needToFocus:s=!0,replace:i=!1,tunes:a={}}={}){let l=r;l===void 0&&(l=this.currentBlockIndex+(i?0:1));const d=this.composeBlock({id:e,tool:n,data:o,tunes:a});return i&&this.blockDidMutated(Yl,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,d,i),this.blockDidMutated(Zl,d,{index:l}),s?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,d}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,o){if(!n&&!o)return e;const r=await e.data,s=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,n??{}),tunes:o??e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,s),this.blockDidMutated(Xl,s,{index:i}),s}replace(e,n,o){const r=this.getBlockIndex(e);return this.insert({tool:n,data:o,index:r,replace:!0})}paste(e,n,o=!1){const r=this.insert({tool:e,replace:o});try{window.requestIdleCallback(()=>{r.call(Qt.ON_PASTE,n)})}catch(s){Le(`${e}: onPaste callback call is failed`,"error",s)}return r}insertDefaultBlockAtIndex(e,n=!1){const o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(Zl,o,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let o;if(e.name===n.name&&e.mergeable){const r=await n.data;if(Tt(r)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[s]=Fi([r],e.tool.sanitizeConfig);o=s}else if(e.mergeable&&yr(n,"export")&&yr(e,"import")){const r=await n.exportDataAsString(),s=Ft(r,e.tool.sanitizeConfig);o=Wl(s,e.tool.conversionConfig)}o!==void 0&&(await e.mergeWith(o),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(o=>{const r=this._blocks.indexOf(e);if(!this.validateIndex(r))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(r),this.blockDidMutated(Yl,e,{index:r}),this.currentBlockIndex>=r&&this.currentBlockIndex--,this.blocks.length?r===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),o()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=$.make("div");n.appendChild(e);const o={text:$.isEmpty(n)?"":n.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){$.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,o=e.closest(`.${Ze.CSS.wrapper}`),r=n.indexOf(o);if(r>=0)return this._blocks[r]}setCurrentBlockByChildNode(e){$.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Ze.CSS.wrapper}`);if(!n)return;const o=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(o!=null&&o.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;$.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Ze.CSS.wrapper}`);return this.blocks.find(o=>o.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Le("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Le("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(P1,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,o){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const r=this.Editor.Tools.blockTools.get(n);if(!r)throw new Error(`Could not convert Block. Tool ${n} not found.`);const s=await e.exportDataAsString(),i=Ft(s,r.sanitizeConfig);let a=Wl(i,r.conversionConfig,r.settings);return o&&(a=Object.assign(a,o)),this.replace(e,r.name,a)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new L1;this.blocks.forEach(o=>{n.add(async()=>{await this.removeBlock(o,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",o=>{n.keydown(o)}),this.readOnlyMutableListeners.on(e.holder,"keyup",o=>{n.keyup(o)}),this.readOnlyMutableListeners.on(e.holder,"dragover",o=>{n.dragOver(o)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",o=>{n.dragLeave(o)}),e.on("didMutated",o=>this.blockDidMutated(Xl,o,{index:this.getBlockIndex(o)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,o){const r=new CustomEvent(e,{detail:{target:new qt(n),...o}});return this.eventsDispatcher.emit(Td,{event:r}),n}}class N1 extends Se{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(o=>{o.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new ae,Zn.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:o}=this.Editor;if(o.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){ae.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let o;isNaN(e)?o=n.currentBlock:o=n.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:o,Caret:r,RectangleSelection:s}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const i=e&&e instanceof KeyboardEvent,a=i&&wd(e.keyCode);if(this.anyBlockSelected&&i&&a&&!ae.isSelectionExists){const l=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(l,!0),r.setToBlock(o.currentBlock),br(()=>{const d=e.key;r.insertContentAtCaretPosition(d.length>1?"":d)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||s.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=$.make("div");this.selectedBlocks.forEach(s=>{const i=Ft(s.holder.innerHTML,this.sanitizerConfig),a=$.make("p");a.innerHTML=i,n.appendChild(a)});const o=Array.from(n.childNodes).map(s=>s.textContent).join(`

`),r=n.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map(s=>s.save())).then(s=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(s))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,o=n.getBlockByIndex(e);o!==void 0&&this.selectBlock(o)}selectBlock(e){this.selection.save(),ae.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Zn.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),$.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),o=n.inputs;if(o.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(o.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),ae.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Sr extends Se{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,o=0){var r;const{BlockManager:s,BlockSelection:i}=this.Editor;if(i.clearSelection(),!e.focusable){(r=window.getSelection())==null||r.removeAllRanges(),i.selectBlock(e),s.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=$.getDeepestNode(a,n===this.positions.END),d=$.getContentLength(l);switch(!0){case n===this.positions.START:o=0;break;case n===this.positions.END:case o>d:o=d;break}this.set(l,o),s.setCurrentBlockByChildNode(e.holder),s.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,o=0){const{currentBlock:r}=this.Editor.BlockManager,s=$.getDeepestNode(e);switch(n){case this.positions.START:this.set(s,0);break;case this.positions.END:this.set(s,$.getContentLength(s));break;default:o&&this.set(s,o)}r.currentInput=e}set(e,n=0){const{top:o,bottom:r}=ae.setCursor(e,n),{innerHeight:s}=window;o<0?window.scrollBy(0,o-30):r>s&&window.scrollBy(0,r-s+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=ae.get();if(e.rangeCount){const n=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),o)if($.isNativeInput(o)){const r=o,s=document.createDocumentFragment(),i=r.value.substring(0,r.selectionStart),a=r.value.substring(r.selectionStart);return s.textContent=a,r.value=i,s}else{const r=n.cloneRange();return r.selectNodeContents(o),r.setStart(n.endContainer,n.endOffset),r.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:o,nextBlock:r}=n;if(o===void 0)return!1;const{nextInput:s,currentInput:i}=o,a=i!==void 0?sr(i):void 0;let l=r;const d=e||a||!o.focusable;if(s&&d)return this.setToInput(s,this.positions.START),!0;if(l===null){if(o.tool.isDefault||!d)return!1;l=n.insertAtEnd()}return d?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:o}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:r,currentInput:s}=n,i=s!==void 0?rr(s):void 0,a=e||i||!n.focusable;return r&&a?(this.setToInput(r,this.positions.END),!0):o!==null&&a?(this.setToBlock(o,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Sr.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Sr.CSS.shadowCaret}`);if(!n)return;new ae().expandToTag(n);const o=document.createRange();o.selectNode(n),o.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),o=document.createElement("div"),r=ae.get(),s=ae.range;o.innerHTML=e,Array.from(o.childNodes).forEach(d=>n.appendChild(d)),n.childNodes.length===0&&n.appendChild(new Text);const i=n.lastChild;s.deleteContents(),s.insertNode(n);const a=document.createRange(),l=i.nodeType===Node.TEXT_NODE?i:i.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),r.removeAllRanges(),r.addRange(a)}}class D1 extends Se{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:o}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const r=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,s=n.getBlockByChildNode(e.target);if(!(!r||!s)&&s!==r){if(r===this.firstSelectedBlock){ae.get().removeAllRanges(),r.selected=!0,s.selected=!0,o.clearCache();return}if(s===this.firstSelectedBlock){r.selected=!1,s.selected=!1,o.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(r,s),this.lastSelectedBlock=s}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==Sb.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),ae.get().removeAllRanges());const r=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),s=n.blocks[r];s&&(this.lastSelectedBlock.selected!==s.selected?(s.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=s,this.Editor.InlineToolbar.close(),s.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:o,Caret:r}=this.Editor,s=n.blocks.indexOf(this.firstSelectedBlock),i=n.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&s>-1&&i>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case me.DOWN:case me.RIGHT:r.setToBlock(n.blocks[Math.max(s,i)],r.positions.END);break;case me.UP:case me.LEFT:r.setToBlock(n.blocks[Math.min(s,i)],r.positions.START);break;default:r.setToBlock(n.blocks[Math.max(s,i)],r.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;ae.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:o,BlockSelection:r}=this.Editor,s=o.blocks.indexOf(e),i=o.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(s,i);l<=Math.max(s,i);l++){const d=o.blocks[l];d!==this.firstSelectedBlock&&d!==(a?e:n)&&(o.blocks[l].selected=!o.blocks[l].selected,r.clearCache())}}}class F1 extends Se{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:o,Caret:r}=this.Editor;e.preventDefault(),n.blocks.forEach(i=>{i.dropTarget=!1}),ae.isAtEditor&&!ae.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const s=n.setCurrentBlockByChildNode(e.target);if(s)this.Editor.Caret.setToBlock(s,r.positions.END);else{const i=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(i,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){ae.isAtEditor&&!ae.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const j1=180,$1=400;class H1 extends Se{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=$1,this.mutationObserver=new MutationObserver(o=>{this.redactorChanged(o)}),this.eventsDispatcher.on(Td,o=>{this.particularBlockChanged(o.event)}),this.eventsDispatcher.on(Bd,()=>{this.disable()}),this.eventsDispatcher.on(Id,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Ue(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Zs,{mutations:e})}}const kh=class Eh extends Se{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!Ue(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){Le(`Paste handling for ${e.name} Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:o}=this.Editor,r=n.setCurrentBlockByChildNode(e.target);!r||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),o.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:o}=this.Editor,r=e.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!Tt(this.toolsFiles)){await this.processFiles(e.files);return}const s=e.getData(this.MIME_TYPE),i=e.getData("text/plain");let a=e.getData("text/html");if(s)try{this.insertEditorJSData(JSON.parse(s));return}catch{}n&&i.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:i)+"</p>");const l=Object.keys(this.toolsTags).reduce((f,p)=>(f[p.toLowerCase()]=this.toolsTags[p].sanitizationConfig??{},f),{}),d=Object.assign({},l,o.getAllInlineToolsSanitizeConfig(),{br:{}}),u=Ft(a,d);!u.trim()||u.trim()===i||!$.isHTMLString(u)?await this.processText(i):await this.processText(u,!0)}async processText(e,n=!1){const{Caret:o,BlockManager:r}=this.Editor,s=n?this.processHTML(e):this.processPlain(e);if(!s.length)return;if(s.length===1){s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;s.map(async(a,l)=>this.insertBlock(a,l===0&&i)),r.currentBlock&&o.setToBlock(r.currentBlock,o.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Zt(e)?[e]:Xe(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],o=[];n.forEach(r=>{const s=this.collectTagNames(r);o.push(...s),s.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){Le(`Paste handler for ${e.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const a=Xe(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=o.map(r=>r.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:o,mimeTypes:r}=n;!o&&!r||(o&&!Array.isArray(o)&&(Le(`extensions property of the onDrop config for ${e.name} Tool should be an array`),o=[]),r&&!Array.isArray(r)&&(Le(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`),r=[]),r&&(r=r.filter(s=>Ib(s)?!0:(Le(`MIME type value ${s} for the ${e.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:o||[],mimeTypes:r||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Tt(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,o])=>{o instanceof RegExp||Le(`Pattern ${o} for ${e.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:o,tool:e})})}isNativeBehaviour(e){return $.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let o;o=await Promise.all(Array.from(e).map(s=>this.processFile(s))),o=o.filter(s=>!!s);const r=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;o.forEach((s,i)=>{n.paste(s.type,s.event,i===0&&r)})}async processFile(e){const n=Bb(e),o=Object.entries(this.toolsFiles).find(([s,{mimeTypes:i,extensions:a}])=>{const[l,d]=e.type.split("/"),u=a.find(p=>p.toLowerCase()===n.toLowerCase()),f=i.find(p=>{const[b,h]=p.split("/");return b===l&&(h===d||h==="*")});return!!u||!!f});if(!o)return;const[r]=o;return{event:this.composePasteEvent("file",{file:e}),type:r}}processHTML(e){const{Tools:n}=this.Editor,o=$.make("DIV");return o.innerHTML=e,this.getNodes(o).map(r=>{let s,i=n.defaultTool,a=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:s=$.make("div"),s.appendChild(r);break;case Node.ELEMENT_NODE:s=r,a=!0,this.toolsTags[s.tagName]&&(i=this.toolsTags[s.tagName].tool);break}const{tags:l}=i.pasteConfig||{tags:[]},d=l.reduce((p,b)=>(this.collectTagNames(b).forEach(h=>{const g=Xe(b)?b[h]:null;p[h.toLowerCase()]=g||{}}),p),{}),u=Object.assign({},d,i.baseSanitizeConfig);if(s.tagName.toLowerCase()==="table"){const p=Ft(s.outerHTML,u);s=$.make("div",void 0,{innerHTML:p}).firstChild}else s.innerHTML=Ft(s.innerHTML,u);const f=this.composePasteEvent("tag",{data:s});return{content:s,isBlock:a,tool:i.name,event:f}}).filter(r=>{const s=$.isEmpty(r.content),i=$.isSingleTag(r.content);return!s||i})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const o=n;return e.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const s=$.make("div");s.textContent=r;const i=this.composePasteEvent("tag",{data:s});return{content:s,tool:o,isBlock:!1,event:i}})}async processSingleBlock(e){const{Caret:n,BlockManager:o}=this.Editor,{currentBlock:r}=o;if(!r||e.tool!==r.name||!$.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:o}=this.Editor,{content:r}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&r.textContent.length<Eh.PATTERN_PROCESSING_MAX_LENGTH){const s=await this.processPattern(r.textContent);if(s){const i=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(s.tool,s.event,i);o.setToBlock(a,o.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const s=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Ft(r.innerHTML,s))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(o=>{const r=o.pattern.exec(e);return r?e===r.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:o,Caret:r}=this.Editor,{currentBlock:s}=o;let i;if(n&&s&&s.isEmpty){i=o.paste(e.tool,e.event,!0),r.setToBlock(i,r.positions.END);return}i=o.paste(e.tool,e.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:o,Tools:r}=this.Editor;Fi(e,s=>r.blockTools.get(s).sanitizeConfig).forEach(({tool:s,data:i},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const d=n.insert({tool:s,data:i,replace:l});o.setToBlock(d,o.positions.END)})}processElementNode(e,n,o){const r=Object.keys(this.toolsTags),s=e,{tool:i}=this.toolsTags[s.tagName]||{},a=this.tagsByTool[i==null?void 0:i.name]||[],l=r.includes(s.tagName),d=$.blockElements.includes(s.tagName.toLowerCase()),u=Array.from(s.children).some(({tagName:p})=>r.includes(p)&&!a.includes(p)),f=Array.from(s.children).some(({tagName:p})=>$.blockElements.includes(p.toLowerCase()));if(!d&&!l&&!u)return o.appendChild(s),[...n,o];if(l&&!u||d&&!f&&!u)return[...n,o,s]}getNodes(e){const n=Array.from(e.childNodes);let o;const r=(s,i)=>{if($.isEmpty(i)&&!$.isSingleTag(i))return s;const a=s[s.length-1];let l=new DocumentFragment;switch(a&&$.isFragment(a)&&(l=s.pop()),i.nodeType){case Node.ELEMENT_NODE:if(o=this.processElementNode(i,s,l),o)return o;break;case Node.TEXT_NODE:return l.appendChild(i),[...s,l];default:return[...s,l]}return[...s,...Array.from(i.childNodes).reduce(r,[])]};return n.reduce(r,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};kh.PATTERN_PROCESSING_MAX_LENGTH=450;let U1=kh;class z1 extends Se{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,o=[];Array.from(n.entries()).forEach(([r,s])=>{s.isReadOnlySupported||o.push(r)}),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const o=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const s in this.Editor)this.Editor[s].toggleReadOnly&&this.Editor[s].toggleReadOnly(e);if(o===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new _d(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class _o extends Se{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const o=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const r=[`.${Ze.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],s=o.closest("."+this.Editor.UI.CSS.editorWrapper),i=r.some(a=>!!o.closest(a));!s||i||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Qs(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Qs(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest($.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=$.make("div",_o.CSS.overlay,{}),r=$.make("div",_o.CSS.overlayContainer,{}),s=$.make("div",_o.CSS.rect,{});return r.appendChild(s),o.appendChild(r),n.appendChild(o),this.overlayRectangle=s,{container:n,overlay:o}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:o,index:r}=this.genInfoForMouseSelection(),s=this.startX>n&&this.mouseX>n,i=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(s||i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),r!==void 0&&(this.trySelectNextBlock(r),this.inverseSelection(),ae.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,n),r=this.Editor.BlockManager.getBlockByChildNode(o);let s;r!==void 0&&(s=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===r.holder));const i=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Ze.CSS.content),a=Number.parseInt(window.getComputedStyle(i).width,10)/2,l=e-a,d=e+a;return{index:s,leftPos:l,rightPos:d}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length,r=1,s=-1,i=0;if(n)return;const a=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0;let l=i;o>1&&(l=a?r:s);const d=e>this.stackOfSelected[o-1]&&l===r,u=e<this.stackOfSelected[o-1]&&l===s,f=!(d||u||l===i);if(!f&&(e>this.stackOfSelected[o-1]||this.stackOfSelected[o-1]===void 0)){let h=this.stackOfSelected[o-1]+1||e;for(h;h<=e;h++)this.addBlockInSelection(h);return}if(!f&&e<this.stackOfSelected[o-1]){for(let h=this.stackOfSelected[o-1]-1;h>=e;h--)this.addBlockInSelection(h);return}if(!f)return;let p=o-1,b;for(e>this.stackOfSelected[o-1]?b=()=>e>this.stackOfSelected[p]:b=()=>e<this.stackOfSelected[p];b();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[p]),this.stackOfSelected.pop(),p--}}class W1 extends Se{async render(e){return new Promise(n=>{const{Tools:o,BlockManager:r}=this.Editor;if(e.length===0)r.insert();else{const s=e.map(({type:i,data:a,tunes:l,id:d})=>{o.available.has(i)===!1&&(St(`Tool ${i} is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(i,a,d),i=o.stubTool);let u;try{u=r.composeBlock({id:d,tool:i,data:a,tunes:l})}catch(f){Le(`Block ${i} skipped because of plugins error`,"error",{data:a,error:f}),a=this.composeStubDataForTool(i,a,d),i=o.stubTool,u=r.composeBlock({id:d,tool:i,data:a,tunes:l})}return u});r.insertMany(s)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,o){const{Tools:r}=this.Editor;let s=e;if(r.unavailable.has(e)){const i=r.unavailable.get(e).toolbox;i!==void 0&&i[0].title!==void 0&&(s=i[0].title)}return{savedData:{id:o,type:e,data:n},title:s}}}class V1 extends Se{async save(){const{BlockManager:e,Tools:n}=this.Editor,o=e.blocks,r=[];try{o.forEach(a=>{r.push(this.getSavedData(a))});const s=await Promise.all(r),i=await Fi(s,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(i)}catch(s){St("Saving failed due to the Error %o","error",s)}}async getSavedData(e){const n=await e.save(),o=n&&await e.validate(n.data);return{...n,isValid:o}}makeOutput(e){const n=[];return e.forEach(({id:o,tool:r,data:s,tunes:i,isValid:a})=>{if(!a){Le(`Block ${r} skipped because saved data is invalid`);return}if(r===this.Editor.Tools.stubTool){n.push(s);return}const l={id:o,type:r,data:s,...!Tt(i)&&{tunes:i}};n.push(l)}),{time:+new Date,blocks:n,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const q1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function Q1(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class Ma{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:o,readOnly:r}){this.api=o,this.readOnly=r,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:Ma.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=Q1(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:q1,title:"Text"}}}class Oa{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:kv,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}Oa.isInline=!0;Oa.title="Bold";class Pa{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Bv,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Pa.isInline=!0;Pa.title="Italic";class La{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new ae}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Vl,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Ov,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Vl,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new ae;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Le("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),o=e.substring(0,1)==="#",r=/^\/\/[^/\s]/.test(e);return!n&&!o&&!r&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}La.isInline=!0;La.title="Link";class xh{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=ae.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const o=this.toolsAPI.getBlockTools(),r=await Md(n,o);if(r.length===0)return[];const s=r.reduce((d,u)=>{var f;return(f=u.toolbox)==null||f.forEach(p=>{d.push({icon:p.icon,title:ct.t(mt.toolNames,p.title),name:u.name,closeOnActivate:!0,onActivate:async()=>{const b=await this.blocksAPI.convert(n.id,u.name,p.data);this.caretAPI.setToBlock(b,"end")}})}),d},[]),i=await n.getActiveToolboxEntry(),a=i!==void 0?i.icon:Dd,l=!oo();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:l,items:s,onOpen:()=>{l&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{l&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}xh.isInline=!0;class Sh{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=$.make("div",this.CSS.wrapper),n=Pv,o=$.make("div",this.CSS.info),r=$.make("div",this.CSS.title,{textContent:this.title}),s=$.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,o.appendChild(r),o.appendChild(s),e.appendChild(o),e}}Sh.isReadOnlySupported=!0;class K1 extends Wi{constructor(){super(...arguments),this.type=Tn.Inline}get title(){return this.constructable[xr.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[xr.IsReadOnlySupported]??!1}}class G1 extends Wi{constructor(){super(...arguments),this.type=Tn.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}class tt extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new tt(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new tt(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new tt(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new tt(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new tt(e)}}var Y1=Object.defineProperty,Z1=Object.getOwnPropertyDescriptor,Ch=(t,e,n,o)=>{for(var r=Z1(e,n),s=t.length-1,i;s>=0;s--)(i=t[s])&&(r=i(e,n,r)||r);return r&&Y1(e,n,r),r};class Ra extends Wi{constructor(){super(...arguments),this.type=Tn.Block,this.inlineTools=new tt,this.tunes=new tt}create(e,n,o){return new this.constructable({data:e,block:n,readOnly:o,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Un.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Un.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Un.Toolbox],n=this.config[or.Toolbox];if(!Tt(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((o,r)=>{const s=e[r];return s?{...s,...o}:o}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Un.ConversionConfig]}get enabledInlineTools(){return this.config[or.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[or.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Un.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Tt(e))return n;const o={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];Xe(s)?o[r]=Object.assign({},n,s):o[r]=s}return o}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Ch([no],Ra.prototype,"sanitizeConfig");Ch([no],Ra.prototype,"baseSanitizeConfig");class X1{constructor(e,n,o){this.api=o,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:o=!1,...r}=this.config[e],s=this.getConstructor(n),i=n[Js.IsTune];return new s({name:e,constructable:n,config:r,api:this.api.getMethodsForTool(e,i),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[xr.IsInline]:return K1;case e[Js.IsTune]:return G1;default:return Ra}}}class _h{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Ev,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const o=n.holder,r=o.getBoundingClientRect();let s=Math.abs(window.innerHeight-o.offsetHeight);r.top<window.innerHeight&&(s=window.scrollY+o.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}_h.isTune=!0;class Th{constructor({api:e}){this.api=e}render(){return{icon:_v,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Th.isTune=!0;class Bh{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Cv,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!o)throw new Error("Unable to move Block up since it is already the first");const r=n.holder,s=o.holder,i=r.getBoundingClientRect(),a=s.getBoundingClientRect();let l;a.top>0?l=Math.abs(i.top)-Math.abs(a.top):l=Math.abs(i.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Bh.isTune=!0;var J1=Object.defineProperty,ew=Object.getOwnPropertyDescriptor,tw=(t,e,n,o)=>{for(var r=ew(e,n),s=t.length-1,i;s>=0;s--)(i=t[s])&&(r=i(e,n,r)||r);return r&&J1(e,n,r),r};class Ih extends Se{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new tt,this.toolsUnavailable=new tt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Ks({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new X1(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await Tb(n,o=>{this.toolPrepareMethodSuccess(o)},o=>{this.toolPrepareMethodFallback(o)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Ue(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:xh,isInternal:!0},link:{class:La,isInternal:!0},bold:{class:Oa,isInternal:!0},italic:{class:Pa,isInternal:!0},paragraph:{class:Ma,inlineToolbar:!0,isInternal:!0},stub:{class:Sh,isInternal:!0},moveUp:{class:Bh,isInternal:!0},delete:{class:Th,isInternal:!0},moveDown:{class:_h,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const o=["render"].filter(r=>!n.create()[r]);if(o.length){Le(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",o),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([o,r])=>{n.push({function:Ue(r.class.prepare)?r.class.prepare:()=>{},data:{toolName:o,config:r.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new tt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new tt(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new tt(e.enabledBlockTunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new tt([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new tt(this.config.tunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new tt([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!Ue(n)&&!Ue(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Xe(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}tw([no],Ih.prototype,"getAllInlineToolsSanitizeConfig");const nw=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class ow extends Se{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=Ul(()=>{this.windowResize()},200),this.selectionChangeDebounced=Ul(()=>{this.selectionChanged()},j1),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Ze.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o}=this.Editor;return!!(n.opened||o.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof An).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o}=this.Editor;n.close(),o.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<Ed;e!==this.isMobile&&this.eventsDispatcher.emit(Fo,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=$.getHolder(this.config.holder),this.nodes.wrapper=$.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=$.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const e="editor-js-styles";if($.get(e))return;const n=$.make("style",null,{id:e,textContent:nw.toString()});this.config.style&&!Tt(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),$.prepend(document.head,n)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Qs(n=>{const o=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(Qd,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case me.ENTER:this.enterPressed(e);break;case me.BACKSPACE:case me.DELETE:this.backspacePressed(e);break;case me.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&o===null){this.Editor.BlockEvents.keydown(e);return}o||n&&r||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:o,Caret:r}=this.Editor;if(o.anyBlockSelected&&!ae.isSelectionExists){const s=n.removeSelectedBlocks(),i=n.insertDefaultBlockAtIndex(s,!0);r.setToBlock(i,r.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:o}=this.Editor;if(this.someToolbarOpened)return;const r=n.currentBlockIndex>=0;if(o.anyBlockSelected&&!ae.isSelectionExists){o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&r&&e.target.tagName==="BODY"){const s=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(s),this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,o;if(!e.isTrusted)return;const r=e.target;this.nodes.holder.contains(r)||ae.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const s=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(r),i=(o=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:o.contains(r),a=s||i;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(r);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,r=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(o,r)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!ae.isCollapsed)return;const n=e.target,o=e.metaKey||e.ctrlKey;if($.isAnchor(n)&&o){e.stopImmediatePropagation(),e.stopPropagation();const r=n.getAttribute("href"),s=Mb(r);Pb(s);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),o=$.offset(n.holder).bottom,r=e.pageY,{BlockSelection:s}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!s.anyBlockSelected&&o<r){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:i,Caret:a,Toolbar:l}=this.Editor;(!i.lastBlock.tool.isDefault||!i.lastBlock.isEmpty)&&i.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(i.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,o=ae.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&ae.get().removeAllRanges(),!o){ae.range||this.Editor.InlineToolbar.close();return}const r=o.closest(`.${Ze.CSS.content}`);(r===null||r.closest(`.${ae.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),o.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const o=n.target;xd(o)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const rw={BlocksAPI:Wb,CaretAPI:qb,EventsAPI:Qb,I18nAPI:Di,API:Kb,InlineToolbarAPI:Gb,ListenersAPI:Yb,NotifierAPI:ev,ReadOnlyAPI:tv,SanitizerAPI:lv,SaverAPI:cv,SelectionAPI:uv,ToolsAPI:dv,StylesAPI:hv,ToolbarAPI:fv,TooltipAPI:vv,UiAPI:yv,BlockSettings:Vv,Toolbar:Jv,InlineToolbar:ey,BlockEvents:O1,BlockManager:R1,BlockSelection:N1,Caret:Sr,CrossBlockSelection:D1,DragNDrop:F1,ModificationsObserver:H1,Paste:U1,ReadOnly:z1,RectangleSelection:_o,Renderer:W1,Saver:V1,Tools:Ih,UI:ow};class sw{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Wo;let n,o;this.isReady=new Promise((r,s)=>{n=r,o=s}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:r,Caret:s,UI:i,ModificationsObserver:a}=this.moduleInstances;i.checkEmptiness(),a.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&s.setToBlock(r.blocks[0],s.positions.START),n()}).catch(r=>{Le(`Editor.js is not ready because of ${r}`,"error"),o(r)})}set configuration(e){var n,o;Xe(e)?this.config={...e}:this.config={holder:e},Gs(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=yd.VERBOSE),Cb(this.config.logLevel),Gs(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const r={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Tt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[r]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&ct.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((o=this.config.i18n)==null?void 0:o.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(Zt(n)&&!$.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&Xe(n)&&!$.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(o){if(o instanceof _d)throw new Error(o.message);Le(`Module ${n} was skipped because of %o`,"warn",o)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(rw).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(o){Le("[constructModules]",`Module ${e} skipped because`,"error",o)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const o in this.moduleInstances)o!==e&&(n[o]=this.moduleInstances[o]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class iw{static get version(){return"2.31.0-rc.7"}constructor(e){let n=()=>{};Xe(e)&&Ue(e.onReady)&&(n=e.onReady);const o=new sw(e);this.isReady=o.isReady.then(()=>{this.exportAPI(o),n()})}exportAPI(e){const n=["configuration"],o=()=>{Object.values(e.moduleInstances).forEach(r=>{Ue(r.destroy)&&r.destroy(),r.listeners.removeAll()}),bv(),e=null;for(const r in this)Object.prototype.hasOwnProperty.call(this,r)&&delete this[r];Object.setPrototypeOf(this,null)};n.forEach(r=>{this[r]=e[r]}),this.destroy=o,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([r,s])=>{Object.entries(s).forEach(([i,a])=>{this[a]=e.moduleInstances.API.methods[r][i]})})}}const aw={class:"h-full relative"},lw={class:"border-b pb-5 mb-5 border-slate-500"},cw={class:"flex align-baseline"},uw={class:"text-3xl"},dw={class:"underline text-blue-600"},hw={__name:"EditorView",props:{id:Number},setup(t){const e=t,n=bt(""),o=bt("");let r;mn(async()=>{const i=await K0(e.id),a=i.content!=null?i.content:!1;n.value=i.title,o.value=i.updated_at,r=new iw({holder:"editor",data:a,autofocus:!0,hideToolbar:!1,placeholder:"Que estas pensando?"})});async function s(){r.save().then(async i=>{const a=JSON.stringify(i),l=await Y0(e.id,a);l.status==200&&(o.value=l.updated_at)}).catch(i=>{console.log("Saving failed: ",i)})}return(i,a)=>(Ee(),Te("div",aw,[J("div",lw,[J("div",cw,[J("h1",uw,Yt(n.value),1),J("button",{class:"text-slate-500 hover:text-slate-200 cursor-pointer inline-block ml-4",onClick:a[0]||(a[0]=l=>s())},[Be(Ae(cm),{class:"size-6"})])]),J("p",null,[Be(Ae(um),{class:"inline-block size-4"}),a[1]||(a[1]=Oo()),J("small",dw,Yt(o.value),1)])]),a[2]||(a[2]=J("div",{id:"editor"},null,-1))]))}},fw={class:"p-5"},pw={class:"flex flex-row items-center"},gw={class:"hover:text-sky-500 cursor-pointer"},mw={class:"flex"},bw={__name:"SetupView",setup(t){const e=vt();return(n,o)=>(Ee(),Te("div",null,[o[3]||(o[3]=J("h1",{class:"text-4xl"},"Ajustes",-1)),o[4]||(o[4]=J("hr",{class:"w-2/3 my-4"},null,-1)),J("div",fw,[J("div",pw,[J("button",{onClick:o[0]||(o[0]=r=>Ae(J0)())},[J("span",gw,[Be(Ae(fm),{class:"inline-block size-3 mr-1"}),o[1]||(o[1]=Oo("Carpeta de destino "))])]),J("div",mw,[o[2]||(o[2]=J("p",{class:"mx-2"},">",-1)),J("span",null,Yt(Ae(e).getFolderLocation),1)])])])]))}},vw=[{path:"/",name:"notes",component:kb},{path:"/editor/:id",name:"editor",component:hw,props:!0},{path:"/setup",name:"setup",component:bw},{path:"/about",name:"about",component:W0}],Na=om({history:Lg(),routes:vw}),yw=C0();og($0).use(Na).use(yw).mount("#app");
