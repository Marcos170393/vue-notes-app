(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dn(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const $e=Object.freeze({}),tr=Object.freeze([]),mt=()=>{},Am=()=>!1,ei=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ui=t=>t.startsWith("onUpdate:"),Ze=Object.assign,Sl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bm=Object.prototype.hasOwnProperty,Pe=(t,e)=>Bm.call(t,e),ue=Array.isArray,wo=t=>ti(t)==="[object Map]",ms=t=>ti(t)==="[object Set]",Qu=t=>ti(t)==="[object Date]",he=t=>typeof t=="function",We=t=>typeof t=="string",en=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",Tl=t=>(Le(t)||he(t))&&he(t.then)&&he(t.catch),Kf=Object.prototype.toString,ti=t=>Kf.call(t),Il=t=>ti(t).slice(8,-1),Qf=t=>ti(t)==="[object Object]",Ol=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Br=Dn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mm=Dn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),bs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Pm=/-(\w)/g,Ct=bs(t=>t.replace(Pm,(e,n)=>n?n.toUpperCase():"")),Lm=/\B([A-Z])/g,Rn=bs(t=>t.replace(Lm,"-$1").toLowerCase()),Oo=bs(t=>t.charAt(0).toUpperCase()+t.slice(1)),po=bs(t=>t?`on${Oo(t)}`:""),no=(t,e)=>!Object.is(t,e),Ko=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Vi=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},Da=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Rm=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let Gu;const ni=()=>Gu||(Gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nr(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=We(o)?jm(o):nr(o);if(r)for(const i in r)e[i]=r[i]}return e}else if(We(t)||Le(t))return t}const Nm=/;(?![^(]*\))/g,$m=/:([^]+)/,Dm=/\/\*[^]*?\*\//g;function jm(t){const e={};return t.replace(Dm,"").split(Nm).forEach(n=>{if(n){const o=n.split($m);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Rt(t){let e="";if(We(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const o=Rt(t[n]);o&&(e+=o+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Fm="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Hm="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Um="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Vm=Dn(Fm),zm=Dn(Hm),Wm=Dn(Um),qm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Km=Dn(qm);function Gf(t){return!!t||t===""}function Qm(t,e){if(t.length!==e.length)return!1;let n=!0;for(let o=0;n&&o<t.length;o++)n=vs(t[o],e[o]);return n}function vs(t,e){if(t===e)return!0;let n=Qu(t),o=Qu(e);if(n||o)return n&&o?t.getTime()===e.getTime():!1;if(n=en(t),o=en(e),n||o)return t===e;if(n=ue(t),o=ue(e),n||o)return n&&o?Qm(t,e):!1;if(n=Le(t),o=Le(e),n||o){if(!n||!o)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!vs(t[s],e[s]))return!1}}return String(t)===String(e)}function Yf(t,e){return t.findIndex(n=>vs(n,e))}const Zf=t=>!!(t&&t.__v_isRef===!0),Zt=t=>We(t)?t:t==null?"":ue(t)||Le(t)&&(t.toString===Kf||!he(t.toString))?Zf(t)?Zt(t.value):JSON.stringify(t,Xf,2):String(t),Xf=(t,e)=>Zf(e)?Xf(t,e.value):wo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,r],i)=>(n[na(o,i)+" =>"]=r,n),{})}:ms(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>na(n))}:en(e)?na(e):Le(e)&&!ue(e)&&!Qf(e)?String(e):e,na=(t,e="")=>{var n;return en(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qt(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let wt;class Jf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!e&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=wt;try{return wt=this,e()}finally{wt=n}}else qt("cannot run an inactive effect scope.")}on(){wt=this}off(){wt=this.parent}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function eh(t){return new Jf(t)}function th(){return wt}function Gm(t,e=!1){wt?wt.cleanups.push(t):e||qt("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Ne;const oa=new WeakSet;class nh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oa.has(this)&&(oa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yu(this),ih(this);const e=Ne,n=Xt;Ne=this,Xt=!0;try{return this.fn()}finally{Ne!==this&&qt("Active effect was not restored correctly - this is likely a Vue internal bug."),sh(this),Ne=e,Xt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ml(e);this.deps=this.depsTail=void 0,Yu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ja(this)&&this.run()}get dirty(){return ja(this)}}let oh=0,Mr,Pr;function rh(t,e=!1){if(t.flags|=8,e){t.next=Pr,Pr=t;return}t.next=Mr,Mr=t}function Al(){oh++}function Bl(){if(--oh>0)return;if(Pr){let e=Pr;for(Pr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Mr;){let e=Mr;for(Mr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function ih(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function sh(t){let e,n=t.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),Ml(o),Ym(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}t.deps=e,t.depsTail=n}function ja(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ah(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ah(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Dr))return;t.globalVersion=Dr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ja(t)){t.flags&=-3;return}const n=Ne,o=Xt;Ne=t,Xt=!0;try{ih(t);const r=t.fn(t._value);(e.version===0||no(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ne=n,Xt=o,sh(t),t.flags&=-3}}function Ml(t,e=!1){const{dep:n,prevSub:o,nextSub:r}=t;if(o&&(o.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=o,t.nextSub=void 0),n.subsHead===t&&(n.subsHead=r),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ml(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ym(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Xt=!0;const lh=[];function jn(){lh.push(Xt),Xt=!1}function Fn(){const t=lh.pop();Xt=t===void 0?!0:t}function Yu(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ne;Ne=void 0;try{e()}finally{Ne=n}}}let Dr=0;class Zm{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.subsHead=void 0}track(e){if(!Ne||!Xt||Ne===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ne)n=this.activeLink=new Zm(Ne,this),Ne.deps?(n.prevDep=Ne.depsTail,Ne.depsTail.nextDep=n,Ne.depsTail=n):Ne.deps=Ne.depsTail=n,ch(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Ne.depsTail,n.nextDep=void 0,Ne.depsTail.nextDep=n,Ne.depsTail=n,Ne.deps===n&&(Ne.deps=o)}return Ne.onTrack&&Ne.onTrack(Ze({effect:Ne},e)),n}trigger(e){this.version++,Dr++,this.notify(e)}notify(e){Al();try{for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(Ze({effect:n.sub},e));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bl()}}}function ch(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)ch(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subsHead===void 0&&(t.dep.subsHead=t),t.dep.subs=t}}const zi=new WeakMap,ko=Symbol("Object iterate"),Fa=Symbol("Map keys iterate"),jr=Symbol("Array iterate");function lt(t,e,n){if(Xt&&Ne){let o=zi.get(t);o||zi.set(t,o=new Map);let r=o.get(n);r||(o.set(n,r=new Pl),r.map=o,r.key=n),r.track({target:t,type:e,key:n})}}function un(t,e,n,o,r,i){const s=zi.get(t);if(!s){Dr++;return}const a=l=>{l&&l.trigger({target:t,type:e,key:n,newValue:o,oldValue:r,oldTarget:i})};if(Al(),e==="clear")s.forEach(a);else{const l=ue(t),d=l&&Ol(n);if(l&&n==="length"){const c=Number(o);s.forEach((u,p)=>{(p==="length"||p===jr||!en(p)&&p>=c)&&a(u)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),d&&a(s.get(jr)),e){case"add":l?d&&a(s.get("length")):(a(s.get(ko)),wo(t)&&a(s.get(Fa)));break;case"delete":l||(a(s.get(ko)),wo(t)&&a(s.get(Fa)));break;case"set":wo(t)&&a(s.get(ko));break}}Bl()}function Xm(t,e){const n=zi.get(t);return n&&n.get(e)}function jo(t){const e=ve(t);return e===t?e:(lt(e,"iterate",jr),St(t)?e:e.map(pt))}function ys(t){return lt(t=ve(t),"iterate",jr),t}const Jm={__proto__:null,[Symbol.iterator](){return ra(this,Symbol.iterator,pt)},concat(...t){return jo(this).concat(...t.map(e=>ue(e)?jo(e):e))},entries(){return ra(this,"entries",t=>(t[1]=pt(t[1]),t))},every(t,e){return wn(this,"every",t,e,void 0,arguments)},filter(t,e){return wn(this,"filter",t,e,n=>n.map(pt),arguments)},find(t,e){return wn(this,"find",t,e,pt,arguments)},findIndex(t,e){return wn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return wn(this,"findLast",t,e,pt,arguments)},findLastIndex(t,e){return wn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return wn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ia(this,"includes",t)},indexOf(...t){return ia(this,"indexOf",t)},join(t){return jo(this).join(t)},lastIndexOf(...t){return ia(this,"lastIndexOf",t)},map(t,e){return wn(this,"map",t,e,void 0,arguments)},pop(){return br(this,"pop")},push(...t){return br(this,"push",t)},reduce(t,...e){return Zu(this,"reduce",t,e)},reduceRight(t,...e){return Zu(this,"reduceRight",t,e)},shift(){return br(this,"shift")},some(t,e){return wn(this,"some",t,e,void 0,arguments)},splice(...t){return br(this,"splice",t)},toReversed(){return jo(this).toReversed()},toSorted(t){return jo(this).toSorted(t)},toSpliced(...t){return jo(this).toSpliced(...t)},unshift(...t){return br(this,"unshift",t)},values(){return ra(this,"values",pt)}};function ra(t,e,n){const o=ys(t),r=o[e]();return o!==t&&!St(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const eb=Array.prototype;function wn(t,e,n,o,r,i){const s=ys(t),a=s!==t&&!St(t),l=s[e];if(l!==eb[e]){const u=l.apply(t,i);return a?pt(u):u}let d=n;s!==t&&(a?d=function(u,p){return n.call(this,pt(u),p,t)}:n.length>2&&(d=function(u,p){return n.call(this,u,p,t)}));const c=l.call(s,d,o);return a&&r?r(c):c}function Zu(t,e,n,o){const r=ys(t);let i=n;return r!==t&&(St(t)?n.length>3&&(i=function(s,a,l){return n.call(this,s,a,l,t)}):i=function(s,a,l){return n.call(this,s,pt(a),l,t)}),r[e](i,...o)}function ia(t,e,n){const o=ve(t);lt(o,"iterate",jr);const r=o[e](...n);return(r===-1||r===!1)&&Fr(n[0])?(n[0]=ve(n[0]),o[e](...n)):r}function br(t,e,n=[]){jn(),Al();const o=ve(t)[e].apply(t,n);return Bl(),Fn(),o}const tb=Dn("__proto__,__v_isRef,__isVue"),uh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(en));function nb(t){en(t)||(t=String(t));const e=ve(this);return lt(e,"has",t),e.hasOwnProperty(t)}class dh{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(r?i?bh:mh:i?gh:ph).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const s=ue(e);if(!r){let l;if(s&&(l=Jm[n]))return l;if(n==="hasOwnProperty")return nb}const a=Reflect.get(e,n,He(e)?e:o);return(en(n)?uh.has(n):tb(n))||(r||lt(e,"get",n),i)?a:He(a)?s&&Ol(n)?a:a.value:Le(a)?r?yh(a):Nt(a):a}}class fh extends dh{constructor(e=!1){super(!1,e)}set(e,n,o,r){let i=e[n];if(!this._isShallow){const l=Nn(i);if(!St(o)&&!Nn(o)&&(i=ve(i),o=ve(o)),!ue(e)&&He(i)&&!He(o))return l?!1:(i.value=o,!0)}const s=ue(e)&&Ol(n)?Number(n)<e.length:Pe(e,n),a=Reflect.set(e,n,o,He(e)?e:r);return e===ve(r)&&(s?no(o,i)&&un(e,"set",n,o,i):un(e,"add",n,o)),a}deleteProperty(e,n){const o=Pe(e,n),r=e[n],i=Reflect.deleteProperty(e,n);return i&&o&&un(e,"delete",n,void 0,r),i}has(e,n){const o=Reflect.has(e,n);return(!en(n)||!uh.has(n))&&lt(e,"has",n),o}ownKeys(e){return lt(e,"iterate",ue(e)?"length":ko),Reflect.ownKeys(e)}}class hh extends dh{constructor(e=!1){super(!0,e)}set(e,n){return qt(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return qt(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const ob=new fh,rb=new hh,ib=new fh(!0),sb=new hh(!0),Ha=t=>t,hi=t=>Reflect.getPrototypeOf(t);function ab(t,e,n){return function(...o){const r=this.__v_raw,i=ve(r),s=wo(i),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,d=r[t](...o),c=n?Ha:e?Ua:pt;return!e&&lt(i,"iterate",l?Fa:ko),{next(){const{value:u,done:p}=d.next();return p?{value:u,done:p}:{value:a?[c(u[0]),c(u[1])]:c(u),done:p}},[Symbol.iterator](){return this}}}}function pi(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";qt(`${Oo(t)} operation ${n}failed: target is readonly.`,ve(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function lb(t,e){const n={get(r){const i=this.__v_raw,s=ve(i),a=ve(r);t||(no(r,a)&&lt(s,"get",r),lt(s,"get",a));const{has:l}=hi(s),d=e?Ha:t?Ua:pt;if(l.call(s,r))return d(i.get(r));if(l.call(s,a))return d(i.get(a));i!==s&&i.get(r)},get size(){const r=this.__v_raw;return!t&&lt(ve(r),"iterate",ko),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,s=ve(i),a=ve(r);return t||(no(r,a)&&lt(s,"has",r),lt(s,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const s=this,a=s.__v_raw,l=ve(a),d=e?Ha:t?Ua:pt;return!t&&lt(l,"iterate",ko),a.forEach((c,u)=>r.call(i,d(c),d(u),s))}};return Ze(n,t?{add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear")}:{add(r){!e&&!St(r)&&!Nn(r)&&(r=ve(r));const i=ve(this);return hi(i).has.call(i,r)||(i.add(r),un(i,"add",r,r)),this},set(r,i){!e&&!St(i)&&!Nn(i)&&(i=ve(i));const s=ve(this),{has:a,get:l}=hi(s);let d=a.call(s,r);d?Xu(s,a,r):(r=ve(r),d=a.call(s,r));const c=l.call(s,r);return s.set(r,i),d?no(i,c)&&un(s,"set",r,i,c):un(s,"add",r,i),this},delete(r){const i=ve(this),{has:s,get:a}=hi(i);let l=s.call(i,r);l?Xu(i,s,r):(r=ve(r),l=s.call(i,r));const d=a?a.call(i,r):void 0,c=i.delete(r);return l&&un(i,"delete",r,void 0,d),c},clear(){const r=ve(this),i=r.size!==0,s=wo(r)?new Map(r):new Set(r),a=r.clear();return i&&un(r,"clear",void 0,void 0,s),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=ab(r,t,e)}),n}function xs(t,e){const n=lb(t,e);return(o,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(Pe(n,r)&&r in o?n:o,r,i)}const cb={get:xs(!1,!1)},ub={get:xs(!1,!0)},db={get:xs(!0,!1)},fb={get:xs(!0,!0)};function Xu(t,e,n){const o=ve(n);if(o!==n&&e.call(t,o)){const r=Il(t);qt(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,bh=new WeakMap;function hb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pb(t){return t.__v_skip||!Object.isExtensible(t)?0:hb(Il(t))}function Nt(t){return Nn(t)?t:ws(t,!1,ob,cb,ph)}function vh(t){return ws(t,!1,ib,ub,gh)}function yh(t){return ws(t,!0,rb,db,mh)}function fn(t){return ws(t,!0,sb,fb,bh)}function ws(t,e,n,o,r){if(!Le(t))return qt(`value cannot be made ${e?"readonly":"reactive"}: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const s=pb(t);if(s===0)return t;const a=new Proxy(t,s===2?o:n);return r.set(t,a),a}function gn(t){return Nn(t)?gn(t.__v_raw):!!(t&&t.__v_isReactive)}function Nn(t){return!!(t&&t.__v_isReadonly)}function St(t){return!!(t&&t.__v_isShallow)}function Fr(t){return t?!!t.__v_raw:!1}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function Jn(t){return!Pe(t,"__v_skip")&&Object.isExtensible(t)&&Vi(t,"__v_skip",!0),t}const pt=t=>Le(t)?Nt(t):t,Ua=t=>Le(t)?yh(t):t;function He(t){return t?t.__v_isRef===!0:!1}function Be(t){return xh(t,!1)}function gb(t){return xh(t,!0)}function xh(t,e){return He(t)?t:new mb(t,e)}class mb{constructor(e,n){this.dep=new Pl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ve(e),this._value=n?e:pt(e),this.__v_isShallow=n}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(e){const n=this._rawValue,o=this.__v_isShallow||St(e)||Nn(e);e=o?e:ve(e),no(e,n)&&(this._rawValue=e,this._value=o?e:pt(e),this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:n}))}}function eo(t){return He(t)?t.value:t}const bb={get:(t,e,n)=>e==="__v_raw"?t:eo(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const r=t[e];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(t,e,n,o)}};function wh(t){return gn(t)?t:new Proxy(t,bb)}function Ju(t){Fr(t)||qt("toRefs() expects a reactive object but received a plain one.");const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=kh(t,n);return e}class vb{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Xm(ve(this._object),this._key)}}class yb{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function sa(t,e,n){return He(t)?t:he(t)?new yb(t):Le(t)&&arguments.length>1?kh(t,e,n):Be(t)}function kh(t,e,n){const o=t[e];return He(o)?o:new vb(t,e,n)}class xb{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Pl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return rh(this,!0),!0}get value(){const e=this.dep.track({target:this,type:"get",key:"value"});return ah(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):qt("Write operation failed: computed value is readonly")}}function wb(t,e,n=!1){let o,r;he(t)?o=t:(o=t.get,r=t.set);const i=new xb(o,r,n);return e&&!n&&(i.onTrack=e.onTrack,i.onTrigger=e.onTrigger),i}const gi={},Wi=new WeakMap;let go;function kb(t,e=!1,n=go){if(n){let o=Wi.get(n);o||Wi.set(n,o=[]),o.push(t)}else e||qt("onWatcherCleanup() was called when there was no active watcher to associate with.")}function Eb(t,e,n=$e){const{immediate:o,deep:r,once:i,scheduler:s,augmentJob:a,call:l}=n,d=P=>{(n.onWarn||qt)("Invalid watch source: ",P,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},c=P=>r?P:St(P)||r===!1||r===0?Bn(P,1):Bn(P);let u,p,b,h,g=!1,x=!1;if(He(t)?(p=()=>t.value,g=St(t)):gn(t)?(p=()=>c(t),g=!0):ue(t)?(x=!0,g=t.some(P=>gn(P)||St(P)),p=()=>t.map(P=>{if(He(P))return P.value;if(gn(P))return c(P);if(he(P))return l?l(P,2):P();d(P)})):he(t)?e?p=l?()=>l(t,2):t:p=()=>{if(b){jn();try{b()}finally{Fn()}}const P=go;go=u;try{return l?l(t,3,[h]):t(h)}finally{go=P}}:(p=mt,d(t)),e&&r){const P=p,S=r===!0?1/0:r;p=()=>Bn(P(),S)}const k=th(),_=()=>{u.stop(),k&&k.active&&Sl(k.effects,u)};if(i&&e){const P=e;e=(...S)=>{P(...S),_()}}let C=x?new Array(t.length).fill(gi):gi;const L=P=>{if(!(!(u.flags&1)||!u.dirty&&!P))if(e){const S=u.run();if(r||g||(x?S.some((T,B)=>no(T,C[B])):no(S,C))){b&&b();const T=go;go=u;try{const B=[S,C===gi?void 0:x&&C[0]===gi?[]:C,h];l?l(e,3,B):e(...B),C=S}finally{go=T}}}else u.run()};return a&&a(L),u=new nh(p),u.scheduler=s?()=>s(L,!1):L,h=P=>kb(P,!1,u),b=u.onStop=()=>{const P=Wi.get(u);if(P){if(l)l(P,4);else for(const S of P)S();Wi.delete(u)}},u.onTrack=n.onTrack,u.onTrigger=n.onTrigger,e?o?L(!0):C=u.run():s?s(L.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Bn(t,e=1/0,n){if(e<=0||!Le(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,He(t))Bn(t.value,e,n);else if(ue(t))for(let o=0;o<t.length;o++)Bn(t[o],e,n);else if(ms(t)||wo(t))t.forEach(o=>{Bn(o,e,n)});else if(Qf(t)){for(const o in t)Bn(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Bn(t[o],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Eo=[];function Ei(t){Eo.push(t)}function _i(){Eo.pop()}let aa=!1;function X(t,...e){if(aa)return;aa=!0,jn();const n=Eo.length?Eo[Eo.length-1].component:null,o=n&&n.appContext.config.warnHandler,r=_b();if(o)dr(o,n,11,[t+e.map(i=>{var s,a;return(a=(s=i.toString)==null?void 0:s.call(i))!=null?a:JSON.stringify(i)}).join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${Ss(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${t}`,...e];r.length&&i.push(`
`,...Cb(r)),console.warn(...i)}Fn(),aa=!1}function _b(){let t=Eo[Eo.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const o=t.component&&t.component.parent;t=o&&o.vnode}return e}function Cb(t){const e=[];return t.forEach((n,o)=>{e.push(...o===0?[]:[`
`],...Sb(n))}),e}function Sb({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",o=t.component?t.component.parent==null:!1,r=` at <${Ss(t.component,t.type,o)}`,i=">"+n;return t.props?[r,...Tb(t.props),i]:[r+i]}function Tb(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(o=>{e.push(...Eh(o,t[o]))}),n.length>3&&e.push(" ..."),e}function Eh(t,e,n){return We(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:He(e)?(e=Eh(t,ve(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):he(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=ve(e),n?e:[`${t}=`,e])}function Ib(t,e){t!==void 0&&(typeof t!="number"?X(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&X(`${e} is NaN - the duration expression might be incorrect.`))}const Ll={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function dr(t,e,n,o){try{return o?t(...o):t()}catch(r){oi(r,e,n)}}function tn(t,e,n,o){if(he(t)){const r=dr(t,e,n,o);return r&&Tl(r)&&r.catch(i=>{oi(i,e,n)}),r}if(ue(t)){const r=[];for(let i=0;i<t.length;i++)r.push(tn(t[i],e,n,o));return r}else X(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function oi(t,e,n,o=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||$e;if(e){let a=e.parent;const l=e.proxy,d=Ll[n];for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,l,d)===!1)return}a=a.parent}if(i){jn(),dr(i,null,10,[t,l,d]),Fn();return}}Ob(t,n,r,o,s)}function Ob(t,e,n,o=!0,r=!1){{const i=Ll[e];if(n&&Ei(n),X(`Unhandled error${i?` during execution of ${i}`:""}`),n&&_i(),o)throw t;console.error(t)}}const kt=[];let sn=-1;const or=[];let Qn=null,Qo=0;const _h=Promise.resolve();let qi=null;const Ab=100;function Ki(t){const e=qi||_h;return t?e.then(this?t.bind(this):t):e}function Bb(t){let e=sn+1,n=kt.length;for(;e<n;){const o=e+n>>>1,r=kt[o],i=Hr(r);i<t||i===t&&r.flags&2?e=o+1:n=o}return e}function ks(t){if(!(t.flags&1)){const e=Hr(t),n=kt[kt.length-1];!n||!(t.flags&2)&&e>=Hr(n)?kt.push(t):kt.splice(Bb(e),0,t),t.flags|=1,Ch()}}function Ch(){qi||(qi=_h.then(Ih))}function Sh(t){ue(t)?or.push(...t):Qn&&t.id===-1?Qn.splice(Qo+1,0,t):t.flags&1||(or.push(t),t.flags|=1),Ch()}function ed(t,e,n=sn+1){for(e=e||new Map;n<kt.length;n++){const o=kt[n];if(o&&o.flags&2){if(t&&o.id!==t.uid||Rl(e,o))continue;kt.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Th(t){if(or.length){const e=[...new Set(or)].sort((n,o)=>Hr(n)-Hr(o));if(or.length=0,Qn){Qn.push(...e);return}for(Qn=e,t=t||new Map,Qo=0;Qo<Qn.length;Qo++){const n=Qn[Qo];Rl(t,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}Qn=null,Qo=0}}const Hr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ih(t){t=t||new Map;const e=n=>Rl(t,n);try{for(sn=0;sn<kt.length;sn++){const n=kt[sn];if(n&&!(n.flags&8)){if(e(n))continue;n.flags&4&&(n.flags&=-2),dr(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;sn<kt.length;sn++){const n=kt[sn];n&&(n.flags&=-2)}sn=-1,kt.length=0,Th(t),qi=null,(kt.length||or.length)&&Ih(t)}}function Rl(t,e){const n=t.get(e)||0;if(n>Ab){const o=e.i,r=o&&Vl(o.type);return oi(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return t.set(e,n+1),!1}let hn=!1;const Ci=new Map;ni().__VUE_HMR_RUNTIME__={createRecord:la(Oh),rerender:la(Lb),reload:la(Rb)};const Ao=new Map;function Mb(t){const e=t.type.__hmrId;let n=Ao.get(e);n||(Oh(e,t.type),n=Ao.get(e)),n.instances.add(t)}function Pb(t){Ao.get(t.type.__hmrId).instances.delete(t)}function Oh(t,e){return Ao.has(t)?!1:(Ao.set(t,{initialDef:Qi(e),instances:new Set}),!0)}function Qi(t){return vp(t)?t.__vccOpts:t}function Lb(t,e){const n=Ao.get(t);n&&(n.initialDef.render=e,[...n.instances].forEach(o=>{e&&(o.render=e,Qi(o.type).render=e),o.renderCache=[],hn=!0,o.update(),hn=!1}))}function Rb(t,e){const n=Ao.get(t);if(!n)return;e=Qi(e),td(n.initialDef,e);const o=[...n.instances];for(let r=0;r<o.length;r++){const i=o[r],s=Qi(i.type);let a=Ci.get(s);a||(s!==n.initialDef&&td(s,e),Ci.set(s,a=new Set)),a.add(i),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(a.add(i),i.ceReload(e.styles),a.delete(i)):i.parent?ks(()=>{hn=!0,i.parent.update(),hn=!1,a.delete(i)}):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),i.root.ce&&i!==i.root&&i.root.ce._removeChildStyle(s)}Sh(()=>{Ci.clear()})}function td(t,e){Ze(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function la(t){return(e,n)=>{try{return t(e,n)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let dn,Tr=[],Va=!1;function ri(t,...e){dn?dn.emit(t,...e):Va||Tr.push({event:t,args:e})}function Ah(t,e){var n,o;dn=t,dn?(dn.enabled=!0,Tr.forEach(({event:r,args:i})=>dn.emit(r,...i)),Tr=[]):typeof window<"u"&&window.HTMLElement&&!((o=(n=window.navigator)==null?void 0:n.userAgent)!=null&&o.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Ah(i,e)}),setTimeout(()=>{dn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Va=!0,Tr=[])},3e3)):(Va=!0,Tr=[])}function Nb(t,e){ri("app:init",t,e,{Fragment:Ye,Text:si,Comment:et,Static:Ti})}function $b(t){ri("app:unmount",t)}const Db=Nl("component:added"),Bh=Nl("component:updated"),jb=Nl("component:removed"),Fb=t=>{dn&&typeof dn.cleanupBuffer=="function"&&!dn.cleanupBuffer(t)&&jb(t)};/*! #__NO_SIDE_EFFECTS__ */function Nl(t){return e=>{ri(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const Hb=Mh("perf:start"),Ub=Mh("perf:end");function Mh(t){return(e,n,o)=>{ri(t,e.appContext.app,e.uid,e,n,o)}}function Vb(t,e,n){ri("component:emit",t.appContext.app,t,e,n)}let tt=null,Ph=null;function Gi(t){const e=tt;return tt=t,Ph=t&&t.type.__scopeId||null,e}function zt(t,e=tt,n){if(!e||t._n)return t;const o=(...r)=>{o._d&&md(-1);const i=Gi(e);let s;try{s=t(...r)}finally{Gi(i),o._d&&md(1)}return Bh(e),s};return o._n=!0,o._c=!0,o._d=!0,o}function Lh(t){Mm(t)&&X("Do not use built-in directive ids as custom directive id: "+t)}function mn(t,e){if(tt===null)return X("withDirectives can only be used inside render functions."),t;const n=Cs(tt),o=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,s,a,l=$e]=e[r];i&&(he(i)&&(i={mounted:i,updated:i}),i.deep&&Bn(s),o.push({dir:i,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function lo(t,e,n,o){const r=t.dirs,i=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];i&&(a.oldValue=i[s].value);let l=a.dir[o];l&&(jn(),tn(l,n,8,[t.el,a,t,e]),Fn())}}const zb=Symbol("_vte"),Rh=t=>t.__isTeleport,Gn=Symbol("_leaveCb"),mi=Symbol("_enterCb");function Wb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rt(()=>{t.isMounted=!0}),zh(()=>{t.isUnmounting=!0}),t}const Ft=[Function,Array],Nh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ft,onEnter:Ft,onAfterEnter:Ft,onEnterCancelled:Ft,onBeforeLeave:Ft,onLeave:Ft,onAfterLeave:Ft,onLeaveCancelled:Ft,onBeforeAppear:Ft,onAppear:Ft,onAfterAppear:Ft,onAppearCancelled:Ft},$h=t=>{const e=t.subTree;return e.component?$h(e.component):e},qb={name:"BaseTransition",props:Nh,setup(t,{slots:e}){const n=ai(),o=Wb();return()=>{const r=e.default&&Fh(e.default(),!0);if(!r||!r.length)return;const i=Dh(r),s=ve(t),{mode:a}=s;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&X(`invalid <transition> mode: ${a}`),o.isLeaving)return ca(i);const l=nd(i);if(!l)return ca(i);let d=za(l,s,o,n,u=>d=u);l.type!==et&&Ur(l,d);let c=n.subTree&&nd(n.subTree);if(c&&c.type!==et&&!bo(l,c)&&$h(n).type!==et){let u=za(c,s,o,n);if(Ur(c,u),a==="out-in"&&l.type!==et)return o.isLeaving=!0,u.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,c=void 0},ca(i);a==="in-out"&&l.type!==et?u.delayLeave=(p,b,h)=>{const g=jh(o,c);g[String(c.key)]=c,p[Gn]=()=>{b(),p[Gn]=void 0,delete d.delayedLeave,c=void 0},d.delayedLeave=()=>{h(),delete d.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function Dh(t){let e=t[0];if(t.length>1){let n=!1;for(const o of t)if(o.type!==et){if(n){X("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}e=o,n=!0}}return e}const Kb=qb;function jh(t,e){const{leavingVNodes:n}=t;let o=n.get(e.type);return o||(o=Object.create(null),n.set(e.type,o)),o}function za(t,e,n,o,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:p,onLeave:b,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:x,onAppear:k,onAfterAppear:_,onAppearCancelled:C}=e,L=String(t.key),P=jh(n,t),S=(w,O)=>{w&&tn(w,o,9,O)},T=(w,O)=>{const I=O[1];S(w,O),ue(w)?w.every(R=>R.length<=1)&&I():w.length<=1&&I()},B={mode:s,persisted:a,beforeEnter(w){let O=l;if(!n.isMounted)if(i)O=x||l;else return;w[Gn]&&w[Gn](!0);const I=P[L];I&&bo(t,I)&&I.el[Gn]&&I.el[Gn](),S(O,[w])},enter(w){let O=d,I=c,R=u;if(!n.isMounted)if(i)O=k||d,I=_||c,R=C||u;else return;let F=!1;const D=w[mi]=V=>{F||(F=!0,V?S(R,[w]):S(I,[w]),B.delayedLeave&&B.delayedLeave(),w[mi]=void 0)};O?T(O,[w,D]):D()},leave(w,O){const I=String(t.key);if(w[mi]&&w[mi](!0),n.isUnmounting)return O();S(p,[w]);let R=!1;const F=w[Gn]=D=>{R||(R=!0,O(),D?S(g,[w]):S(h,[w]),w[Gn]=void 0,P[I]===t&&delete P[I])};P[I]=t,b?T(b,[w,F]):F()},clone(w){const O=za(w,e,n,o,r);return r&&r(O),O}};return B}function ca(t){if(ii(t))return t=xn(t),t.children=null,t}function nd(t){if(!ii(t))return Rh(t.type)&&t.children?Dh(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&he(n.default))return n.default()}}function Ur(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ur(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Fh(t,e=!1,n){let o=[],r=0;for(let i=0;i<t.length;i++){let s=t[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===Ye?(s.patchFlag&128&&r++,o=o.concat(Fh(s.children,e,a))):(e||s.type!==et)&&o.push(a!=null?xn(s,{key:a}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Hh(t,e){return he(t)?Ze({name:t.name},e,{setup:t}):t}function Uh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Qb=new WeakSet;function Yi(t,e,n,o,r=!1){if(ue(t)){t.forEach((h,g)=>Yi(h,e&&(ue(e)?e[g]:e),n,o,r));return}if(rr(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Yi(t,e,n,o.component.subTree);return}const i=o.shapeFlag&4?Cs(o.component):o.el,s=r?null:i,{i:a,r:l}=t;if(!a){X("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const d=e&&e.r,c=a.refs===$e?a.refs={}:a.refs,u=a.setupState,p=ve(u),b=u===$e?()=>!1:h=>(Pe(p,h)&&!He(p[h])&&X(`Template ref "${h}" used on a non-ref value. It will not work in the production build.`),Qb.has(p[h])?!1:Pe(p,h));if(d!=null&&d!==l&&(We(d)?(c[d]=null,b(d)&&(u[d]=null)):He(d)&&(d.value=null)),he(l))dr(l,a,12,[s,c]);else{const h=We(l),g=He(l);if(h||g){const x=()=>{if(t.f){const k=h?b(l)?u[l]:c[l]:l.value;r?ue(k)&&Sl(k,i):ue(k)?k.includes(i)||k.push(i):h?(c[l]=[i],b(l)&&(u[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else h?(c[l]=s,b(l)&&(u[l]=s)):g?(l.value=s,t.k&&(c[t.k]=s)):X("Invalid template ref type:",l,`(${typeof l})`)};s?(x.id=-1,Mt(x,n)):x()}else X("Invalid template ref type:",l,`(${typeof l})`)}}ni().requestIdleCallback;ni().cancelIdleCallback;const rr=t=>!!t.type.__asyncLoader,ii=t=>t.type.__isKeepAlive;function Gb(t,e){Vh(t,"a",e)}function Yb(t,e){Vh(t,"da",e)}function Vh(t,e,n=ot){const o=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Es(e,o,n),n){let r=n.parent;for(;r&&r.parent;)ii(r.parent.vnode)&&Zb(o,e,n,r),r=r.parent}}function Zb(t,e,n,o){const r=Es(e,t,o,!0);Ot(()=>{Sl(o[e],r)},n)}function Es(t,e,n=ot,o=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{jn();const a=li(n),l=tn(e,n,t,s);return a(),Fn(),l});return o?r.unshift(i):r.push(i),i}else{const r=po(Ll[t].replace(/ hook$/,""));X(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Hn=t=>(e,n=ot)=>{(!zr||t==="sp")&&Es(t,(...o)=>e(...o),n)},Wa=Hn("bm"),rt=Hn("m"),Xb=Hn("bu"),Jb=Hn("u"),zh=Hn("bum"),Ot=Hn("um"),ev=Hn("sp"),tv=Hn("rtg"),nv=Hn("rtc");function ov(t,e=ot){Es("ec",t,e)}const Wh="components";function rv(t,e){return Kh(Wh,t,!0,e)||t}const qh=Symbol.for("v-ndc");function od(t){return We(t)?Kh(Wh,t,!1)||t:t||qh}function Kh(t,e,n=!0,o=!1){const r=tt||ot;if(r){const i=r.type;{const a=Vl(i,!1);if(a&&(a===e||a===Ct(e)||a===Oo(Ct(e))))return i}const s=rd(r[t]||i[t],e)||rd(r.appContext[t],e);return!s&&o?i:(n&&!s&&X(`Failed to resolve ${t.slice(0,-1)}: ${e}
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`),s)}else X(`resolve${Oo(t.slice(0,-1))} can only be used in render() or setup().`)}function rd(t,e){return t&&(t[e]||t[Ct(e)]||t[Oo(Ct(e))])}function $l(t,e,n,o){let r;const i=n,s=ue(t);if(s||We(t)){const a=s&&gn(t);let l=!1;a&&(l=!St(t),t=ys(t)),r=new Array(t.length);for(let d=0,c=t.length;d<c;d++)r[d]=e(l?pt(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){Number.isInteger(t)||X(`The v-for range expect an integer value but got ${t}.`),r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(Le(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}function iv(t,e,n={},o,r){if(tt.ce||tt.parent&&rr(tt.parent)&&tt.parent.ce)return ce(),$t(Ye,null,[ge("slot",n,o)],64);let i=t[e];i&&i.length>1&&(X("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),i=()=>[]),i&&i._c&&(i._d=!1),ce();const s=i&&Qh(i(n)),a=n.key||s&&s.key,l=$t(Ye,{key:(a&&!en(a)?a:`_${e}`)+""},s||[],s&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Qh(t){return t.some(e=>Bo(e)?!(e.type===et||e.type===Ye&&!Qh(e.children)):!0)?t:null}const qa=t=>t?mp(t)?Cs(t):qa(t.parent):null,_o=Ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>fn(t.props),$attrs:t=>fn(t.attrs),$slots:t=>fn(t.slots),$refs:t=>fn(t.refs),$parent:t=>qa(t.parent),$root:t=>qa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zh(t),$forceUpdate:t=>t.f||(t.f=()=>{ks(t.update)}),$nextTick:t=>t.n||(t.n=Ki.bind(t.proxy)),$watch:t=>jv.bind(t)}),Dl=t=>t==="_"||t==="$",ua=(t,e)=>t!==$e&&!t.__isScriptSetup&&Pe(t,e),Gh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:a,appContext:l}=t;if(e==="__isVue")return!0;let d;if(e[0]!=="$"){const b=s[e];if(b!==void 0)switch(b){case 1:return o[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ua(o,e))return s[e]=1,o[e];if(r!==$e&&Pe(r,e))return s[e]=2,r[e];if((d=t.propsOptions[0])&&Pe(d,e))return s[e]=3,i[e];if(n!==$e&&Pe(n,e))return s[e]=4,n[e];Ka&&(s[e]=0)}}const c=_o[e];let u,p;if(c)return e==="$attrs"?(lt(t.attrs,"get",""),Ji()):e==="$slots"&&lt(t,"get",e),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==$e&&Pe(n,e))return s[e]=4,n[e];if(p=l.config.globalProperties,Pe(p,e))return p[e];tt&&(!We(e)||e.indexOf("__v")!==0)&&(r!==$e&&Dl(e[0])&&Pe(r,e)?X(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===tt&&X(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:o,setupState:r,ctx:i}=t;return ua(r,e)?(r[e]=n,!0):r.__isScriptSetup&&Pe(r,e)?(X(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):o!==$e&&Pe(o,e)?(o[e]=n,!0):Pe(t.props,e)?(X(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(X(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(i,e,{enumerable:!0,configurable:!0,value:n}):i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let a;return!!n[s]||t!==$e&&Pe(t,s)||ua(e,s)||(a=i[0])&&Pe(a,s)||Pe(o,s)||Pe(_o,s)||Pe(r.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};Gh.ownKeys=t=>(X("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function sv(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(_o).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>_o[n](t),set:mt})}),e}function av(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(o=>{Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>t.props[o],set:mt})})}function lv(t){const{ctx:e,setupState:n}=t;Object.keys(ve(n)).forEach(o=>{if(!n.__isScriptSetup){if(Dl(o[0])){X(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>n[o],set:mt})}})}function id(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function cv(){const t=Object.create(null);return(e,n)=>{t[n]?X(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let Ka=!0;function uv(t){const e=Zh(t),n=t.proxy,o=t.ctx;Ka=!1,e.beforeCreate&&sd(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:s,watch:a,provide:l,inject:d,created:c,beforeMount:u,mounted:p,beforeUpdate:b,updated:h,activated:g,deactivated:x,beforeDestroy:k,beforeUnmount:_,destroyed:C,unmounted:L,render:P,renderTracked:S,renderTriggered:T,errorCaptured:B,serverPrefetch:w,expose:O,inheritAttrs:I,components:R,directives:F,filters:D}=e,V=cv();{const[Z]=t.propsOptions;if(Z)for(const te in Z)V("Props",te)}if(d&&dv(d,o,V),s)for(const Z in s){const te=s[Z];he(te)?(Object.defineProperty(o,Z,{value:te.bind(n),configurable:!0,enumerable:!0,writable:!0}),V("Methods",Z)):X(`Method "${Z}" has type "${typeof te}" in the component definition. Did you reference the function correctly?`)}if(r){he(r)||X("The data option must be a function. Plain object usage is no longer supported.");const Z=r.call(n,n);if(Tl(Z)&&X("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Le(Z))X("data() should return an object.");else{t.data=Nt(Z);for(const te in Z)V("Data",te),Dl(te[0])||Object.defineProperty(o,te,{configurable:!0,enumerable:!0,get:()=>Z[te],set:mt})}}if(Ka=!0,i)for(const Z in i){const te=i[Z],le=he(te)?te.bind(n,n):he(te.get)?te.get.bind(n,n):mt;le===mt&&X(`Computed property "${Z}" has no getter.`);const Fe=!he(te)&&he(te.set)?te.set.bind(n):()=>{X(`Write operation failed: computed property "${Z}" is readonly.`)},Te=Et({get:le,set:Fe});Object.defineProperty(o,Z,{enumerable:!0,configurable:!0,get:()=>Te.value,set:Ie=>Te.value=Ie}),V("Computed",Z)}if(a)for(const Z in a)Yh(a[Z],o,n,Z);if(l){const Z=he(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(te=>{Si(te,Z[te])})}c&&sd(c,t,"c");function J(Z,te){ue(te)?te.forEach(le=>Z(le.bind(n))):te&&Z(te.bind(n))}if(J(Wa,u),J(rt,p),J(Xb,b),J(Jb,h),J(Gb,g),J(Yb,x),J(ov,B),J(nv,S),J(tv,T),J(zh,_),J(Ot,L),J(ev,w),ue(O))if(O.length){const Z=t.exposed||(t.exposed={});O.forEach(te=>{Object.defineProperty(Z,te,{get:()=>n[te],set:le=>n[te]=le})})}else t.exposed||(t.exposed={});P&&t.render===mt&&(t.render=P),I!=null&&(t.inheritAttrs=I),R&&(t.components=R),F&&(t.directives=F),w&&Uh(t)}function dv(t,e,n=mt){ue(t)&&(t=Qa(t));for(const o in t){const r=t[o];let i;Le(r)?"default"in r?i=Wt(r.from||o,r.default,!0):i=Wt(r.from||o):i=Wt(r),He(i)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[o]=i,n("Inject",o)}}function sd(t,e,n){tn(ue(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function Yh(t,e,n,o){let r=o.includes(".")?cp(n,o):()=>n[o];if(We(t)){const i=e[t];he(i)?So(r,i):X(`Invalid watch handler specified by key "${t}"`,i)}else if(he(t))So(r,t.bind(n));else if(Le(t))if(ue(t))t.forEach(i=>Yh(i,e,n,o));else{const i=he(t.handler)?t.handler.bind(n):e[t.handler];he(i)?So(r,i,t):X(`Invalid watch handler specified by key "${t.handler}"`,i)}else X(`Invalid watch option: "${o}"`,t)}function Zh(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!o?l=e:(l={},r.length&&r.forEach(d=>Zi(l,d,s,!0)),Zi(l,e,s)),Le(e)&&i.set(e,l),l}function Zi(t,e,n,o=!1){const{mixins:r,extends:i}=e;i&&Zi(t,i,n,!0),r&&r.forEach(s=>Zi(t,s,n,!0));for(const s in e)if(o&&s==="expose")X('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=fv[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const fv={data:ad,props:ld,emits:ld,methods:Ir,computed:Ir,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:Ir,directives:Ir,watch:pv,provide:ad,inject:hv};function ad(t,e){return e?t?function(){return Ze(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function hv(t,e){return Ir(Qa(t),Qa(e))}function Qa(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function yt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ir(t,e){return t?Ze(Object.create(null),t,e):e}function ld(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Ze(Object.create(null),id(t),id(e??{})):e}function pv(t,e){if(!t)return e;if(!e)return t;const n=Ze(Object.create(null),t);for(const o in e)n[o]=yt(t[o],e[o]);return n}function Xh(){return{app:null,config:{isNativeTag:Am,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gv=0;function mv(t,e){return function(o,r=null){he(o)||(o=Ze({},o)),r!=null&&!Le(r)&&(X("root props passed to app.mount() must be an object."),r=null);const i=Xh(),s=new WeakSet,a=[];let l=!1;const d=i.app={_uid:gv++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:yd,get config(){return i.config},set config(c){X("app.config cannot be replaced. Modify individual options instead.")},use(c,...u){return s.has(c)?X("Plugin has already been applied to target app."):c&&he(c.install)?(s.add(c),c.install(d,...u)):he(c)?(s.add(c),c(d,...u)):X('A plugin must either be a function or an object with an "install" function.'),d},mixin(c){return i.mixins.includes(c)?X("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):i.mixins.push(c),d},component(c,u){return el(c,i.config),u?(i.components[c]&&X(`Component "${c}" has already been registered in target app.`),i.components[c]=u,d):i.components[c]},directive(c,u){return Lh(c),u?(i.directives[c]&&X(`Directive "${c}" has already been registered in target app.`),i.directives[c]=u,d):i.directives[c]},mount(c,u,p){if(l)X("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&X("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const b=d._ceVNode||ge(o,r);return b.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),i.reload=()=>{t(xn(b),c,p)},t(b,c,p),l=!0,d._container=c,c.__vue_app__=d,d._instance=b.component,Nb(d,yd),Cs(b.component)}},onUnmount(c){typeof c!="function"&&X(`Expected function as first argument to app.onUnmount(), but got ${typeof c}`),a.push(c)},unmount(){l?(tn(a,d._instance,16),t(null,d._container),d._instance=null,$b(d),delete d._container.__vue_app__):X("Cannot unmount an app that is not mounted.")},provide(c,u){return c in i.provides&&X(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),i.provides[c]=u,d},runWithContext(c){const u=Co;Co=d;try{return c()}finally{Co=u}}};return d}}let Co=null;function Si(t,e){if(!ot)X("provide() can only be used inside setup().");else{let n=ot.provides;const o=ot.parent&&ot.parent.provides;o===n&&(n=ot.provides=Object.create(o)),n[t]=e}}function Wt(t,e,n=!1){const o=ot||tt;if(o||Co){const r=Co?Co._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&he(e)?e.call(o&&o.proxy):e;X(`injection "${String(t)}" not found.`)}else X("inject() can only be used inside setup() or functional components.")}function bv(){return!!(ot||tt||Co)}const Jh={},ep=()=>Object.create(Jh),tp=t=>Object.getPrototypeOf(t)===Jh;function vv(t,e,n,o=!1){const r={},i=ep();t.propsDefaults=Object.create(null),np(t,e,r,i);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);rp(e||{},r,t),n?t.props=o?r:vh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function yv(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function xv(t,e,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=t,a=ve(r),[l]=t.propsOptions;let d=!1;if(!yv(t)&&(o||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let u=0;u<c.length;u++){let p=c[u];if(_s(t.emitsOptions,p))continue;const b=e[p];if(l)if(Pe(i,p))b!==i[p]&&(i[p]=b,d=!0);else{const h=Ct(p);r[h]=Ga(l,a,h,b,t,!1)}else b!==i[p]&&(i[p]=b,d=!0)}}}else{np(t,e,r,i)&&(d=!0);let c;for(const u in a)(!e||!Pe(e,u)&&((c=Rn(u))===u||!Pe(e,c)))&&(l?n&&(n[u]!==void 0||n[c]!==void 0)&&(r[u]=Ga(l,a,u,void 0,t,!0)):delete r[u]);if(i!==a)for(const u in i)(!e||!Pe(e,u))&&(delete i[u],d=!0)}d&&un(t.attrs,"set",""),rp(e||{},r,t)}function np(t,e,n,o){const[r,i]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Br(l))continue;const d=e[l];let c;r&&Pe(r,c=Ct(l))?!i||!i.includes(c)?n[c]=d:(a||(a={}))[c]=d:_s(t.emitsOptions,l)||(!(l in o)||d!==o[l])&&(o[l]=d,s=!0)}if(i){const l=ve(n),d=a||$e;for(let c=0;c<i.length;c++){const u=i[c];n[u]=Ga(r,l,u,d[u],t,!Pe(d,u))}}return s}function Ga(t,e,n,o,r,i){const s=t[n];if(s!=null){const a=Pe(s,"default");if(a&&o===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&he(l)){const{propsDefaults:d}=r;if(n in d)o=d[n];else{const c=li(r);o=d[n]=l.call(null,e),c()}}else o=l;r.ce&&r.ce._setProp(n,o)}s[0]&&(i&&!a?o=!1:s[1]&&(o===""||o===Rn(n))&&(o=!0))}return o}const wv=new WeakMap;function op(t,e,n=!1){const o=n?wv:e.propsCache,r=o.get(t);if(r)return r;const i=t.props,s={},a=[];let l=!1;if(!he(t)){const c=u=>{l=!0;const[p,b]=op(u,e,!0);Ze(s,p),b&&a.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Le(t)&&o.set(t,tr),tr;if(ue(i))for(let c=0;c<i.length;c++){We(i[c])||X("props must be strings when using array syntax.",i[c]);const u=Ct(i[c]);cd(u)&&(s[u]=$e)}else if(i){Le(i)||X("invalid props options",i);for(const c in i){const u=Ct(c);if(cd(u)){const p=i[c],b=s[u]=ue(p)||he(p)?{type:p}:Ze({},p),h=b.type;let g=!1,x=!0;if(ue(h))for(let k=0;k<h.length;++k){const _=h[k],C=he(_)&&_.name;if(C==="Boolean"){g=!0;break}else C==="String"&&(x=!1)}else g=he(h)&&h.name==="Boolean";b[0]=g,b[1]=x,(g||Pe(b,"default"))&&a.push(u)}}}const d=[s,a];return Le(t)&&o.set(t,d),d}function cd(t){return t[0]!=="$"&&!Br(t)?!0:(X(`Invalid prop name: "${t}" is a reserved property.`),!1)}function kv(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function rp(t,e,n){const o=ve(e),r=n.propsOptions[0],i=Object.keys(t).map(s=>Ct(s));for(const s in r){let a=r[s];a!=null&&Ev(s,o[s],a,fn(o),!i.includes(s))}}function Ev(t,e,n,o,r){const{type:i,required:s,validator:a,skipCheck:l}=n;if(s&&r){X('Missing required prop: "'+t+'"');return}if(!(e==null&&!s)){if(i!=null&&i!==!0&&!l){let d=!1;const c=ue(i)?i:[i],u=[];for(let p=0;p<c.length&&!d;p++){const{valid:b,expectedType:h}=Cv(e,c[p]);u.push(h||""),d=b}if(!d){X(Sv(t,e,u));return}}a&&!a(e,o)&&X('Invalid prop: custom validator check failed for prop "'+t+'".')}}const _v=Dn("String,Number,Boolean,Function,Symbol,BigInt");function Cv(t,e){let n;const o=kv(e);if(o==="null")n=t===null;else if(_v(o)){const r=typeof t;n=r===o.toLowerCase(),!n&&r==="object"&&(n=t instanceof e)}else o==="Object"?n=Le(t):o==="Array"?n=ue(t):n=t instanceof e;return{valid:n,expectedType:o}}function Sv(t,e,n){if(n.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let o=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(Oo).join(" | ")}`;const r=n[0],i=Il(e),s=ud(e,r),a=ud(e,i);return n.length===1&&dd(r)&&!Tv(r,i)&&(o+=` with value ${s}`),o+=`, got ${i} `,dd(i)&&(o+=`with value ${a}.`),o}function ud(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function dd(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function Tv(...t){return t.some(e=>e.toLowerCase()==="boolean")}const ip=t=>t[0]==="_"||t==="$stable",jl=t=>ue(t)?t.map(Gt):[Gt(t)],Iv=(t,e,n)=>{if(e._n)return e;const o=zt((...r)=>(ot&&(!n||n.root===ot.root)&&X(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),jl(e(...r))),n);return o._c=!1,o},sp=(t,e,n)=>{const o=t._ctx;for(const r in t){if(ip(r))continue;const i=t[r];if(he(i))e[r]=Iv(r,i,o);else if(i!=null){X(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const s=jl(i);e[r]=()=>s}}},ap=(t,e)=>{ii(t.vnode)||X("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=jl(e);t.slots.default=()=>n},Ya=(t,e,n)=>{for(const o in e)(n||o!=="_")&&(t[o]=e[o])},Ov=(t,e,n)=>{const o=t.slots=ep();if(t.vnode.shapeFlag&32){const r=e._;r?(Ya(o,e,n),n&&Vi(o,"_",r,!0)):sp(e,o)}else e&&ap(t,e)},Av=(t,e,n)=>{const{vnode:o,slots:r}=t;let i=!0,s=$e;if(o.shapeFlag&32){const a=e._;a?hn?(Ya(r,e,n),un(t,"set","$slots")):n&&a===1?i=!1:Ya(r,e,n):(i=!e.$stable,sp(e,r)),s=e}else e&&(ap(t,e),s={default:1});if(i)for(const a in r)!ip(a)&&s[a]==null&&delete r[a]};let vr,Xn;function Fo(t,e){t.appContext.config.performance&&Xi()&&Xn.mark(`vue-${e}-${t.uid}`),Hb(t,e,Xi()?Xn.now():Date.now())}function Ho(t,e){if(t.appContext.config.performance&&Xi()){const n=`vue-${e}-${t.uid}`,o=n+":end";Xn.mark(o),Xn.measure(`<${Ss(t,t.type)}> ${e}`,n,o),Xn.clearMarks(n),Xn.clearMarks(o)}Ub(t,e,Xi()?Xn.now():Date.now())}function Xi(){return vr!==void 0||(typeof window<"u"&&window.performance?(vr=!0,Xn=window.performance):vr=!1),vr}function Bv(){const t=[];if(t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Mt=qv;function Mv(t){return Pv(t)}function Pv(t,e){Bv();const n=ni();n.__VUE__=!0,Ah(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:o,remove:r,patchProp:i,createElement:s,createText:a,createComment:l,setText:d,setElementText:c,parentNode:u,nextSibling:p,setScopeId:b=mt,insertStaticContent:h}=t,g=(E,A,j,K=null,z=null,Q=null,ne=void 0,ee=null,Y=hn?!1:!!A.dynamicChildren)=>{if(E===A)return;E&&!bo(E,A)&&(K=oe(E),nt(E,z,Q,!0),E=null),A.patchFlag===-2&&(Y=!1,A.dynamicChildren=null);const{type:q,ref:de,shapeFlag:ie}=A;switch(q){case si:x(E,A,j,K);break;case et:k(E,A,j,K);break;case Ti:E==null?_(A,j,K,ne):C(E,A,j,ne);break;case Ye:F(E,A,j,K,z,Q,ne,ee,Y);break;default:ie&1?S(E,A,j,K,z,Q,ne,ee,Y):ie&6?D(E,A,j,K,z,Q,ne,ee,Y):ie&64||ie&128?q.process(E,A,j,K,z,Q,ne,ee,Y,Ee):X("Invalid VNode type:",q,`(${typeof q})`)}de!=null&&z&&Yi(de,E&&E.ref,Q,A||E,!A)},x=(E,A,j,K)=>{if(E==null)o(A.el=a(A.children),j,K);else{const z=A.el=E.el;A.children!==E.children&&d(z,A.children)}},k=(E,A,j,K)=>{E==null?o(A.el=l(A.children||""),j,K):A.el=E.el},_=(E,A,j,K)=>{[E.el,E.anchor]=h(E.children,A,j,K,E.el,E.anchor)},C=(E,A,j,K)=>{if(A.children!==E.children){const z=p(E.anchor);P(E),[A.el,A.anchor]=h(A.children,j,z,K)}else A.el=E.el,A.anchor=E.anchor},L=({el:E,anchor:A},j,K)=>{let z;for(;E&&E!==A;)z=p(E),o(E,j,K),E=z;o(A,j,K)},P=({el:E,anchor:A})=>{let j;for(;E&&E!==A;)j=p(E),r(E),E=j;r(A)},S=(E,A,j,K,z,Q,ne,ee,Y)=>{A.type==="svg"?ne="svg":A.type==="math"&&(ne="mathml"),E==null?T(A,j,K,z,Q,ne,ee,Y):O(E,A,z,Q,ne,ee,Y)},T=(E,A,j,K,z,Q,ne,ee)=>{let Y,q;const{props:de,shapeFlag:ie,transition:ae,dirs:me}=E;if(Y=E.el=s(E.type,Q,de&&de.is,de),ie&8?c(Y,E.children):ie&16&&w(E.children,Y,null,K,z,da(E,Q),ne,ee),me&&lo(E,null,K,"created"),B(Y,E,E.scopeId,ne,K),de){for(const m in de)m!=="value"&&!Br(m)&&i(Y,m,null,de[m],Q,K);"value"in de&&i(Y,"value",null,de.value,Q),(q=de.onVnodeBeforeMount)&&rn(q,K,E)}Vi(Y,"__vnode",E,!0),Vi(Y,"__vueParentComponent",K,!0),me&&lo(E,null,K,"beforeMount");const f=Lv(z,ae);f&&ae.beforeEnter(Y),o(Y,A,j),((q=de&&de.onVnodeMounted)||f||me)&&Mt(()=>{q&&rn(q,K,E),f&&ae.enter(Y),me&&lo(E,null,K,"mounted")},z)},B=(E,A,j,K,z)=>{if(j&&b(E,j),K)for(let Q=0;Q<K.length;Q++)b(E,K[Q]);if(z){let Q=z.subTree;if(Q.patchFlag>0&&Q.patchFlag&2048&&(Q=Hl(Q.children)||Q),A===Q||fp(Q.type)&&(Q.ssContent===A||Q.ssFallback===A)){const ne=z.vnode;B(E,ne,ne.scopeId,ne.slotScopeIds,z.parent)}}},w=(E,A,j,K,z,Q,ne,ee,Y=0)=>{for(let q=Y;q<E.length;q++){const de=E[q]=ee?Yn(E[q]):Gt(E[q]);g(null,de,A,j,K,z,Q,ne,ee)}},O=(E,A,j,K,z,Q,ne)=>{const ee=A.el=E.el;ee.__vnode=A;let{patchFlag:Y,dynamicChildren:q,dirs:de}=A;Y|=E.patchFlag&16;const ie=E.props||$e,ae=A.props||$e;let me;if(j&&co(j,!1),(me=ae.onVnodeBeforeUpdate)&&rn(me,j,A,E),de&&lo(A,E,j,"beforeUpdate"),j&&co(j,!0),hn&&(Y=0,ne=!1,q=null),(ie.innerHTML&&ae.innerHTML==null||ie.textContent&&ae.textContent==null)&&c(ee,""),q?(I(E.dynamicChildren,q,ee,j,K,da(A,z),Q),Za(E,A)):ne||le(E,A,ee,null,j,K,da(A,z),Q,!1),Y>0){if(Y&16)R(ee,ie,ae,j,z);else if(Y&2&&ie.class!==ae.class&&i(ee,"class",null,ae.class,z),Y&4&&i(ee,"style",ie.style,ae.style,z),Y&8){const f=A.dynamicProps;for(let m=0;m<f.length;m++){const v=f[m],M=ie[v],N=ae[v];(N!==M||v==="value")&&i(ee,v,M,N,z,j)}}Y&1&&E.children!==A.children&&c(ee,A.children)}else!ne&&q==null&&R(ee,ie,ae,j,z);((me=ae.onVnodeUpdated)||de)&&Mt(()=>{me&&rn(me,j,A,E),de&&lo(A,E,j,"updated")},K)},I=(E,A,j,K,z,Q,ne)=>{for(let ee=0;ee<A.length;ee++){const Y=E[ee],q=A[ee],de=Y.el&&(Y.type===Ye||!bo(Y,q)||Y.shapeFlag&70)?u(Y.el):j;g(Y,q,de,null,K,z,Q,ne,!0)}},R=(E,A,j,K,z)=>{if(A!==j){if(A!==$e)for(const Q in A)!Br(Q)&&!(Q in j)&&i(E,Q,A[Q],null,z,K);for(const Q in j){if(Br(Q))continue;const ne=j[Q],ee=A[Q];ne!==ee&&Q!=="value"&&i(E,Q,ee,ne,z,K)}"value"in j&&i(E,"value",A.value,j.value,z)}},F=(E,A,j,K,z,Q,ne,ee,Y)=>{const q=A.el=E?E.el:a(""),de=A.anchor=E?E.anchor:a("");let{patchFlag:ie,dynamicChildren:ae,slotScopeIds:me}=A;(hn||ie&2048)&&(ie=0,Y=!1,ae=null),me&&(ee=ee?ee.concat(me):me),E==null?(o(q,j,K),o(de,j,K),w(A.children||[],j,de,z,Q,ne,ee,Y)):ie>0&&ie&64&&ae&&E.dynamicChildren?(I(E.dynamicChildren,ae,j,z,Q,ne,ee),Za(E,A)):le(E,A,j,de,z,Q,ne,ee,Y)},D=(E,A,j,K,z,Q,ne,ee,Y)=>{A.slotScopeIds=ee,E==null?A.shapeFlag&512?z.ctx.activate(A,j,K,ne,Y):V(A,j,K,z,Q,ne,Y):J(E,A,Y)},V=(E,A,j,K,z,Q,ne)=>{const ee=E.component=e1(E,K,z);if(ee.type.__hmrId&&Mb(ee),Ei(E),Fo(ee,"mount"),ii(E)&&(ee.ctx.renderer=Ee),Fo(ee,"init"),n1(ee,!1,ne),Ho(ee,"init"),ee.asyncDep){if(hn&&(E.el=null),z&&z.registerDep(ee,Z,ne),!E.el){const Y=ee.subTree=ge(et);k(null,Y,A,j)}}else Z(ee,E,A,j,z,Q,ne);_i(),Ho(ee,"mount")},J=(E,A,j)=>{const K=A.component=E.component;if(zv(E,A,j))if(K.asyncDep&&!K.asyncResolved){Ei(A),te(K,A,j),_i();return}else K.next=A,K.update();else A.el=E.el,K.vnode=A},Z=(E,A,j,K,z,Q,ne)=>{const ee=()=>{if(E.isMounted){let{next:ie,bu:ae,u:me,parent:f,vnode:m}=E;{const G=lp(E);if(G){ie&&(ie.el=m.el,te(E,ie,ne)),G.asyncDep.then(()=>{E.isUnmounted||ee()});return}}let v=ie,M;Ei(ie||E.vnode),co(E,!1),ie?(ie.el=m.el,te(E,ie,ne)):ie=m,ae&&Ko(ae),(M=ie.props&&ie.props.onVnodeBeforeUpdate)&&rn(M,f,ie,m),co(E,!0),Fo(E,"render");const N=hd(E);Ho(E,"render");const U=E.subTree;E.subTree=N,Fo(E,"patch"),g(U,N,u(U.el),oe(U),E,z,Q),Ho(E,"patch"),ie.el=N.el,v===null&&Wv(E,N.el),me&&Mt(me,z),(M=ie.props&&ie.props.onVnodeUpdated)&&Mt(()=>rn(M,f,ie,m),z),Bh(E),_i()}else{let ie;const{el:ae,props:me}=A,{bm:f,m,parent:v,root:M,type:N}=E,U=rr(A);co(E,!1),f&&Ko(f),!U&&(ie=me&&me.onVnodeBeforeMount)&&rn(ie,v,A),co(E,!0);{M.ce&&M.ce._injectChildStyle(N),Fo(E,"render");const G=E.subTree=hd(E);Ho(E,"render"),Fo(E,"patch"),g(null,G,j,K,E,z,Q),Ho(E,"patch"),A.el=G.el}if(m&&Mt(m,z),!U&&(ie=me&&me.onVnodeMounted)){const G=A;Mt(()=>rn(ie,v,G),z)}(A.shapeFlag&256||v&&rr(v.vnode)&&v.vnode.shapeFlag&256)&&E.a&&Mt(E.a,z),E.isMounted=!0,Db(E),A=j=K=null}};E.scope.on();const Y=E.effect=new nh(ee);E.scope.off();const q=E.update=Y.run.bind(Y),de=E.job=Y.runIfDirty.bind(Y);de.i=E,de.id=E.uid,Y.scheduler=()=>ks(de),co(E,!0),Y.onTrack=E.rtc?ie=>Ko(E.rtc,ie):void 0,Y.onTrigger=E.rtg?ie=>Ko(E.rtg,ie):void 0,q()},te=(E,A,j)=>{A.component=E;const K=E.vnode.props;E.vnode=A,E.next=null,xv(E,A.props,K,j),Av(E,A.children,j),jn(),ed(E),Fn()},le=(E,A,j,K,z,Q,ne,ee,Y=!1)=>{const q=E&&E.children,de=E?E.shapeFlag:0,ie=A.children,{patchFlag:ae,shapeFlag:me}=A;if(ae>0){if(ae&128){Te(q,ie,j,K,z,Q,ne,ee,Y);return}else if(ae&256){Fe(q,ie,j,K,z,Q,ne,ee,Y);return}}me&8?(de&16&&H(q,z,Q),ie!==q&&c(j,ie)):de&16?me&16?Te(q,ie,j,K,z,Q,ne,ee,Y):H(q,z,Q,!0):(de&8&&c(j,""),me&16&&w(ie,j,K,z,Q,ne,ee,Y))},Fe=(E,A,j,K,z,Q,ne,ee,Y)=>{E=E||tr,A=A||tr;const q=E.length,de=A.length,ie=Math.min(q,de);let ae;for(ae=0;ae<ie;ae++){const me=A[ae]=Y?Yn(A[ae]):Gt(A[ae]);g(E[ae],me,j,null,z,Q,ne,ee,Y)}q>de?H(E,z,Q,!0,!1,ie):w(A,j,K,z,Q,ne,ee,Y,ie)},Te=(E,A,j,K,z,Q,ne,ee,Y)=>{let q=0;const de=A.length;let ie=E.length-1,ae=de-1;for(;q<=ie&&q<=ae;){const me=E[q],f=A[q]=Y?Yn(A[q]):Gt(A[q]);if(bo(me,f))g(me,f,j,null,z,Q,ne,ee,Y);else break;q++}for(;q<=ie&&q<=ae;){const me=E[ie],f=A[ae]=Y?Yn(A[ae]):Gt(A[ae]);if(bo(me,f))g(me,f,j,null,z,Q,ne,ee,Y);else break;ie--,ae--}if(q>ie){if(q<=ae){const me=ae+1,f=me<de?A[me].el:K;for(;q<=ae;)g(null,A[q]=Y?Yn(A[q]):Gt(A[q]),j,f,z,Q,ne,ee,Y),q++}}else if(q>ae)for(;q<=ie;)nt(E[q],z,Q,!0),q++;else{const me=q,f=q,m=new Map;for(q=f;q<=ae;q++){const _e=A[q]=Y?Yn(A[q]):Gt(A[q]);_e.key!=null&&(m.has(_e.key)&&X("Duplicate keys found during update:",JSON.stringify(_e.key),"Make sure keys are unique."),m.set(_e.key,q))}let v,M=0;const N=ae-f+1;let U=!1,G=0;const Re=new Array(N);for(q=0;q<N;q++)Re[q]=0;for(q=me;q<=ie;q++){const _e=E[q];if(M>=N){nt(_e,z,Q,!0);continue}let Oe;if(_e.key!=null)Oe=m.get(_e.key);else for(v=f;v<=ae;v++)if(Re[v-f]===0&&bo(_e,A[v])){Oe=v;break}Oe===void 0?nt(_e,z,Q,!0):(Re[Oe-f]=q+1,Oe>=G?G=Oe:U=!0,g(_e,A[Oe],j,null,z,Q,ne,ee,Y),M++)}const Xe=U?Rv(Re):tr;for(v=Xe.length-1,q=N-1;q>=0;q--){const _e=f+q,Oe=A[_e],Ke=_e+1<de?A[_e+1].el:K;Re[q]===0?g(null,Oe,j,Ke,z,Q,ne,ee,Y):U&&(v<0||q!==Xe[v]?Ie(Oe,j,Ke,2):v--)}}},Ie=(E,A,j,K,z=null)=>{const{el:Q,type:ne,transition:ee,children:Y,shapeFlag:q}=E;if(q&6){Ie(E.component.subTree,A,j,K);return}if(q&128){E.suspense.move(A,j,K);return}if(q&64){ne.move(E,A,j,Ee);return}if(ne===Ye){o(Q,A,j);for(let ie=0;ie<Y.length;ie++)Ie(Y[ie],A,j,K);o(E.anchor,A,j);return}if(ne===Ti){L(E,A,j);return}if(K!==2&&q&1&&ee)if(K===0)ee.beforeEnter(Q),o(Q,A,j),Mt(()=>ee.enter(Q),z);else{const{leave:ie,delayLeave:ae,afterLeave:me}=ee,f=()=>o(Q,A,j),m=()=>{ie(Q,()=>{f(),me&&me()})};ae?ae(Q,f,m):m()}else o(Q,A,j)},nt=(E,A,j,K=!1,z=!1)=>{const{type:Q,props:ne,ref:ee,children:Y,dynamicChildren:q,shapeFlag:de,patchFlag:ie,dirs:ae,cacheIndex:me}=E;if(ie===-2&&(z=!1),ee!=null&&Yi(ee,null,j,E,!0),me!=null&&(A.renderCache[me]=void 0),de&256){A.ctx.deactivate(E);return}const f=de&1&&ae,m=!rr(E);let v;if(m&&(v=ne&&ne.onVnodeBeforeUnmount)&&rn(v,A,E),de&6)jt(E.component,j,K);else{if(de&128){E.suspense.unmount(j,K);return}f&&lo(E,null,A,"beforeUnmount"),de&64?E.type.remove(E,A,j,Ee,K):q&&!q.hasOnce&&(Q!==Ye||ie>0&&ie&64)?H(q,A,j,!1,!0):(Q===Ye&&ie&384||!z&&de&16)&&H(Y,A,j),K&&Tt(E)}(m&&(v=ne&&ne.onVnodeUnmounted)||f)&&Mt(()=>{v&&rn(v,A,E),f&&lo(E,null,A,"unmounted")},j)},Tt=E=>{const{type:A,el:j,anchor:K,transition:z}=E;if(A===Ye){E.patchFlag>0&&E.patchFlag&2048&&z&&!z.persisted?E.children.forEach(ne=>{ne.type===et?r(ne.el):Tt(ne)}):on(j,K);return}if(A===Ti){P(E);return}const Q=()=>{r(j),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(E.shapeFlag&1&&z&&!z.persisted){const{leave:ne,delayLeave:ee}=z,Y=()=>ne(j,Q);ee?ee(E.el,Q,Y):Y()}else Q()},on=(E,A)=>{let j;for(;E!==A;)j=p(E),r(E),E=j;r(A)},jt=(E,A,j)=>{E.type.__hmrId&&Pb(E);const{bum:K,scope:z,job:Q,subTree:ne,um:ee,m:Y,a:q}=E;fd(Y),fd(q),K&&Ko(K),z.stop(),Q&&(Q.flags|=8,nt(ne,E,A,j)),ee&&Mt(ee,A),Mt(()=>{E.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve()),Fb(E)},H=(E,A,j,K=!1,z=!1,Q=0)=>{for(let ne=Q;ne<E.length;ne++)nt(E[ne],A,j,K,z)},oe=E=>{if(E.shapeFlag&6)return oe(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const A=p(E.anchor||E.el),j=A&&A[zb];return j?p(j):A};let re=!1;const se=(E,A,j)=>{E==null?A._vnode&&nt(A._vnode,null,null,!0):g(A._vnode||null,E,A,null,null,null,j),A._vnode=E,re||(re=!0,ed(),Th(),re=!1)},Ee={p:g,um:nt,m:Ie,r:Tt,mt:V,mc:w,pc:le,pbc:I,n:oe,o:t};return{render:se,hydrate:void 0,createApp:mv(se)}}function da({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function co({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Lv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Za(t,e,n=!1){const o=t.children,r=e.children;if(ue(o)&&ue(r))for(let i=0;i<o.length;i++){const s=o[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Yn(r[i]),a.el=s.el),!n&&a.patchFlag!==-2&&Za(s,a)),a.type===si&&(a.el=s.el),a.type===et&&!a.el&&(a.el=s.el)}}function Rv(t){const e=t.slice(),n=[0];let o,r,i,s,a;const l=t.length;for(o=0;o<l;o++){const d=t[o];if(d!==0){if(r=n[n.length-1],t[r]<d){e[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<d?i=a+1:s=a;d<t[n[i]]&&(i>0&&(e[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}function lp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lp(e)}function fd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Nv=Symbol.for("v-scx"),$v=()=>{{const t=Wt(Nv);return t||X("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Dv(t,e){return Fl(t,null,e)}function So(t,e,n){return he(e)||X("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Fl(t,e,n)}function Fl(t,e,n=$e){const{immediate:o,deep:r,flush:i,once:s}=n;e||(o!==void 0&&X('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&X('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&X('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=Ze({},n);a.onWarn=X;const l=e&&o||!e&&i!=="post";let d;if(zr){if(i==="sync"){const b=$v();d=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=mt,b.resume=mt,b.pause=mt,b}}const c=ot;a.call=(b,h,g)=>tn(b,c,h,g);let u=!1;i==="post"?a.scheduler=b=>{Mt(b,c&&c.suspense)}:i!=="sync"&&(u=!0,a.scheduler=(b,h)=>{h?b():ks(b)}),a.augmentJob=b=>{e&&(b.flags|=4),u&&(b.flags|=2,c&&(b.id=c.uid,b.i=c))};const p=Eb(t,e,a);return zr&&(d?d.push(p):l&&p()),p}function jv(t,e,n){const o=this.proxy,r=We(t)?t.includes(".")?cp(o,t):()=>o[t]:t.bind(o,o);let i;he(e)?i=e:(i=e.handler,n=e);const s=li(this),a=Fl(r,i.bind(o),n);return s(),a}function cp(t,e){const n=e.split(".");return()=>{let o=t;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Fv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ct(e)}Modifiers`]||t[`${Rn(e)}Modifiers`];function Hv(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||$e;{const{emitsOptions:c,propsOptions:[u]}=t;if(c)if(!(e in c))(!u||!(po(Ct(e))in u))&&X(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${po(Ct(e))}" prop.`);else{const p=c[e];he(p)&&(p(...n)||X(`Invalid event arguments: event validation failed for event "${e}".`))}}let r=n;const i=e.startsWith("update:"),s=i&&Fv(o,e.slice(7));s&&(s.trim&&(r=n.map(c=>We(c)?c.trim():c)),s.number&&(r=n.map(Da))),Vb(t,e,r);{const c=e.toLowerCase();c!==e&&o[po(c)]&&X(`Event "${c}" is emitted in component ${Ss(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Rn(e)}" instead of "${e}".`)}let a,l=o[a=po(e)]||o[a=po(Ct(e))];!l&&i&&(l=o[a=po(Rn(e))]),l&&tn(l,t,6,r);const d=o[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,tn(d,t,6,r)}}function up(t,e,n=!1){const o=e.emitsCache,r=o.get(t);if(r!==void 0)return r;const i=t.emits;let s={},a=!1;if(!he(t)){const l=d=>{const c=up(d,e,!0);c&&(a=!0,Ze(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Le(t)&&o.set(t,null),null):(ue(i)?i.forEach(l=>s[l]=null):Ze(s,i),Le(t)&&o.set(t,s),s)}function _s(t,e){return!t||!ei(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pe(t,e[0].toLowerCase()+e.slice(1))||Pe(t,Rn(e))||Pe(t,e))}let Xa=!1;function Ji(){Xa=!0}function hd(t){const{type:e,vnode:n,proxy:o,withProxy:r,propsOptions:[i],slots:s,attrs:a,emit:l,render:d,renderCache:c,props:u,data:p,setupState:b,ctx:h,inheritAttrs:g}=t,x=Gi(t);let k,_;Xa=!1;try{if(n.shapeFlag&4){const P=r||o,S=b.__isScriptSetup?new Proxy(P,{get(T,B,w){return X(`Property '${String(B)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(T,B,w)}}):P;k=Gt(d.call(S,P,c,fn(u),b,p,h)),_=a}else{const P=e;a===u&&Ji(),k=Gt(P.length>1?P(fn(u),{get attrs(){return Ji(),fn(a)},slots:s,emit:l}):P(fn(u),null)),_=e.props?a:Uv(a)}}catch(P){Lr.length=0,oi(P,t,1),k=ge(et)}let C=k,L;if(k.patchFlag>0&&k.patchFlag&2048&&([C,L]=dp(k)),_&&g!==!1){const P=Object.keys(_),{shapeFlag:S}=C;if(P.length){if(S&7)i&&P.some(Ui)&&(_=Vv(_,i)),C=xn(C,_,!1,!0);else if(!Xa&&C.type!==et){const T=Object.keys(a),B=[],w=[];for(let O=0,I=T.length;O<I;O++){const R=T[O];ei(R)?Ui(R)||B.push(R[2].toLowerCase()+R.slice(3)):w.push(R)}w.length&&X(`Extraneous non-props attributes (${w.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),B.length&&X(`Extraneous non-emits event listeners (${B.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(pd(C)||X("Runtime directive used on component with non-element root node. The directives will not function as intended."),C=xn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(pd(C)||X("Component inside <Transition> renders non-element root node that cannot be animated."),Ur(C,n.transition)),L?L(C):k=C,Gi(x),k}const dp=t=>{const e=t.children,n=t.dynamicChildren,o=Hl(e,!1);if(o){if(o.patchFlag>0&&o.patchFlag&2048)return dp(o)}else return[t,void 0];const r=e.indexOf(o),i=n?n.indexOf(o):-1,s=a=>{e[r]=a,n&&(i>-1?n[i]=a:a.patchFlag>0&&(t.dynamicChildren=[...n,a]))};return[Gt(o),s]};function Hl(t,e=!0){let n;for(let o=0;o<t.length;o++){const r=t[o];if(Bo(r)){if(r.type!==et||r.children==="v-if"){if(n)return;if(n=r,e&&n.patchFlag>0&&n.patchFlag&2048)return Hl(n.children)}}else return}return n}const Uv=t=>{let e;for(const n in t)(n==="class"||n==="style"||ei(n))&&((e||(e={}))[n]=t[n]);return e},Vv=(t,e)=>{const n={};for(const o in t)(!Ui(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n},pd=t=>t.shapeFlag&7||t.type===et;function zv(t,e,n){const{props:o,children:r,component:i}=t,{props:s,children:a,patchFlag:l}=e,d=i.emitsOptions;if((r||a)&&hn||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?gd(o,s,d):!!s;if(l&8){const c=e.dynamicProps;for(let u=0;u<c.length;u++){const p=c[u];if(s[p]!==o[p]&&!_s(d,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?gd(o,s,d):!0:!!s;return!1}function gd(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(e[i]!==t[i]&&!_s(n,i))return!0}return!1}function Wv({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const fp=t=>t.__isSuspense;function qv(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Sh(t)}const Ye=Symbol.for("v-fgt"),si=Symbol.for("v-txt"),et=Symbol.for("v-cmt"),Ti=Symbol.for("v-stc"),Lr=[];let Pt=null;function ce(t=!1){Lr.push(Pt=t?null:[])}function Kv(){Lr.pop(),Pt=Lr[Lr.length-1]||null}let Vr=1;function md(t,e=!1){Vr+=t,t<0&&Pt&&e&&(Pt.hasOnce=!0)}function hp(t){return t.dynamicChildren=Vr>0?Pt||tr:null,Kv(),Vr>0&&Pt&&Pt.push(t),t}function xe(t,e,n,o,r,i){return hp($(t,e,n,o,r,i,!0))}function $t(t,e,n,o,r){return hp(ge(t,e,n,o,r,!0))}function Bo(t){return t?t.__v_isVNode===!0:!1}function bo(t,e){if(e.shapeFlag&6&&t.component){const n=Ci.get(e.type);if(n&&n.has(t.component))return t.shapeFlag&=-257,e.shapeFlag&=-513,!1}return t.type===e.type&&t.key===e.key}const Qv=(...t)=>Gv(...t),pp=({key:t})=>t??null,Ii=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||He(t)||he(t)?{i:tt,r:t,k:e,f:!!n}:t:null);function $(t,e=null,n=null,o=0,r=null,i=t===Ye?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pp(e),ref:e&&Ii(e),scopeId:Ph,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:tt};return a?(Ul(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=We(n)?8:16),l.key!==l.key&&X("VNode created with invalid key (NaN). VNode type:",l.type),Vr>0&&!s&&Pt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pt.push(l),l}const ge=Qv;function Gv(t,e=null,n=null,o=0,r=null,i=!1){if((!t||t===qh)&&(t||X(`Invalid vnode type when creating vnode: ${t}.`),t=et),Bo(t)){const a=xn(t,e,!0);return n&&Ul(a,n),Vr>0&&!i&&Pt&&(a.shapeFlag&6?Pt[Pt.indexOf(t)]=a:Pt.push(a)),a.patchFlag=-2,a}if(vp(t)&&(t=t.__vccOpts),e){e=Yv(e);let{class:a,style:l}=e;a&&!We(a)&&(e.class=Rt(a)),Le(l)&&(Fr(l)&&!ue(l)&&(l=Ze({},l)),e.style=nr(l))}const s=We(t)?1:fp(t)?128:Rh(t)?64:Le(t)?4:he(t)?2:0;return s&4&&Fr(t)&&(t=ve(t),X("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),$(t,e,n,o,r,s,i,!0)}function Yv(t){return t?Fr(t)||tp(t)?Ze({},t):t:null}function xn(t,e,n=!1,o=!1){const{props:r,ref:i,patchFlag:s,children:a,transition:l}=t,d=e?Zv(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&pp(d),ref:e&&e.ref?n&&i?ue(i)?i.concat(Ii(e)):[i,Ii(e)]:Ii(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s===-1&&ue(a)?a.map(gp):a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xn(t.ssContent),ssFallback:t.ssFallback&&xn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&o&&Ur(c,l.clone(c)),c}function gp(t){const e=xn(t);return ue(t.children)&&(e.children=t.children.map(gp)),e}function bt(t=" ",e=0){return ge(si,null,t,e)}function bn(t="",e=!1){return e?(ce(),$t(et,null,t)):ge(et,null,t)}function Gt(t){return t==null||typeof t=="boolean"?ge(et):ue(t)?ge(Ye,null,t.slice()):Bo(t)?Yn(t):ge(si,null,String(t))}function Yn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xn(t)}function Ul(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),Ul(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!tp(e)?e._ctx=tt:r===3&&tt&&(tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:tt},n=32):(e=String(e),o&64?(n=16,e=[bt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Zv(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=Rt([e.class,o.class]));else if(r==="style")e.style=nr([e.style,o.style]);else if(ei(r)){const i=e[r],s=o[r];s&&i!==s&&!(ue(i)&&i.includes(s))&&(e[r]=i?[].concat(i,s):s)}else r!==""&&(e[r]=o[r])}return e}function rn(t,e,n,o=null){tn(t,e,7,[n,o])}const Xv=Xh();let Jv=0;function e1(t,e,n){const o=t.type,r=(e?e.appContext:t.appContext)||Xv,i={uid:Jv++,vnode:t,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:op(o,r),emitsOptions:up(o,r),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:o.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx=sv(i),i.root=e?e.root:i,i.emit=Hv.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const ai=()=>ot||tt;let es,Ja;{const t=ni(),e=(n,o)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(o),i=>{r.length>1?r.forEach(s=>s(i)):r[0](i)}};es=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),Ja=e("__VUE_SSR_SETTERS__",n=>zr=n)}const li=t=>{const e=ot;return es(t),t.scope.on(),()=>{t.scope.off(),es(e)}},bd=()=>{ot&&ot.scope.off(),es(null)},t1=Dn("slot,component");function el(t,{isNativeTag:e}){(t1(t)||e(t))&&X("Do not use built-in or reserved HTML elements as component id: "+t)}function mp(t){return t.vnode.shapeFlag&4}let zr=!1;function n1(t,e=!1,n=!1){e&&Ja(e);const{props:o,children:r}=t.vnode,i=mp(t);vv(t,o,i,e),Ov(t,r,n);const s=i?o1(t,e):void 0;return e&&Ja(!1),s}function o1(t,e){var n;const o=t.type;{if(o.name&&el(o.name,t.appContext.config),o.components){const i=Object.keys(o.components);for(let s=0;s<i.length;s++)el(i[s],t.appContext.config)}if(o.directives){const i=Object.keys(o.directives);for(let s=0;s<i.length;s++)Lh(i[s])}o.compilerOptions&&r1()&&X('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Gh),av(t);const{setup:r}=o;if(r){jn();const i=t.setupContext=r.length>1?a1(t):null,s=li(t),a=dr(r,t,0,[fn(t.props),i]),l=Tl(a);if(Fn(),s(),(l||t.sp)&&!rr(t)&&Uh(t),l){if(a.then(bd,bd),e)return a.then(d=>{vd(t,d,e)}).catch(d=>{oi(d,t,0)});if(t.asyncDep=a,!t.suspense){const d=(n=o.name)!=null?n:"Anonymous";X(`Component <${d}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else vd(t,a,e)}else bp(t,e)}function vd(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)?(Bo(e)&&X("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=wh(e),lv(t)):e!==void 0&&X(`setup() should return an object. Received: ${e===null?"null":typeof e}`),bp(t,n)}const r1=()=>!0;function bp(t,e,n){const o=t.type;t.render||(t.render=o.render||mt);{const r=li(t);jn();try{uv(t)}finally{Fn(),r()}}!o.render&&t.render===mt&&!e&&(o.template?X('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):X("Component is missing template or render function: ",o))}const i1={get(t,e){return Ji(),lt(t,"get",""),t[e]},set(){return X("setupContext.attrs is readonly."),!1},deleteProperty(){return X("setupContext.attrs is readonly."),!1}};function s1(t){return new Proxy(t.slots,{get(e,n){return lt(t,"get","$slots"),e[n]}})}function a1(t){const e=n=>{if(t.exposed&&X("expose() should be called only once per setup()."),n!=null){let o=typeof n;o==="object"&&(ue(n)?o="array":He(n)&&(o="ref")),o!=="object"&&X(`expose() should be passed a plain object, received ${o}.`)}t.exposed=n||{}};{let n,o;return Object.freeze({get attrs(){return n||(n=new Proxy(t.attrs,i1))},get slots(){return o||(o=s1(t))},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e})}}function Cs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(wh(Jn(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in _o)return _o[n](t)},has(e,n){return n in e||n in _o}})):t.proxy}const l1=/(?:^|[-_])(\w)/g,c1=t=>t.replace(l1,e=>e.toUpperCase()).replace(/[-_]/g,"");function Vl(t,e=!0){return he(t)?t.displayName||t.name:t.name||e&&t.__name}function Ss(t,e,n=!1){let o=Vl(e);if(!o&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(o=r[1])}if(!o&&t&&t.parent){const r=i=>{for(const s in i)if(i[s]===e)return s};o=r(t.components||t.parent.type.components)||r(t.appContext.components)}return o?c1(o):n?"App":"Anonymous"}function vp(t){return he(t)&&"__vccOpts"in t}const Et=(t,e)=>{const n=wb(t,e,zr);{const o=ai();o&&o.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function zl(t,e,n){const o=arguments.length;return o===2?Le(e)&&!ue(e)?Bo(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Bo(n)&&(n=[n]),ge(t,e,n))}function u1(){if(typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},o={style:"color:#eb2f96"},r={__vue_custom_formatter:!0,header(u){return Le(u)?u.__isVue?["div",t,"VueInstance"]:He(u)?["div",{},["span",t,c(u)],"<",a("_value"in u?u._value:u),">"]:gn(u)?["div",{},["span",t,St(u)?"ShallowReactive":"Reactive"],"<",a(u),`>${Nn(u)?" (readonly)":""}`]:Nn(u)?["div",{},["span",t,St(u)?"ShallowReadonly":"Readonly"],"<",a(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...i(u.$)]}};function i(u){const p=[];u.type.props&&u.props&&p.push(s("props",ve(u.props))),u.setupState!==$e&&p.push(s("setup",u.setupState)),u.data!==$e&&p.push(s("data",ve(u.data)));const b=l(u,"computed");b&&p.push(s("computed",b));const h=l(u,"inject");return h&&p.push(s("injected",h)),p.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),p}function s(u,p){return p=Ze({},p),Object.keys(p).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(p).map(b=>["div",{},["span",o,b+": "],a(p[b],!1)])]]:["span",{}]}function a(u,p=!0){return typeof u=="number"?["span",e,u]:typeof u=="string"?["span",n,JSON.stringify(u)]:typeof u=="boolean"?["span",o,u]:Le(u)?["object",{object:p?ve(u):u}]:["span",n,String(u)]}function l(u,p){const b=u.type;if(he(b))return;const h={};for(const g in u.ctx)d(b,g,p)&&(h[g]=u.ctx[g]);return h}function d(u,p,b){const h=u[b];if(ue(h)&&h.includes(p)||Le(h)&&p in h||u.extends&&d(u.extends,p,b)||u.mixins&&u.mixins.some(g=>d(g,p,b)))return!0}function c(u){return St(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const yd="3.5.13",Pn=X;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tl;const xd=typeof window<"u"&&window.trustedTypes;if(xd)try{tl=xd.createPolicy("vue",{createHTML:t=>t})}catch(t){Pn(`Error creating trusted types policy: ${t}`)}const yp=tl?t=>tl.createHTML(t):t=>t,d1="http://www.w3.org/2000/svg",f1="http://www.w3.org/1998/Math/MathML",Tn=typeof document<"u"?document:null,wd=Tn&&Tn.createElement("template"),h1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const r=e==="svg"?Tn.createElementNS(d1,t):e==="mathml"?Tn.createElementNS(f1,t):n?Tn.createElement(t,{is:n}):Tn.createElement(t);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>Tn.createTextNode(t),createComment:t=>Tn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Tn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,r,i){const s=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{wd.innerHTML=yp(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=wd.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Un="transition",yr="animation",Wr=Symbol("_vtc"),xp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},p1=Ze({},Nh,xp),g1=t=>(t.displayName="Transition",t.props=p1,t),ar=g1((t,{slots:e})=>zl(Kb,m1(t),e)),uo=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},kd=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function m1(t){const e={};for(const R in t)R in xp||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:o,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:d=s,appearToClass:c=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,h=b1(r),g=h&&h[0],x=h&&h[1],{onBeforeEnter:k,onEnter:_,onEnterCancelled:C,onLeave:L,onLeaveCancelled:P,onBeforeAppear:S=k,onAppear:T=_,onAppearCancelled:B=C}=e,w=(R,F,D,V)=>{R._enterCancelled=V,fo(R,F?c:a),fo(R,F?d:s),D&&D()},O=(R,F)=>{R._isLeaving=!1,fo(R,u),fo(R,b),fo(R,p),F&&F()},I=R=>(F,D)=>{const V=R?T:_,J=()=>w(F,R,D);uo(V,[F,J]),Ed(()=>{fo(F,R?l:i),kn(F,R?c:a),kd(V)||_d(F,o,g,J)})};return Ze(e,{onBeforeEnter(R){uo(k,[R]),kn(R,i),kn(R,s)},onBeforeAppear(R){uo(S,[R]),kn(R,l),kn(R,d)},onEnter:I(!1),onAppear:I(!0),onLeave(R,F){R._isLeaving=!0;const D=()=>O(R,F);kn(R,u),R._enterCancelled?(kn(R,p),Td()):(Td(),kn(R,p)),Ed(()=>{R._isLeaving&&(fo(R,u),kn(R,b),kd(L)||_d(R,o,x,D))}),uo(L,[R,D])},onEnterCancelled(R){w(R,!1,void 0,!0),uo(C,[R])},onAppearCancelled(R){w(R,!0,void 0,!0),uo(B,[R])},onLeaveCancelled(R){O(R),uo(P,[R])}})}function b1(t){if(t==null)return null;if(Le(t))return[fa(t.enter),fa(t.leave)];{const e=fa(t);return[e,e]}}function fa(t){const e=Rm(t);return Ib(e,"<transition> explicit duration"),e}function kn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Wr]||(t[Wr]=new Set)).add(e)}function fo(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const n=t[Wr];n&&(n.delete(e),n.size||(t[Wr]=void 0))}function Ed(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let v1=0;function _d(t,e,n,o){const r=t._endId=++v1,i=()=>{r===t._endId&&o()};if(n!=null)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=y1(t,e);if(!s)return o();const d=s+"end";let c=0;const u=()=>{t.removeEventListener(d,p),i()},p=b=>{b.target===t&&++c>=l&&u()};setTimeout(()=>{c<l&&u()},a+1),t.addEventListener(d,p)}function y1(t,e){const n=window.getComputedStyle(t),o=h=>(n[h]||"").split(", "),r=o(`${Un}Delay`),i=o(`${Un}Duration`),s=Cd(r,i),a=o(`${yr}Delay`),l=o(`${yr}Duration`),d=Cd(a,l);let c=null,u=0,p=0;e===Un?s>0&&(c=Un,u=s,p=i.length):e===yr?d>0&&(c=yr,u=d,p=l.length):(u=Math.max(s,d),c=u>0?s>d?Un:yr:null,p=c?c===Un?i.length:l.length:0);const b=c===Un&&/\b(transform|all)(,|$)/.test(o(`${Un}Property`).toString());return{type:c,timeout:u,propCount:p,hasTransform:b}}function Cd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,o)=>Sd(n)+Sd(t[o])))}function Sd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Td(){return document.body.offsetHeight}function x1(t,e,n){const o=t[Wr];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Id=Symbol("_vod"),w1=Symbol("_vsh"),k1=Symbol("CSS_VAR_TEXT"),E1=/(^|;)\s*display\s*:/;function _1(t,e,n){const o=t.style,r=We(n);let i=!1;if(n&&!r){if(e)if(We(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Oi(o,a,"")}else for(const s in e)n[s]==null&&Oi(o,s,"");for(const s in n)s==="display"&&(i=!0),Oi(o,s,n[s])}else if(r){if(e!==n){const s=o[k1];s&&(n+=";"+s),o.cssText=n,i=E1.test(n)}}else e&&t.removeAttribute("style");Id in t&&(t[Id]=i?o.display:"",t[w1]&&(o.display="none"))}const C1=/[^\\];\s*$/,Od=/\s*!important$/;function Oi(t,e,n){if(ue(n))n.forEach(o=>Oi(t,e,o));else if(n==null&&(n=""),C1.test(n)&&Pn(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const o=S1(t,e);Od.test(n)?t.setProperty(Rn(o),n.replace(Od,""),"important"):t[o]=n}}const Ad=["Webkit","Moz","ms"],ha={};function S1(t,e){const n=ha[e];if(n)return n;let o=Ct(e);if(o!=="filter"&&o in t)return ha[e]=o;o=Oo(o);for(let r=0;r<Ad.length;r++){const i=Ad[r]+o;if(i in t)return ha[e]=i}return e}const Bd="http://www.w3.org/1999/xlink";function Md(t,e,n,o,r,i=Km(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Bd,e.slice(6,e.length)):t.setAttributeNS(Bd,e,n):n==null||i&&!Gf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":en(n)?String(n):n)}function Pd(t,e,n,o,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?yp(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Gf(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{t[e]=n}catch(a){s||Pn(`Failed setting prop "${e}" on <${i.toLowerCase()}>: value ${n} is invalid.`,a)}s&&t.removeAttribute(r||e)}function vo(t,e,n,o){t.addEventListener(e,n,o)}function T1(t,e,n,o){t.removeEventListener(e,n,o)}const Ld=Symbol("_vei");function I1(t,e,n,o,r=null){const i=t[Ld]||(t[Ld]={}),s=i[e];if(o&&s)s.value=Nd(o,e);else{const[a,l]=O1(e);if(o){const d=i[e]=M1(Nd(o,e),r);vo(t,a,d,l)}else s&&(T1(t,a,s,l),i[e]=void 0)}}const Rd=/(?:Once|Passive|Capture)$/;function O1(t){let e;if(Rd.test(t)){e={};let o;for(;o=t.match(Rd);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rn(t.slice(2)),e]}let pa=0;const A1=Promise.resolve(),B1=()=>pa||(A1.then(()=>pa=0),pa=Date.now());function M1(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;tn(P1(o,n.value),e,5,[o])};return n.value=t,n.attached=B1(),n}function Nd(t,e){return he(t)||ue(t)?t:(Pn(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),mt)}function P1(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const $d=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,L1=(t,e,n,o,r,i)=>{const s=r==="svg";e==="class"?x1(t,o,s):e==="style"?_1(t,n,o):ei(e)?Ui(e)||I1(t,e,n,o,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):R1(t,e,o,s))?(Pd(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Md(t,e,o,s,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!We(o))?Pd(t,Ct(e),o,i,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),Md(t,e,o,s))};function R1(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&$d(e)&&he(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return $d(e)&&We(n)?!1:e in t}const ts=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Ko(e,n):e};function N1(t){t.target.composing=!0}function Dd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ir=Symbol("_assign"),Ln={created(t,{modifiers:{lazy:e,trim:n,number:o}},r){t[ir]=ts(r);const i=o||r.props&&r.props.type==="number";vo(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Da(a)),t[ir](a)}),n&&vo(t,"change",()=>{t.value=t.value.trim()}),e||(vo(t,"compositionstart",N1),vo(t,"compositionend",Dd),vo(t,"change",Dd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:o,trim:r,number:i}},s){if(t[ir]=ts(s),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Da(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(o&&e===n||r&&t.value.trim()===l)||(t.value=l))}},$1={deep:!0,created(t,e,n){t[ir]=ts(n),vo(t,"change",()=>{const o=t._modelValue,r=D1(t),i=t.checked,s=t[ir];if(ue(o)){const a=Yf(o,r),l=a!==-1;if(i&&!l)s(o.concat(r));else if(!i&&l){const d=[...o];d.splice(a,1),s(d)}}else if(ms(o)){const a=new Set(o);i?a.add(r):a.delete(r),s(a)}else s(wp(t,i))})},mounted:jd,beforeUpdate(t,e,n){t[ir]=ts(n),jd(t,e,n)}};function jd(t,{value:e,oldValue:n},o){t._modelValue=e;let r;if(ue(e))r=Yf(e,o.props.value)>-1;else if(ms(e))r=e.has(o.props.value);else{if(e===n)return;r=vs(e,wp(t,!0))}t.checked!==r&&(t.checked=r)}function D1(t){return"_value"in t?t._value:t.value}function wp(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const j1=["ctrl","shift","alt","meta"],F1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>j1.some(n=>t[`${n}Key`]&&!e.includes(n))},kp=(t,e)=>{const n=t._withMods||(t._withMods={}),o=e.join(".");return n[o]||(n[o]=(r,...i)=>{for(let s=0;s<e.length;s++){const a=F1[e[s]];if(a&&a(r,e))return}return t(r,...i)})},H1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ts=(t,e)=>{const n=t._withKeys||(t._withKeys={}),o=e.join(".");return n[o]||(n[o]=r=>{if(!("key"in r))return;const i=Rn(r.key);if(e.some(s=>s===i||H1[s]===i))return t(r)})},U1=Ze({patchProp:L1},h1);let Fd;function V1(){return Fd||(Fd=Mv(U1))}const z1=(...t)=>{const e=V1().createApp(...t);q1(e),K1(e);const{mount:n}=e;return e.mount=o=>{const r=Q1(o);if(!r)return;const i=e._component;!he(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=n(r,!1,W1(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function W1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function q1(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>Vm(e)||zm(e)||Wm(e),writable:!1})}function K1(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){Pn("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return Pn(o),n},set(){Pn(o)}})}}function Q1(t){if(We(t)){const e=document.querySelector(t);return e||Pn(`Failed to mount app: mount target selector "${t}" returned null.`),e}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&Pn('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function G1(){u1()}G1();function Y1(){return Ep().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Ep(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Z1=typeof Proxy=="function",X1="devtools-plugin:setup",J1="plugin:settings:set";let Uo,nl;function ey(){var t;return Uo!==void 0||(typeof window<"u"&&window.performance?(Uo=!0,nl=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Uo=!0,nl=globalThis.perf_hooks.performance):Uo=!1),Uo}function ty(){return ey()?nl.now():Date.now()}class ny{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const o={};if(e.settings)for(const s in e.settings){const a=e.settings[s];o[s]=a.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},o);try{const s=localStorage.getItem(r),a=JSON.parse(s);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(s){try{localStorage.setItem(r,JSON.stringify(s))}catch{}i=s},now(){return ty()}},n&&n.on(J1,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(d=>{this.targetQueue.push({method:a,args:l,resolve:d})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Wl(t,e){const n=t,o=Ep(),r=Y1(),i=Z1&&n.enableEarlyProxy;if(r&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))r.emit(X1,t,e);else{const s=i?new ny(n,r):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const On=typeof document<"u";function _p(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function oy(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&_p(t.default)}const Ue=Object.assign;function ga(t,e){const n={};for(const o in e){const r=e[o];n[o]=Dt(r)?r.map(t):t(r)}return n}const Rr=()=>{},Dt=Array.isArray;function Ae(t){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(e))}const Cp=/#/g,ry=/&/g,iy=/\//g,sy=/=/g,ay=/\?/g,Sp=/\+/g,ly=/%5B/g,cy=/%5D/g,Tp=/%5E/g,uy=/%60/g,Ip=/%7B/g,dy=/%7C/g,Op=/%7D/g,fy=/%20/g;function ql(t){return encodeURI(""+t).replace(dy,"|").replace(ly,"[").replace(cy,"]")}function hy(t){return ql(t).replace(Ip,"{").replace(Op,"}").replace(Tp,"^")}function ol(t){return ql(t).replace(Sp,"%2B").replace(fy,"+").replace(Cp,"%23").replace(ry,"%26").replace(uy,"`").replace(Ip,"{").replace(Op,"}").replace(Tp,"^")}function py(t){return ol(t).replace(sy,"%3D")}function gy(t){return ql(t).replace(Cp,"%23").replace(ay,"%3F")}function my(t){return t==null?"":gy(t).replace(iy,"%2F")}function lr(t){try{return decodeURIComponent(""+t)}catch{Ae(`Error decoding "${t}". Using original value`)}return""+t}const by=/\/$/,vy=t=>t.replace(by,"");function ma(t,e,n="/"){let o,r={},i="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(o=o||e.slice(0,a),s=e.slice(a,e.length)),o=wy(o??e,n),{fullPath:o+(i&&"?")+i+s,path:o,query:r,hash:lr(s)}}function yy(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Hd(t,e,n){const o=e.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&oo(e.matched[o],n.matched[r])&&Ap(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function oo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ap(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!xy(t[n],e[n]))return!1;return!0}function xy(t,e){return Dt(t)?Ud(t,e):Dt(e)?Ud(e,t):t===e}function Ud(t,e){return Dt(e)?t.length===e.length&&t.every((n,o)=>n===e[o]):t.length===1&&t[0]===e}function wy(t,e){if(t.startsWith("/"))return t;if(!e.startsWith("/"))return Ae(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${e}". It should look like "/${e}".`),t;if(!t)return e;const n=e.split("/"),o=t.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let i=n.length-1,s,a;for(s=0;s<o.length;s++)if(a=o[s],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+o.slice(s).join("/")}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qr;(function(t){t.pop="pop",t.push="push"})(qr||(qr={}));var ns;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ns||(ns={}));const ba="";function ky(t){if(!t)if(On){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vy(t)}const Ey=/^[^#]+#/;function _y(t,e){return t.replace(Ey,"#")+e}function Cy(t,e){const n=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-n.left-(e.left||0),top:o.top-n.top-(e.top||0)}}const Sy=()=>({left:window.scrollX,top:window.scrollY});function Ty(t){let e;if("el"in t){const n=t.el,o=typeof n=="string"&&n.startsWith("#");if(typeof t.el=="string"&&(!o||!document.getElementById(t.el.slice(1))))try{const i=document.querySelector(t.el);if(o&&i){Ae(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{Ae(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r){Ae(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}e=Cy(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vd(t,e){return(history.state?history.state.position-e:-1)+t}const rl=new Map;function Iy(t,e){rl.set(t,e)}function Oy(t){const e=rl.get(t);return rl.delete(t),e}function Ay(t=""){let e=[],n=[ba],o=0;t=ky(t);function r(a){o++,o!==n.length&&n.splice(o),n.push(a)}function i(a,l,{direction:d,delta:c}){const u={direction:d,delta:c,type:qr.pop};for(const p of e)p(a,l,u)}const s={location:ba,state:{},base:t,createHref:_y.bind(null,t),replace(a){n.splice(o--,1),r(a)},push(a,l){r(a)},listen(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}},destroy(){e=[],n=[ba],o=0},go(a,l=!0){const d=this.location,c=a<0?ns.back:ns.forward;o=Math.max(0,Math.min(o+a,n.length-1)),l&&i(this.location,d,{direction:c,delta:a})}};return Object.defineProperty(s,"location",{enumerable:!0,get:()=>n[o]}),s}function os(t){return typeof t=="string"||t&&typeof t=="object"}function Bp(t){return typeof t=="string"||typeof t=="symbol"}const Mp=Symbol("navigation failure");var zd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(zd||(zd={}));const By={1({location:t,currentLocation:e}){return`No match for
 ${JSON.stringify(t)}${e?`
while being at
`+JSON.stringify(e):""}`},2({from:t,to:e}){return`Redirected from "${t.fullPath}" to "${Py(e)}" via a navigation guard.`},4({from:t,to:e}){return`Navigation aborted from "${t.fullPath}" to "${e.fullPath}" via a navigation guard.`},8({from:t,to:e}){return`Navigation cancelled from "${t.fullPath}" to "${e.fullPath}" with a new navigation.`},16({from:t,to:e}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function cr(t,e){return Ue(new Error(By[t](e)),{type:t,[Mp]:!0},e)}function En(t,e){return t instanceof Error&&Mp in t&&(e==null||!!(t.type&e))}const My=["params","query","hash"];function Py(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of My)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}const Wd="[^/]+?",Ly={sensitive:!1,strict:!1,start:!0,end:!0},Ry=/[.+*?^${}()[\]/\\]/g;function Ny(t,e){const n=Ue({},Ly,e),o=[];let r=n.start?"^":"";const i=[];for(const d of t){const c=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let u=0;u<d.length;u++){const p=d[u];let b=40+(n.sensitive?.25:0);if(p.type===0)u||(r+="/"),r+=p.value.replace(Ry,"\\$&"),b+=40;else if(p.type===1){const{value:h,repeatable:g,optional:x,regexp:k}=p;i.push({name:h,repeatable:g,optional:x});const _=k||Wd;if(_!==Wd){b+=10;try{new RegExp(`(${_})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${h}" (${_}): `+L.message)}}let C=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;u||(C=x&&d.length<2?`(?:/${C})`:"/"+C),x&&(C+="?"),r+=C,b+=20,x&&(b+=-8),g&&(b+=-20),_===".*"&&(b+=-50)}c.push(b)}o.push(c)}if(n.strict&&n.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function a(d){const c=d.match(s),u={};if(!c)return null;for(let p=1;p<c.length;p++){const b=c[p]||"",h=i[p-1];u[h.name]=b&&h.repeatable?b.split("/"):b}return u}function l(d){let c="",u=!1;for(const p of t){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const b of p)if(b.type===0)c+=b.value;else if(b.type===1){const{value:h,repeatable:g,optional:x}=b,k=h in d?d[h]:"";if(Dt(k)&&!g)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const _=Dt(k)?k.join("/"):k;if(!_)if(x)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${h}"`);c+=_}}return c||"/"}return{re:s,score:o,keys:i,parse:a,stringify:l}}function $y(t,e){let n=0;for(;n<t.length&&n<e.length;){const o=e[n]-t[n];if(o)return o;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Pp(t,e){let n=0;const o=t.score,r=e.score;for(;n<o.length&&n<r.length;){const i=$y(o[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-o.length)===1){if(qd(o))return 1;if(qd(r))return-1}return r.length-o.length}function qd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Dy={type:0,value:""},jy=/[a-zA-Z0-9_]/;function Fy(t){if(!t)return[[]];if(t==="/")return[[Dy]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,o=n;const r=[];let i;function s(){i&&r.push(i),i=[]}let a=0,l,d="",c="";function u(){d&&(n===0?i.push({type:0,value:d}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(d&&u(),s()):l===":"?(u(),n=1):p();break;case 4:p(),n=o;break;case 1:l==="("?n=2:jy.test(l)?p():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),u(),s(),r}function Hy(t,e,n){const o=Ny(Fy(t.path),n);{const i=new Set;for(const s of o.keys)i.has(s.name)&&Ae(`Found duplicated params with name "${s.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),i.add(s.name)}const r=Ue(o,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Uy(t,e){const n=[],o=new Map;e=Yd({strict:!1,end:!0,sensitive:!1},e);function r(u){return o.get(u)}function i(u,p,b){const h=!b,g=Qd(u);qy(g,p),g.aliasOf=b&&b.record;const x=Yd(e,u),k=[g];if("alias"in u){const L=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of L)k.push(Qd(Ue({},g,{components:b?b.record.components:g.components,path:P,aliasOf:b?b.record:g})))}let _,C;for(const L of k){const{path:P}=L;if(p&&P[0]!=="/"){const S=p.record.path,T=S[S.length-1]==="/"?"":"/";L.path=p.record.path+(P&&T+P)}if(L.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.`);if(_=Hy(L,p,x),p&&P[0]==="/"&&Qy(_,p),b?(b.alias.push(_),Wy(b,_)):(C=C||_,C!==_&&C.alias.push(_),h&&u.name&&!Gd(_)&&(Ky(u,p),s(u.name))),Lp(_)&&l(_),g.children){const S=g.children;for(let T=0;T<S.length;T++)i(S[T],_,b&&b.children[T])}b=b||_}return C?()=>{s(C)}:Rr}function s(u){if(Bp(u)){const p=o.get(u);p&&(o.delete(u),n.splice(n.indexOf(p),1),p.children.forEach(s),p.alias.forEach(s))}else{const p=n.indexOf(u);p>-1&&(n.splice(p,1),u.record.name&&o.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){const p=Gy(u,n);n.splice(p,0,u),u.record.name&&!Gd(u)&&o.set(u.record.name,u)}function d(u,p){let b,h={},g,x;if("name"in u&&u.name){if(b=o.get(u.name),!b)throw cr(1,{location:u});{const C=Object.keys(u.params||{}).filter(L=>!b.keys.find(P=>P.name===L));C.length&&Ae(`Discarded invalid param(s) "${C.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}x=b.record.name,h=Ue(Kd(p.params,b.keys.filter(C=>!C.optional).concat(b.parent?b.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),u.params&&Kd(u.params,b.keys.map(C=>C.name))),g=b.stringify(h)}else if(u.path!=null)g=u.path,g.startsWith("/")||Ae(`The Matcher cannot resolve relative paths but received "${g}". Unless you directly called \`matcher.resolve("${g}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),b=n.find(C=>C.re.test(g)),b&&(h=b.parse(g),x=b.record.name);else{if(b=p.name?o.get(p.name):n.find(C=>C.re.test(p.path)),!b)throw cr(1,{location:u,currentLocation:p});x=b.record.name,h=Ue({},p.params,u.params),g=b.stringify(h)}const k=[];let _=b;for(;_;)k.unshift(_.record),_=_.parent;return{name:x,path:g,params:h,matched:k,meta:zy(k)}}t.forEach(u=>i(u));function c(){n.length=0,o.clear()}return{addRoute:i,resolve:d,removeRoute:s,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Kd(t,e){const n={};for(const o of e)o in t&&(n[o]=t[o]);return n}function Qd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Vy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Vy(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const o in t.components)e[o]=typeof n=="object"?n[o]:n;return e}function Gd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function zy(t){return t.reduce((e,n)=>Ue(e,n.meta),{})}function Yd(t,e){const n={};for(const o in t)n[o]=o in e?e[o]:t[o];return n}function il(t,e){return t.name===e.name&&t.optional===e.optional&&t.repeatable===e.repeatable}function Wy(t,e){for(const n of t.keys)if(!n.optional&&!e.keys.find(il.bind(null,n)))return Ae(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!t.keys.find(il.bind(null,n)))return Ae(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`)}function qy(t,e){e&&e.record.name&&!t.name&&!t.path&&Ae(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function Ky(t,e){for(let n=e;n;n=n.parent)if(n.record.name===t.name)throw new Error(`A route named "${String(t.name)}" has been added as a ${e===n?"child":"descendant"} of a route with the same name. Route names must be unique and a nested route cannot use the same name as an ancestor.`)}function Qy(t,e){for(const n of e.keys)if(!t.keys.find(il.bind(null,n)))return Ae(`Absolute path "${t.record.path}" must have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function Gy(t,e){let n=0,o=e.length;for(;n!==o;){const i=n+o>>1;Pp(t,e[i])<0?o=i:n=i+1}const r=Yy(t);return r&&(o=e.lastIndexOf(r,o-1),o<0&&Ae(`Finding ancestor route "${r.record.path}" failed for "${t.record.path}"`)),o}function Yy(t){let e=t;for(;e=e.parent;)if(Lp(e)&&Pp(t,e)===0)return e}function Lp({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Zy(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<o.length;++r){const i=o[r].replace(Sp," "),s=i.indexOf("="),a=lr(s<0?i:i.slice(0,s)),l=s<0?null:lr(i.slice(s+1));if(a in e){let d=e[a];Dt(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function Zd(t){let e="";for(let n in t){const o=t[n];if(n=py(n),o==null){o!==void 0&&(e+=(e.length?"&":"")+n);continue}(Dt(o)?o.map(i=>i&&ol(i)):[o&&ol(o)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Xy(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=Dt(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return e}const Jy=Symbol("router view location matched"),Xd=Symbol("router view depth"),Is=Symbol("router"),Kl=Symbol("route location"),sl=Symbol("router view location");function xr(){let t=[];function e(o){return t.push(o),()=>{const r=t.indexOf(o);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Zn(t,e,n,o,r,i=s=>s()){const s=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const d=p=>{p===!1?l(cr(4,{from:n,to:e})):p instanceof Error?l(p):os(p)?l(cr(2,{from:e,to:p})):(s&&o.enterCallbacks[r]===s&&typeof p=="function"&&s.push(p),a())},c=i(()=>t.call(o&&o.instances[r],e,n,e2(d,e,n)));let u=Promise.resolve(c);if(t.length<3&&(u=u.then(d)),t.length>2){const p=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof c=="object"&&"then"in c)u=u.then(b=>d._called?b:(Ae(p),Promise.reject(new Error("Invalid navigation guard"))));else if(c!==void 0&&!d._called){Ae(p),l(new Error("Invalid navigation guard"));return}}u.catch(p=>l(p))})}function e2(t,e,n){let o=0;return function(){o++===1&&Ae(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,o===1&&t.apply(null,arguments)}}function va(t,e,n,o,r=i=>i()){const i=[];for(const s of t){!s.components&&!s.children.length&&Ae(`Record with path "${s.path}" is either missing a "component(s)" or "children" property.`);for(const a in s.components){let l=s.components[a];{if(!l||typeof l!="object"&&typeof l!="function")throw Ae(`Component "${a}" in record with path "${s.path}" is not a valid component. Received "${String(l)}".`),new Error("Invalid route component");if("then"in l){Ae(`Component "${a}" in record with path "${s.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const d=l;l=()=>d}else l.__asyncLoader&&!l.__warnedDefineAsync&&(l.__warnedDefineAsync=!0,Ae(`Component "${a}" in record with path "${s.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(_p(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Zn(c,n,o,s,a,r))}else{let d=l();"catch"in d||(Ae(`Component "${a}" in record with path "${s.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),d=Promise.resolve(d)),i.push(()=>d.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const u=oy(c)?c.default:c;s.mods[a]=c,s.components[a]=u;const b=(u.__vccOpts||u)[e];return b&&Zn(b,n,o,s,a,r)()}))}}}return i}function Jd(t){const e=Wt(Is),n=Wt(Kl);let o=!1,r=null;const i=Et(()=>{const c=eo(t.to);return(!o||c!==r)&&(os(c)||(o?Ae(`Invalid value for prop "to" in useLink()
- to:`,c,`
- previous to:`,r,`
- props:`,t):Ae(`Invalid value for prop "to" in useLink()
- to:`,c,`
- props:`,t)),r=c,o=!0),e.resolve(c)}),s=Et(()=>{const{matched:c}=i.value,{length:u}=c,p=c[u-1],b=n.matched;if(!p||!b.length)return-1;const h=b.findIndex(oo.bind(null,p));if(h>-1)return h;const g=ef(c[u-2]);return u>1&&ef(p)===g&&b[b.length-1].path!==g?b.findIndex(oo.bind(null,c[u-2])):h}),a=Et(()=>s.value>-1&&r2(n.params,i.value.params)),l=Et(()=>s.value>-1&&s.value===n.matched.length-1&&Ap(n.params,i.value.params));function d(c={}){if(o2(c)){const u=e[eo(t.replace)?"replace":"push"](eo(t.to)).catch(Rr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}if(On){const c=ai();if(c){const u={route:i.value,isActive:a.value,isExactActive:l.value,error:null};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(u),Dv(()=>{u.route=i.value,u.isActive=a.value,u.isExactActive=l.value,u.error=os(eo(t.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:i,href:Et(()=>i.value.href),isActive:a,isExactActive:l,navigate:d}}function t2(t){return t.length===1?t[0]:t}const n2=Hh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Jd,setup(t,{slots:e}){const n=Nt(Jd(t)),{options:o}=Wt(Is),r=Et(()=>({[tf(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[tf(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&t2(e.default(n));return t.custom?i:zl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Ql=n2;function o2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function r2(t,e){for(const n in e){const o=e[n],r=t[n];if(typeof o=="string"){if(o!==r)return!1}else if(!Dt(r)||r.length!==o.length||o.some((i,s)=>i!==r[s]))return!1}return!0}function ef(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tf=(t,e,n)=>t??e??n,i2=Hh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){s2();const o=Wt(sl),r=Et(()=>t.route||o.value),i=Wt(Xd,0),s=Et(()=>{let d=eo(i);const{matched:c}=r.value;let u;for(;(u=c[d])&&!u.components;)d++;return d}),a=Et(()=>r.value.matched[s.value]);Si(Xd,Et(()=>s.value+1)),Si(Jy,a),Si(sl,r);const l=Be();return So(()=>[l.value,a.value,t.name],([d,c,u],[p,b,h])=>{c&&(c.instances[u]=d,b&&b!==c&&d&&d===p&&(c.leaveGuards.size||(c.leaveGuards=b.leaveGuards),c.updateGuards.size||(c.updateGuards=b.updateGuards))),d&&c&&(!b||!oo(c,b)||!p)&&(c.enterCallbacks[u]||[]).forEach(g=>g(d))},{flush:"post"}),()=>{const d=r.value,c=t.name,u=a.value,p=u&&u.components[c];if(!p)return nf(n.default,{Component:p,route:d});const b=u.props[c],h=b?b===!0?d.params:typeof b=="function"?b(d):b:null,x=zl(p,Ue({},h,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(u.instances[c]=null)},ref:l}));if(On&&x.ref){const k={depth:s.value,name:u.name,path:u.path,meta:u.meta};(Dt(x.ref)?x.ref.map(C=>C.i):[x.ref.i]).forEach(C=>{C.__vrv_devtools=k})}return nf(n.default,{Component:x,route:d})||x}}});function nf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Rp=i2;function s2(){const t=ai(),e=t.parent&&t.parent.type.name,n=t.parent&&t.parent.subTree&&t.parent.subTree.type;if(e&&(e==="KeepAlive"||e.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const o=e==="KeepAlive"?"keep-alive":"transition";Ae(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${o}>
    <component :is="Component" />
  </${o}>
</router-view>`)}}function wr(t,e){const n=Ue({},t,{matched:t.matched.map(o=>b2(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:n}}}function bi(t){return{_custom:{display:t}}}let a2=0;function l2(t,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const o=a2++;Wl({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},r=>{typeof r.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent((c,u)=>{c.instanceData&&c.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:wr(e.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:c,componentInstance:u})=>{if(u.__vrv_devtools){const p=u.__vrv_devtools;c.tags.push({label:(p.name?`${p.name.toString()}: `:"")+p.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Np})}Dt(u.__vrl_devtools)&&(u.__devtoolsApi=r,u.__vrl_devtools.forEach(p=>{let b=p.route.path,h=jp,g="",x=0;p.error?(b=p.error,h=h2,x=p2):p.isExactActive?(h=Dp,g="This is exactly active"):p.isActive&&(h=$p,g="This link is active"),c.tags.push({label:b,textColor:x,tooltip:g,backgroundColor:h})}))}),So(e.currentRoute,()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(a),r.sendInspectorState(a)});const i="router:navigations:"+o;r.addTimelineLayer({id:i,label:`Router${o?" "+o:""} Navigations`,color:4237508}),e.onError((c,u)=>{r.addTimelineEvent({layerId:i,event:{title:"Error during Navigation",subtitle:u.fullPath,logType:"error",time:r.now(),data:{error:c},groupId:u.meta.__navigationId}})});let s=0;e.beforeEach((c,u)=>{const p={guard:bi("beforeEach"),from:wr(u,"Current Location during this navigation"),to:wr(c,"Target location")};Object.defineProperty(c.meta,"__navigationId",{value:s++}),r.addTimelineEvent({layerId:i,event:{time:r.now(),title:"Start of navigation",subtitle:c.fullPath,data:p,groupId:c.meta.__navigationId}})}),e.afterEach((c,u,p)=>{const b={guard:bi("afterEach")};p?(b.failure={_custom:{type:Error,readOnly:!0,display:p?p.message:"",tooltip:"Navigation Failure",value:p}},b.status=bi("❌")):b.status=bi("✅"),b.from=wr(u,"Current Location during this navigation"),b.to=wr(c,"Target location"),r.addTimelineEvent({layerId:i,event:{title:"End of navigation",subtitle:c.fullPath,time:r.now(),data:b,logType:p?"warning":"default",groupId:c.meta.__navigationId}})});const a="router-inspector:"+o;r.addInspector({id:a,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function l(){if(!d)return;const c=d;let u=n.getRoutes().filter(p=>!p.parent||!p.parent.record.components);u.forEach(Up),c.filter&&(u=u.filter(p=>al(p,c.filter.toLowerCase()))),u.forEach(p=>Hp(p,e.currentRoute.value)),c.rootNodes=u.map(Fp)}let d;r.on.getInspectorTree(c=>{d=c,c.app===t&&c.inspectorId===a&&l()}),r.on.getInspectorState(c=>{if(c.app===t&&c.inspectorId===a){const p=n.getRoutes().find(b=>b.record.__vd_id===c.nodeId);p&&(c.state={options:u2(p)})}}),r.sendInspectorTree(a),r.sendInspectorState(a)})}function c2(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function u2(t){const{record:e}=t,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(o=>`${o.name}${c2(o)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&n.push({editable:!1,key:"aliases",value:t.alias.map(o=>o.record.path)}),Object.keys(t.record.meta).length&&n.push({editable:!1,key:"meta",value:t.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),n}const Np=15485081,$p=2450411,Dp=8702998,d2=2282478,jp=16486972,f2=6710886,h2=16704226,p2=12131356;function Fp(t){const e=[],{record:n}=t;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:d2}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:jp}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:Np}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:Dp}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:$p}),n.redirect&&e.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:f2});let o=n.__vd_id;return o==null&&(o=String(g2++),n.__vd_id=o),{id:o,label:n.path,tags:e,children:t.children.map(Fp)}}let g2=0;const m2=/^\/(.*)\/([a-z]*)$/;function Hp(t,e){const n=e.matched.length&&oo(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=n,n||(t.__vd_active=e.matched.some(o=>oo(o,t.record))),t.children.forEach(o=>Hp(o,e))}function Up(t){t.__vd_match=!1,t.children.forEach(Up)}function al(t,e){const n=String(t.re).match(m2);if(t.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return t.children.forEach(s=>al(s,e)),t.record.path!=="/"||e==="/"?(t.__vd_match=t.re.test(e),!0):!1;const r=t.record.path.toLowerCase(),i=lr(r);return!e.startsWith("/")&&(i.includes(e)||r.includes(e))||i.startsWith(e)||r.startsWith(e)||t.record.name&&String(t.record.name).includes(e)?!0:t.children.some(s=>al(s,e))}function b2(t,e){const n={};for(const o in t)e.includes(o)||(n[o]=t[o]);return n}function v2(t){const e=Uy(t.routes,t),n=t.parseQuery||Zy,o=t.stringifyQuery||Zd,r=t.history;if(!r)throw new Error('Provide the "history" option when calling "createRouter()": https://router.vuejs.org/api/interfaces/RouterOptions.html#history');const i=xr(),s=xr(),a=xr(),l=gb(Vn);let d=Vn;On&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ga.bind(null,H=>""+H),u=ga.bind(null,my),p=ga.bind(null,lr);function b(H,oe){let re,se;return Bp(H)?(re=e.getRecordMatcher(H),re||Ae(`Parent route "${String(H)}" not found when adding child route`,oe),se=oe):se=H,e.addRoute(se,re)}function h(H){const oe=e.getRecordMatcher(H);oe?e.removeRoute(oe):Ae(`Cannot remove non-existent route "${String(H)}"`)}function g(){return e.getRoutes().map(H=>H.record)}function x(H){return!!e.getRecordMatcher(H)}function k(H,oe){if(oe=Ue({},oe||l.value),typeof H=="string"){const A=ma(n,H,oe.path),j=e.resolve({path:A.path},oe),K=r.createHref(A.fullPath);return K.startsWith("//")?Ae(`Location "${H}" resolved to "${K}". A resolved location cannot start with multiple slashes.`):j.matched.length||Ae(`No match found for location with path "${H}"`),Ue(A,j,{params:p(j.params),hash:lr(A.hash),redirectedFrom:void 0,href:K})}if(!os(H))return Ae(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,H),k({});let re;if(H.path!=null)"params"in H&&!("name"in H)&&Object.keys(H.params).length&&Ae(`Path "${H.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),re=Ue({},H,{path:ma(n,H.path,oe.path).path});else{const A=Ue({},H.params);for(const j in A)A[j]==null&&delete A[j];re=Ue({},H,{params:u(A)}),oe.params=u(oe.params)}const se=e.resolve(re,oe),Ee=H.hash||"";Ee&&!Ee.startsWith("#")&&Ae(`A \`hash\` should always start with the character "#". Replace "${Ee}" with "#${Ee}".`),se.params=c(p(se.params));const ze=yy(o,Ue({},H,{hash:hy(Ee),path:se.path})),E=r.createHref(ze);return E.startsWith("//")?Ae(`Location "${H}" resolved to "${E}". A resolved location cannot start with multiple slashes.`):se.matched.length||Ae(`No match found for location with path "${H.path!=null?H.path:H}"`),Ue({fullPath:ze,hash:Ee,query:o===Zd?Xy(H.query):H.query||{}},se,{redirectedFrom:void 0,href:E})}function _(H){return typeof H=="string"?ma(n,H,l.value.path):Ue({},H)}function C(H,oe){if(d!==H)return cr(8,{from:oe,to:H})}function L(H){return T(H)}function P(H){return L(Ue(_(H),{replace:!0}))}function S(H){const oe=H.matched[H.matched.length-1];if(oe&&oe.redirect){const{redirect:re}=oe;let se=typeof re=="function"?re(H):re;if(typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=_(se):{path:se},se.params={}),se.path==null&&!("name"in se))throw Ae(`Invalid redirect found:
${JSON.stringify(se,null,2)}
 when navigating to "${H.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Ue({query:H.query,hash:H.hash,params:se.path!=null?{}:H.params},se)}}function T(H,oe){const re=d=k(H),se=l.value,Ee=H.state,ze=H.force,E=H.replace===!0,A=S(re);if(A)return T(Ue(_(A),{state:typeof A=="object"?Ue({},Ee,A.state):Ee,force:ze,replace:E}),oe||re);const j=re;j.redirectedFrom=oe;let K;return!ze&&Hd(o,se,re)&&(K=cr(16,{to:j,from:se}),Te(se,se,!0,!1)),(K?Promise.resolve(K):O(j,se)).catch(z=>En(z)?En(z,2)?z:Fe(z):te(z,j,se)).then(z=>{if(z){if(En(z,2))return Hd(o,k(z.to),j)&&oe&&(oe._count=oe._count?oe._count+1:1)>30?(Ae(`Detected a possibly infinite redirection in a navigation guard when going from "${se.fullPath}" to "${j.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):T(Ue({replace:E},_(z.to),{state:typeof z.to=="object"?Ue({},Ee,z.to.state):Ee,force:ze}),oe||j)}else z=R(j,se,!0,E,Ee);return I(j,se,z),z})}function B(H,oe){const re=C(H,oe);return re?Promise.reject(re):Promise.resolve()}function w(H){const oe=Tt.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(H):H()}function O(H,oe){let re;const[se,Ee,ze]=y2(H,oe);re=va(se.reverse(),"beforeRouteLeave",H,oe);for(const A of se)A.leaveGuards.forEach(j=>{re.push(Zn(j,H,oe))});const E=B.bind(null,H,oe);return re.push(E),jt(re).then(()=>{re=[];for(const A of i.list())re.push(Zn(A,H,oe));return re.push(E),jt(re)}).then(()=>{re=va(Ee,"beforeRouteUpdate",H,oe);for(const A of Ee)A.updateGuards.forEach(j=>{re.push(Zn(j,H,oe))});return re.push(E),jt(re)}).then(()=>{re=[];for(const A of ze)if(A.beforeEnter)if(Dt(A.beforeEnter))for(const j of A.beforeEnter)re.push(Zn(j,H,oe));else re.push(Zn(A.beforeEnter,H,oe));return re.push(E),jt(re)}).then(()=>(H.matched.forEach(A=>A.enterCallbacks={}),re=va(ze,"beforeRouteEnter",H,oe,w),re.push(E),jt(re))).then(()=>{re=[];for(const A of s.list())re.push(Zn(A,H,oe));return re.push(E),jt(re)}).catch(A=>En(A,8)?A:Promise.reject(A))}function I(H,oe,re){a.list().forEach(se=>w(()=>se(H,oe,re)))}function R(H,oe,re,se,Ee){const ze=C(H,oe);if(ze)return ze;const E=oe===Vn,A=On?history.state:{};re&&(se||E?r.replace(H.fullPath,Ue({scroll:E&&A&&A.scroll},Ee)):r.push(H.fullPath,Ee)),l.value=H,Te(H,oe,re,E),Fe()}let F;function D(){F||(F=r.listen((H,oe,re)=>{if(!on.listening)return;const se=k(H),Ee=S(se);if(Ee){T(Ue(Ee,{replace:!0,force:!0}),se).catch(Rr);return}d=se;const ze=l.value;On&&Iy(Vd(ze.fullPath,re.delta),Sy()),O(se,ze).catch(E=>En(E,12)?E:En(E,2)?(T(Ue(_(E.to),{force:!0}),se).then(A=>{En(A,20)&&!re.delta&&re.type===qr.pop&&r.go(-1,!1)}).catch(Rr),Promise.reject()):(re.delta&&r.go(-re.delta,!1),te(E,se,ze))).then(E=>{E=E||R(se,ze,!1),E&&(re.delta&&!En(E,8)?r.go(-re.delta,!1):re.type===qr.pop&&En(E,20)&&r.go(-1,!1)),I(se,ze,E)}).catch(Rr)}))}let V=xr(),J=xr(),Z;function te(H,oe,re){Fe(H);const se=J.list();return se.length?se.forEach(Ee=>Ee(H,oe,re)):(Ae("uncaught error during route navigation:"),console.error(H)),Promise.reject(H)}function le(){return Z&&l.value!==Vn?Promise.resolve():new Promise((H,oe)=>{V.add([H,oe])})}function Fe(H){return Z||(Z=!H,D(),V.list().forEach(([oe,re])=>H?re(H):oe()),V.reset()),H}function Te(H,oe,re,se){const{scrollBehavior:Ee}=t;if(!On||!Ee)return Promise.resolve();const ze=!re&&Oy(Vd(H.fullPath,0))||(se||!re)&&history.state&&history.state.scroll||null;return Ki().then(()=>Ee(H,oe,ze)).then(E=>E&&Ty(E)).catch(E=>te(E,H,oe))}const Ie=H=>r.go(H);let nt;const Tt=new Set,on={currentRoute:l,listening:!0,addRoute:b,removeRoute:h,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:g,resolve:k,options:t,push:L,replace:P,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:J.add,isReady:le,install(H){const oe=this;H.component("RouterLink",Ql),H.component("RouterView",Rp),H.config.globalProperties.$router=oe,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>eo(l)}),On&&!nt&&l.value===Vn&&(nt=!0,L(r.location).catch(Ee=>{Ae("Unexpected error when starting the router:",Ee)}));const re={};for(const Ee in Vn)Object.defineProperty(re,Ee,{get:()=>l.value[Ee],enumerable:!0});H.provide(Is,oe),H.provide(Kl,vh(re)),H.provide(sl,l);const se=H.unmount;Tt.add(H),H.unmount=function(){Tt.delete(H),Tt.size<1&&(d=Vn,F&&F(),F=null,l.value=Vn,nt=!1,Z=!1),se()},On&&l2(H,oe,e)}};function jt(H){return H.reduce((oe,re)=>oe.then(()=>w(re)),Promise.resolve())}return on}function y2(t,e){const n=[],o=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(t.matched.find(d=>oo(d,a))?o.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(d=>oo(d,l))||r.push(l))}return[n,o,r]}function of(){return Wt(Is)}function rf(t){return Wt(Kl)}const it=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},x2={__name:"NavButtonComponent",props:["route"],setup(t,{expose:e}){e();const n=t,o=n.route,r=rf(),i={props:n,link:o,router:r,get RouterLink(){return Ql},get useRoute(){return rf}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},w2={class:"cursor-pointer"};function k2(t,e,n,o,r,i){return ce(),$t(o.RouterLink,{class:Rt(["rounded-md w-2/3 m-auto pl-2 font-bold text-slate-500 hover:bg-slate-800 transition-all hover:translate-x-1",{"font-bold text-white pl-5":o.router.name==o.link.name}]),to:o.link.route},{default:zt(()=>[$("button",w2,Zt(o.link.title),1)]),_:1},8,["to","class"])}const E2=it(x2,[["render",k2],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/NavButtonComponent.vue"]]);function _2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm10.25.75a.75.75 0 0 0 0-1.5H6.56l1.22-1.22a.75.75 0 0 0-1.06-1.06l-2.5 2.5a.75.75 0 0 0 0 1.06l2.5 2.5a.75.75 0 1 0 1.06-1.06L6.56 8.75h4.69Z","clip-rule":"evenodd"})])}function C2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{d:"M4.75 2A2.75 2.75 0 0 0 2 4.75v6.5A2.75 2.75 0 0 0 4.75 14h3a2.75 2.75 0 0 0 2.75-2.75v-.5a.75.75 0 0 0-1.5 0v.5c0 .69-.56 1.25-1.25 1.25h-3c-.69 0-1.25-.56-1.25-1.25v-6.5c0-.69.56-1.25 1.25-1.25h3C8.44 3.5 9 4.06 9 4.75v.5a.75.75 0 0 0 1.5 0v-.5A2.75 2.75 0 0 0 7.75 2h-3Z"}),$("path",{d:"M8.03 6.28a.75.75 0 0 0-1.06-1.06L4.72 7.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 1 0 1.06-1.06l-.97-.97h7.19a.75.75 0 0 0 0-1.5H7.06l.97-.97Z"})])}function S2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.75-4.25a.75.75 0 0 0-1.5 0V8c0 .414.336.75.75.75h3.25a.75.75 0 0 0 0-1.5h-2.5v-3.5Z","clip-rule":"evenodd"})])}function T2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM5.5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function I2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{d:"M8 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM8 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM9.5 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})])}function Vp(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function O2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z","clip-rule":"evenodd"})])}function A2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M11.914 4.086a2 2 0 0 0-2.828 0l-5 5a2 2 0 1 0 2.828 2.828l.556-.555a.75.75 0 0 1 1.06 1.06l-.555.556a3.5 3.5 0 0 1-4.95-4.95l5-5a3.5 3.5 0 0 1 4.95 4.95l-1.972 1.972a2.125 2.125 0 0 1-3.006-3.005L9.97 4.97a.75.75 0 1 1 1.06 1.06L9.058 8.003a.625.625 0 0 0 .884.883l1.972-1.972a2 2 0 0 0 0-2.828Z","clip-rule":"evenodd"})])}function B2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M11.013 2.513a1.75 1.75 0 0 1 2.475 2.474L6.226 12.25a2.751 2.751 0 0 1-.892.596l-2.047.848a.75.75 0 0 1-.98-.98l.848-2.047a2.75 2.75 0 0 1 .596-.892l7.262-7.261Z","clip-rule":"evenodd"})])}function M2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z","clip-rule":"evenodd"})])}function P2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z","clip-rule":"evenodd"})])}function L2(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z","clip-rule":"evenodd"})])}const R2=[{title:"Notes",name:"notes",route:"/"},{title:"Settings",name:"setup",route:"/setup"}],zp="/vue-notes-app/assets/logo---P0lV_A.png",N2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2020%2020'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3egithub%20[%23c0c0c0]%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Dribbble-Light-Preview'%20transform='translate(-140.000000,%20-7559.000000)'%20fill='%23c0c0c0'%3e%3cg%20id='icons'%20transform='translate(56.000000,%20160.000000)'%3e%3cpath%20d='M94,7399%20C99.523,7399%20104,7403.59%20104,7409.253%20C104,7413.782%20101.138,7417.624%2097.167,7418.981%20C96.66,7419.082%2096.48,7418.762%2096.48,7418.489%20C96.48,7418.151%2096.492,7417.047%2096.492,7415.675%20C96.492,7414.719%2096.172,7414.095%2095.813,7413.777%20C98.04,7413.523%20100.38,7412.656%20100.38,7408.718%20C100.38,7407.598%2099.992,7406.684%2099.35,7405.966%20C99.454,7405.707%2099.797,7404.664%2099.252,7403.252%20C99.252,7403.252%2098.414,7402.977%2096.505,7404.303%20C95.706,7404.076%2094.85,7403.962%2094,7403.958%20C93.15,7403.962%2092.295,7404.076%2091.497,7404.303%20C89.586,7402.977%2088.746,7403.252%2088.746,7403.252%20C88.203,7404.664%2088.546,7405.707%2088.649,7405.966%20C88.01,7406.684%2087.619,7407.598%2087.619,7408.718%20C87.619,7412.646%2089.954,7413.526%2092.175,7413.785%20C91.889,7414.041%2091.63,7414.493%2091.54,7415.156%20C90.97,7415.418%2089.522,7415.871%2088.63,7414.304%20C88.63,7414.304%2088.101,7413.319%2087.097,7413.247%20C87.097,7413.247%2086.122,7413.234%2087.029,7413.87%20C87.029,7413.87%2087.684,7414.185%2088.139,7415.37%20C88.139,7415.37%2088.726,7417.2%2091.508,7416.58%20C91.513,7417.437%2091.522,7418.245%2091.522,7418.489%20C91.522,7418.76%2091.338,7419.077%2090.839,7418.982%20C86.865,7417.627%2084,7413.783%2084,7409.253%20C84,7403.59%2088.478,7399%2094,7399'%20id='github-[%23c0c0c0]'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",$2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23c0c0c0'%20height='20px'%20width='20px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='-143%20145%20512%20512'%20xml:space='preserve'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M113,145c-141.4,0-256,114.6-256,256s114.6,256,256,256s256-114.6,256-256S254.4,145,113,145z%20M41.4,508.1H-8.5V348.4h49.9%20V508.1z%20M15.1,328.4h-0.4c-18.1,0-29.8-12.2-29.8-27.7c0-15.8,12.1-27.7,30.5-27.7c18.4,0,29.7,11.9,30.1,27.7%20C45.6,316.1,33.9,328.4,15.1,328.4z%20M241,508.1h-56.6v-82.6c0-21.6-8.8-36.4-28.3-36.4c-14.9,0-23.2,10-27,19.6%20c-1.4,3.4-1.2,8.2-1.2,13.1v86.3H71.8c0,0,0.7-146.4,0-159.7h56.1v25.1c3.3-11,21.2-26.6,49.8-26.6c35.5,0,63.3,23,63.3,72.4V508.1z%20'/%3e%3c/g%3e%3c/svg%3e",D2={__name:"NavComponent",setup(t,{expose:e}){e();const n={NavButtonComponent:E2,get links(){return R2}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},j2={class:"col-span-2 h-full w-full flex flex-col shadow-md shadow-slate-800 relative"},F2={class:"flex flex-col"},H2={id:"navSocialMediaLinks",class:"absolute bottom-0 right-1/2 w-auto"};function U2(t,e,n,o,r,i){return ce(),xe("div",j2,[e[3]||(e[3]=$("div",{class:"flex flex-row mb-6 items-end border-b rounded-md border-slate-800 shadow-lg p-4 shadow-slate-600 mx-auto"},[$("h5",{class:"font-sans text-xl antialiased font-semibold text-blue-gray-900"},[$("img",{src:zp,class:"size-7 inline-block",alt:""}),bt(" MemoWave ")])],-1)),$("nav",F2,[(ce(!0),xe(Ye,null,$l(o.links,s=>(ce(),$t(o.NavButtonComponent,{route:s},null,8,["route"]))),256))]),$("div",H2,[e[2]||(e[2]=$("a",{href:"https://github.com/Marcos170393/vue-notes-app",target:"_blank",class:"inline-block mx-1 hover:-translate-y-0.5 transition-transform"},[$("img",{src:N2,alt:""})],-1)),$("a",{href:"https://www.linkedin.com/in/marcos-correa-larrosa/",target:"_blank",class:"inline-block mx-1 hover:-translate-y-0.5 transition-transform",onClick:e[0]||(e[0]=s=>t.sendLinkdeInBrowser())},e[1]||(e[1]=[$("img",{src:$2,alt:""},null,-1)]))])])}const V2=it(D2,[["render",U2],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/NavComponent.vue"]]);function vi(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function ya(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ll;const Kr=t=>ll=t,Wp=Symbol("pinia");function Mo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var vn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(vn||(vn={}));const To=typeof window<"u",sf=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function z2(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function Gl(t,e,n){const o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){Qp(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function qp(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ai(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const Bi=typeof navigator=="object"?navigator:{userAgent:""},Kp=/Macintosh/.test(Bi.userAgent)&&/AppleWebKit/.test(Bi.userAgent)&&!/Safari/.test(Bi.userAgent),Qp=To?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Kp?W2:"msSaveOrOpenBlob"in Bi?q2:K2:()=>{};function W2(t,e="download",n){const o=document.createElement("a");o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?qp(o.href)?Gl(t,e,n):(o.target="_blank",Ai(o)):Ai(o)):(o.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(o.href)},4e4),setTimeout(function(){Ai(o)},0))}function q2(t,e="download",n){if(typeof t=="string")if(qp(t))Gl(t,e,n);else{const o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){Ai(o)})}else navigator.msSaveOrOpenBlob(z2(t,n),e)}function K2(t,e,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return Gl(t,e,n);const r=t.type==="application/octet-stream",i=/constructor/i.test(String(sf.HTMLElement))||"safari"in sf,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&i||Kp)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw o=null,new Error("Wrong reader.result type");l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=l:location.assign(l),o=null},a.readAsDataURL(t)}else{const a=URL.createObjectURL(t);o?o.location.assign(a):location.href=a,o=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function at(t,e){const n="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function Yl(t){return"_a"in t&&"install"in t}function Gp(){if(!("clipboard"in navigator))return at("Your browser doesn't support the Clipboard API","error"),!0}function Yp(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(at('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Q2(t){if(!Gp())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),at("Global state copied to clipboard.")}catch(e){if(Yp(e))return;at("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function G2(t){if(!Gp())try{Zp(t,JSON.parse(await navigator.clipboard.readText())),at("Global state pasted from clipboard.")}catch(e){if(Yp(e))return;at("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function Y2(t){try{Qp(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){at("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let _n;function Z2(){_n||(_n=document.createElement("input"),_n.type="file",_n.accept=".json");function t(){return new Promise((e,n)=>{_n.onchange=async()=>{const o=_n.files;if(!o)return e(null);const r=o.item(0);return e(r?{text:await r.text(),file:r}:null)},_n.oncancel=()=>e(null),_n.onerror=n,_n.click()})}return t}async function X2(t){try{const n=await Z2()();if(!n)return;const{text:o,file:r}=n;Zp(t,JSON.parse(o)),at(`Global state imported from "${r.name}".`)}catch(e){at("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function Zp(t,e){for(const n in e){const o=t.state.value[n];o?Object.assign(o,e[n]):t.state.value[n]=e[n]}}function Qt(t){return{_custom:{display:t}}}const Xp="🍍 Pinia (root)",Mi="_root";function J2(t){return Yl(t)?{id:Mi,label:Xp}:{id:t.$id,label:t.$id}}function ex(t){if(Yl(t)){const n=Array.from(t._s.keys()),o=t._s;return{state:n.map(i=>({editable:!0,key:i,value:t.state.value[i]})),getters:n.filter(i=>o.get(i)._getters).map(i=>{const s=o.get(i);return{editable:!1,key:i,value:s._getters.reduce((a,l)=>(a[l]=s[l],a),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function tx(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Qt(t.type),key:Qt(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function nx(t){switch(t){case vn.direct:return"mutation";case vn.patchFunction:return"$patch";case vn.patchObject:return"$patch";default:return"unknown"}}let Jo=!0;const Pi=[],mo="pinia:mutations",ft="pinia",{assign:ox}=Object,rs=t=>"🍍 "+t;function rx(t,e){Wl({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Pi,app:t},n=>{typeof n.now!="function"&&at("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:mo,label:"Pinia 🍍",color:15064968}),n.addInspector({id:ft,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Q2(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await G2(e),n.sendInspectorTree(ft),n.sendInspectorState(ft)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Y2(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await X2(e),n.sendInspectorTree(ft),n.sendInspectorState(ft)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:o=>{const r=e._s.get(o);r?typeof r.$reset!="function"?at(`Cannot reset "${o}" store because it doesn't have a "$reset" method implemented.`,"warn"):(r.$reset(),at(`Store "${o}" reset.`)):at(`Cannot reset "${o}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((o,r)=>{const i=o.componentInstance&&o.componentInstance.proxy;if(i&&i._pStores){const s=o.componentInstance.proxy._pStores;Object.values(s).forEach(a=>{o.instanceData.state.push({type:rs(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:ve(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,d)=>(l[d]=a.$state[d],l),{})}),a._getters&&a._getters.length&&o.instanceData.state.push({type:rs(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,d)=>{try{l[d]=a[d]}catch(c){l[d]=c}return l},{})})})}}),n.on.getInspectorTree(o=>{if(o.app===t&&o.inspectorId===ft){let r=[e];r=r.concat(Array.from(e._s.values())),o.rootNodes=(o.filter?r.filter(i=>"$id"in i?i.$id.toLowerCase().includes(o.filter.toLowerCase()):Xp.toLowerCase().includes(o.filter.toLowerCase())):r).map(J2)}}),globalThis.$pinia=e,n.on.getInspectorState(o=>{if(o.app===t&&o.inspectorId===ft){const r=o.nodeId===Mi?e:e._s.get(o.nodeId);if(!r)return;r&&(o.nodeId!==Mi&&(globalThis.$store=ve(r)),o.state=ex(r))}}),n.on.editInspectorState((o,r)=>{if(o.app===t&&o.inspectorId===ft){const i=o.nodeId===Mi?e:e._s.get(o.nodeId);if(!i)return at(`store "${o.nodeId}" not found`,"error");const{path:s}=o;Yl(i)?s.unshift("state"):(s.length!==1||!i._customProperties.has(s[0])||s[0]in i.$state)&&s.unshift("$state"),Jo=!1,o.set(i,s,o.state.value),Jo=!0}}),n.on.editComponentState(o=>{if(o.type.startsWith("🍍")){const r=o.type.replace(/^🍍\s*/,""),i=e._s.get(r);if(!i)return at(`store "${r}" not found`,"error");const{path:s}=o;if(s[0]!=="state")return at(`Invalid path for store "${r}":
${s}
Only state can be modified.`);s[0]="$state",Jo=!1,o.set(i,s,o.state.value),Jo=!0}})})}function ix(t,e){Pi.includes(rs(e.$id))||Pi.push(rs(e.$id)),Wl({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Pi,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const o=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:s,onError:a,name:l,args:d})=>{const c=Jp++;n.addTimelineEvent({layerId:mo,event:{time:o(),title:"🛫 "+l,subtitle:"start",data:{store:Qt(e.$id),action:Qt(l),args:d},groupId:c}}),s(u=>{to=void 0,n.addTimelineEvent({layerId:mo,event:{time:o(),title:"🛬 "+l,subtitle:"end",data:{store:Qt(e.$id),action:Qt(l),args:d,result:u},groupId:c}})}),a(u=>{to=void 0,n.addTimelineEvent({layerId:mo,event:{time:o(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:Qt(e.$id),action:Qt(l),args:d,error:u},groupId:c}})})},!0),e._customProperties.forEach(s=>{So(()=>eo(e[s]),(a,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(ft),Jo&&n.addTimelineEvent({layerId:mo,event:{time:o(),title:"Change",subtitle:s,data:{newValue:a,oldValue:l},groupId:to}})},{deep:!0})}),e.$subscribe(({events:s,type:a},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(ft),!Jo)return;const d={time:o(),title:nx(a),data:ox({store:Qt(e.$id)},tx(s)),groupId:to};a===vn.patchFunction?d.subtitle="⤵️":a===vn.patchObject?d.subtitle="🧩":s&&!Array.isArray(s)&&(d.subtitle=s.type),s&&(d.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:s}}),n.addTimelineEvent({layerId:mo,event:d})},{detached:!0,flush:"sync"});const r=e._hotUpdate;e._hotUpdate=Jn(s=>{r(s),n.addTimelineEvent({layerId:mo,event:{time:o(),title:"🔥 "+e.$id,subtitle:"HMR update",data:{store:Qt(e.$id),info:Qt("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(ft),n.sendInspectorState(ft)});const{$dispose:i}=e;e.$dispose=()=>{i(),n.notifyComponentUpdate(),n.sendInspectorTree(ft),n.sendInspectorState(ft),n.getSettings().logStoreChanges&&at(`Disposed "${e.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(ft),n.sendInspectorState(ft),n.getSettings().logStoreChanges&&at(`"${e.$id}" store installed 🆕`)})}let Jp=0,to;function af(t,e,n){const o=e.reduce((r,i)=>(r[i]=ve(t)[i],r),{});for(const r in o)t[r]=function(){const i=Jp,s=n?new Proxy(t,{get(...l){return to=i,Reflect.get(...l)},set(...l){return to=i,Reflect.set(...l)}}):t;to=i;const a=o[r].apply(s,arguments);return to=void 0,a}}function sx({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!n.state,!e._p._testing){af(e,Object.keys(n.actions),e._isOptionsAPI);const o=e._hotUpdate;ve(e)._hotUpdate=function(r){o.apply(this,arguments),af(e,Object.keys(r._hmrPayload.actions),!!e._isOptionsAPI)}}ix(t,e)}}function ax(){const t=eh(!0),e=t.run(()=>Be({}));let n=[],o=[];const r=Jn({install(i){Kr(r),r._a=i,i.provide(Wp,r),i.config.globalProperties.$pinia=r,To&&rx(i,r),o.forEach(s=>n.push(s)),o=[]},use(i){return this._a?n.push(i):o.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return To&&typeof Proxy<"u"&&r.use(sx),r}function e0(t,e){for(const n in e){const o=e[n];if(!(n in t))continue;const r=t[n];Mo(r)&&Mo(o)&&!He(o)&&!gn(o)?t[n]=e0(r,o):t[n]=o}return t}const lx=()=>{};function lf(t,e,n,o=lx){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),o())};return!n&&th()&&Gm(r),r}function Vo(t,...e){t.slice().forEach(n=>{n(...e)})}const cx=t=>t(),cf=Symbol(),xa=Symbol();function cl(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,o)=>t.set(o,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],r=t[n];Mo(r)&&Mo(o)&&t.hasOwnProperty(n)&&!He(o)&&!gn(o)?t[n]=cl(r,o):t[n]=o}return t}const ux=Symbol("pinia:skipHydration");function dx(t){return!Mo(t)||!t.hasOwnProperty(ux)}const{assign:Ut}=Object;function uf(t){return!!(He(t)&&t.effect)}function df(t,e,n,o){const{state:r,actions:i,getters:s}=e,a=n.state.value[t];let l;function d(){!a&&!o&&(n.state.value[t]=r?r():{});const c=Ju(o?Be(r?r():{}).value:n.state.value[t]);return Ut(c,i,Object.keys(s||{}).reduce((u,p)=>(p in c&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${p}" in store "${t}".`),u[p]=Jn(Et(()=>{Kr(n);const b=n._s.get(t);return s[p].call(b,b)})),u),{}))}return l=ul(t,d,e,n,o,!0),l}function ul(t,e,n={},o,r,i){let s;const a=Ut({actions:{}},n);if(!o._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=O=>{d?b=O:d==!1&&!T._hotUpdating&&(Array.isArray(b)?b.push(O):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let d,c,u=[],p=[],b;const h=o.state.value[t];!i&&!h&&!r&&(o.state.value[t]={});const g=Be({});let x;function k(O){let I;d=c=!1,b=[],typeof O=="function"?(O(o.state.value[t]),I={type:vn.patchFunction,storeId:t,events:b}):(cl(o.state.value[t],O),I={type:vn.patchObject,payload:O,storeId:t,events:b});const R=x=Symbol();Ki().then(()=>{x===R&&(d=!0)}),c=!0,Vo(u,I,o.state.value[t])}const _=i?function(){const{state:I}=n,R=I?I():{};this.$patch(F=>{Ut(F,R)})}:()=>{throw new Error(`🍍: Store "${t}" is built using the setup syntax and does not implement $reset().`)};function C(){s.stop(),u=[],p=[],o._s.delete(t)}const L=(O,I="")=>{if(cf in O)return O[xa]=I,O;const R=function(){Kr(o);const F=Array.from(arguments),D=[],V=[];function J(le){D.push(le)}function Z(le){V.push(le)}Vo(p,{args:F,name:R[xa],store:T,after:J,onError:Z});let te;try{te=O.apply(this&&this.$id===t?this:T,F)}catch(le){throw Vo(V,le),le}return te instanceof Promise?te.then(le=>(Vo(D,le),le)).catch(le=>(Vo(V,le),Promise.reject(le))):(Vo(D,te),te)};return R[cf]=!0,R[xa]=I,R},P=Jn({actions:{},getters:{},state:[],hotState:g}),S={_p:o,$id:t,$onAction:lf.bind(null,p),$patch:k,$reset:_,$subscribe(O,I={}){const R=lf(u,O,I.detached,()=>F()),F=s.run(()=>So(()=>o.state.value[t],D=>{(I.flush==="sync"?c:d)&&O({storeId:t,type:vn.direct,events:b},D)},Ut({},l,I)));return R},$dispose:C},T=Nt(Ut({_hmrPayload:P,_customProperties:Jn(new Set)},S));o._s.set(t,T);const w=(o._a&&o._a.runWithContext||cx)(()=>o._e.run(()=>(s=eh()).run(()=>e({action:L}))));for(const O in w){const I=w[O];if(He(I)&&!uf(I)||gn(I))r?vi(g.value,O,sa(w,O)):i||(h&&dx(I)&&(He(I)?I.value=h[O]:cl(I,h[O])),o.state.value[t][O]=I),P.state.push(O);else if(typeof I=="function"){const R=r?I:L(I,O);w[O]=R,P.actions[O]=I,a.actions[O]=I}else uf(I)&&(P.getters[O]=i?n.getters[O]:I,To&&(w._getters||(w._getters=Jn([]))).push(O))}if(Ut(T,w),Ut(ve(T),w),Object.defineProperty(T,"$state",{get:()=>r?g.value:o.state.value[t],set:O=>{if(r)throw new Error("cannot set hotState");k(I=>{Ut(I,O)})}}),T._hotUpdate=Jn(O=>{T._hotUpdating=!0,O._hmrPayload.state.forEach(I=>{if(I in T.$state){const R=O.$state[I],F=T.$state[I];typeof R=="object"&&Mo(R)&&Mo(F)?e0(R,F):O.$state[I]=F}vi(T,I,sa(O.$state,I))}),Object.keys(T.$state).forEach(I=>{I in O.$state||ya(T,I)}),d=!1,c=!1,o.state.value[t]=sa(O._hmrPayload,"hotState"),c=!0,Ki().then(()=>{d=!0});for(const I in O._hmrPayload.actions){const R=O[I];vi(T,I,L(R,I))}for(const I in O._hmrPayload.getters){const R=O._hmrPayload.getters[I],F=i?Et(()=>(Kr(o),R.call(T,T))):R;vi(T,I,F)}Object.keys(T._hmrPayload.getters).forEach(I=>{I in O._hmrPayload.getters||ya(T,I)}),Object.keys(T._hmrPayload.actions).forEach(I=>{I in O._hmrPayload.actions||ya(T,I)}),T._hmrPayload=O._hmrPayload,T._getters=O._getters,T._hotUpdating=!1}),To){const O={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(I=>{Object.defineProperty(T,I,Ut({value:T[I]},O))})}return o._p.forEach(O=>{if(To){const I=s.run(()=>O({store:T,app:o._a,pinia:o,options:a}));Object.keys(I||{}).forEach(R=>T._customProperties.add(R)),Ut(T,I)}else Ut(T,s.run(()=>O({store:T,app:o._a,pinia:o,options:a})))}),T.$state&&typeof T.$state=="object"&&typeof T.$state.constructor=="function"&&!T.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${T.$id}".`),h&&i&&n.hydrate&&n.hydrate(T.$state,h),d=!0,c=!0,T}/*! #__NO_SIDE_EFFECTS__ */function fx(t,e,n){let o,r;const i=typeof e=="function";o=t,r=i?n:e;function s(a,l){const d=bv();if(a=a||(d?Wt(Wp,null):null),a&&Kr(a),!ll)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);a=ll,a._s.has(o)||(i?ul(o,e,r,a):df(o,r,a),s._pinia=a);const c=a._s.get(o);if(l){const u="__hot:"+o,p=i?ul(u,e,r,a,!0):df(u,Ut({},r),a,!0);l._hotUpdate(p),delete a.state.value[u],a._s.delete(u)}if(To){const u=ai();if(u&&u.proxy&&!l){const p=u.proxy,b="_pStores"in p?p._pStores:p._pStores={};b[o]=c}}return c}return s.$id=o,s}const De=fx("config",{state:()=>({folderLocation:"",toastMessage:{text:"",type:"",show:!1},user:{id:"",username:""}}),getters:{getUserLogin(t){return t.user.username==""?JSON.parse(localStorage.getItem("user")):t.user},getToastMessageContent(t){return t.toastMessage}},actions:{setUserLogin(t,e){const{password:n,...o}=t;e&&localStorage.setItem("user",JSON.stringify(o)),this.user.id=t.id,this.user.username=t.username},showMessage(t,e){this.toastMessage.text=t,this.toastMessage.type=e,this.toastMessage.show=!0,setTimeout(()=>{this.toastMessage.show=!1,this.toastMessage.text="",this.toastMessage.type=""},3e3)},logOut(){this.user.id="",this.user.username="",localStorage.removeItem("user")}}}),hx={__name:"ToastMessageCompontent",setup(t,{expose:e}){e();const n=De(),o=Nt({showMessage:!1,messageToast:"",type:""});n.$subscribe((i,s)=>{o.messageToast=s.toastMessage.text,o.showMessage=s.toastMessage.show,o.type=s.toastMessage.type});const r={store:n,data:o,reactive:Nt,get globalState(){return De}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},px={class:"text-slate-100 font-semibold mx-4"},gx={key:0,class:"text-blue-700 text-2xl mr-4"},mx={key:1,class:"text-2xl mr-4"},bx={key:2,class:"text-2xl mr-4"};function vx(t,e,n,o,r,i){return ce(),xe("div",{id:"toast",class:Rt(["absolute z-10 flex justify-center rounded-md items-center bg-slate-800 p-8 slate-600 opacity-0 min-w-60 max-w-100 h-11 right-4 -translate-y-4 duration-150",{"transition-all translate-y-4 duration-150 opacity-100 shadow-lg border-slate-500 shadow-slate-950 ":o.data.showMessage}])},[$("div",null,[$("p",px,Zt(o.data.messageToast),1)]),$("div",null,[o.data.type=="success"?(ce(),xe("p",gx," 😎 ")):bn("",!0),o.data.type=="danger"?(ce(),xe("p",mx," 😔 ")):bn("",!0),o.data.type=="error"?(ce(),xe("p",bx," ⚠️ ")):bn("",!0)])],2)}const yx=it(hx,[["render",vx],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/ToastMessageCompontent.vue"]]),xx={__name:"App",setup(t,{expose:e}){e();const n={get RouterView(){return Rp},NavComponent:V2,ToastMessageCompontent:yx};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},wx={class:"grid grid-cols-12 h-svh text-gray-300 font-sans font-thin relative"},kx={class:"col-span-10 h-full p-4"},Ex={key:1,class:"col-span-12 h-full"};function _x(t,e,n,o,r,i){return ce(),xe("div",wx,[ge(o.ToastMessageCompontent),!t.$route.path.includes("login")&&!t.$route.path.includes("signup")&&!t.$route.path.includes("404")?(ce(),xe(Ye,{key:0},[ge(o.NavComponent),$("main",kx,[ge(o.RouterView,null,{default:zt(({Component:s})=>[ge(ar,{name:"fade"},{default:zt(()=>[(ce(),$t(od(s)))]),_:2},1024)]),_:1})])],64)):(ce(),xe("main",Ex,[ge(o.RouterView,null,{default:zt(({Component:s})=>[ge(ar,{name:"fade"},{default:zt(()=>[(ce(),$t(od(s)))]),_:2},1024)]),_:1})]))])}const Cx=it(xx,[["render",_x],["__file","/home/marcos/DEV/vue-notes-app/src/App.vue"]]),Sx={};function Tx(t,e){return ce(),xe("div",null,e[0]||(e[0]=[$("h1",null,"About page!",-1)]))}const Ix=it(Sx,[["render",Tx],["__file","/home/marcos/DEV/vue-notes-app/src/components/AboutView.vue"]]);var Ox=Object.create,fr=Object.defineProperty,Ax=Object.getOwnPropertyDescriptor,Bx=Object.getOwnPropertyNames,Mx=Object.getPrototypeOf,Px=Object.prototype.hasOwnProperty,Lx=(t,e,n)=>e in t?fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>fr(t,"name",{value:e,configurable:!0}),At=(t,e)=>()=>(t&&(e=t(t=0)),e),Se=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),nn=(t,e)=>{for(var n in e)fr(t,n,{get:e[n],enumerable:!0})},t0=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Bx(e))!Px.call(t,r)&&r!==n&&fr(t,r,{get:()=>e[r],enumerable:!(o=Ax(e,r))||o.enumerable});return t},hr=(t,e,n)=>(n=t!=null?Ox(Mx(t)):{},t0(e||!t||!t.__esModule?fr(n,"default",{value:t,enumerable:!0}):n,t)),ct=t=>t0(fr({},"__esModule",{value:!0}),t),we=(t,e,n)=>Lx(t,typeof e!="symbol"?e+"":e,n),Rx=Se(t=>{fe(),t.byteLength=l,t.toByteArray=c,t.fromByteArray=b;var e=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,s=r.length;i<s;++i)e[i]=r[i],n[r.charCodeAt(i)]=i;var i,s;n[45]=62,n[95]=63;function a(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=h.indexOf("=");x===-1&&(x=g);var k=x===g?0:4-x%4;return[x,k]}y(a,"getLens");function l(h){var g=a(h),x=g[0],k=g[1];return(x+k)*3/4-k}y(l,"byteLength");function d(h,g,x){return(g+x)*3/4-x}y(d,"_byteLength");function c(h){var g,x=a(h),k=x[0],_=x[1],C=new o(d(h,k,_)),L=0,P=_>0?k-4:k,S;for(S=0;S<P;S+=4)g=n[h.charCodeAt(S)]<<18|n[h.charCodeAt(S+1)]<<12|n[h.charCodeAt(S+2)]<<6|n[h.charCodeAt(S+3)],C[L++]=g>>16&255,C[L++]=g>>8&255,C[L++]=g&255;return _===2&&(g=n[h.charCodeAt(S)]<<2|n[h.charCodeAt(S+1)]>>4,C[L++]=g&255),_===1&&(g=n[h.charCodeAt(S)]<<10|n[h.charCodeAt(S+1)]<<4|n[h.charCodeAt(S+2)]>>2,C[L++]=g>>8&255,C[L++]=g&255),C}y(c,"toByteArray");function u(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}y(u,"tripletToBase64");function p(h,g,x){for(var k,_=[],C=g;C<x;C+=3)k=(h[C]<<16&16711680)+(h[C+1]<<8&65280)+(h[C+2]&255),_.push(u(k));return _.join("")}y(p,"encodeChunk");function b(h){for(var g,x=h.length,k=x%3,_=[],C=16383,L=0,P=x-k;L<P;L+=C)_.push(p(h,L,L+C>P?P:L+C));return k===1?(g=h[x-1],_.push(e[g>>2]+e[g<<4&63]+"==")):k===2&&(g=(h[x-2]<<8)+h[x-1],_.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),_.join("")}y(b,"fromByteArray")}),Nx=Se(t=>{fe(),t.read=function(e,n,o,r,i){var s,a,l=i*8-r-1,d=(1<<l)-1,c=d>>1,u=-7,p=o?i-1:0,b=o?-1:1,h=e[n+p];for(p+=b,s=h&(1<<-u)-1,h>>=-u,u+=l;u>0;s=s*256+e[n+p],p+=b,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=a*256+e[n+p],p+=b,u-=8);if(s===0)s=1-c;else{if(s===d)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-c}return(h?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,n,o,r,i,s){var a,l,d,c=s*8-i-1,u=(1<<c)-1,p=u>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,g=r?1:-1,x=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,a=u):(a=Math.floor(Math.log(n)/Math.LN2),n*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+p>=1?n+=b/d:n+=b*Math.pow(2,1-p),n*d>=2&&(a++,d/=2),a+p>=u?(l=0,a=u):a+p>=1?(l=(n*d-1)*Math.pow(2,i),a=a+p):(l=n*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[o+h]=l&255,h+=g,l/=256,i-=8);for(a=a<<i|l,c+=i;c>0;e[o+h]=a&255,h+=g,a/=256,c-=8);e[o+h-g]|=x*128}}),$x=Se(t=>{fe();var e=Rx(),n=Nx(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var r=2147483647;t.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let f=new Uint8Array(1),m={foo:y(function(){return 42},"foo")};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(f,m),f.foo()===42}catch{return!1}}y(i,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:y(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:y(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function s(f){if(f>r)throw new RangeError('The value "'+f+'" is invalid for option "size"');let m=new Uint8Array(f);return Object.setPrototypeOf(m,a.prototype),m}y(s,"createBuffer");function a(f,m,v){if(typeof f=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(f)}return l(f,m,v)}y(a,"Buffer"),a.poolSize=8192;function l(f,m,v){if(typeof f=="string")return p(f,m);if(ArrayBuffer.isView(f))return h(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(q(f,ArrayBuffer)||f&&q(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(f,SharedArrayBuffer)||f&&q(f.buffer,SharedArrayBuffer)))return g(f,m,v);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let M=f.valueOf&&f.valueOf();if(M!=null&&M!==f)return a.from(M,m,v);let N=x(f);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return a.from(f[Symbol.toPrimitive]("string"),m,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}y(l,"from"),a.from=function(f,m,v){return l(f,m,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}y(d,"assertSize");function c(f,m,v){return d(f),f<=0?s(f):m!==void 0?typeof v=="string"?s(f).fill(m,v):s(f).fill(m):s(f)}y(c,"alloc"),a.alloc=function(f,m,v){return c(f,m,v)};function u(f){return d(f),s(f<0?0:k(f)|0)}y(u,"allocUnsafe"),a.allocUnsafe=function(f){return u(f)},a.allocUnsafeSlow=function(f){return u(f)};function p(f,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);let v=C(f,m)|0,M=s(v),N=M.write(f,m);return N!==v&&(M=M.slice(0,N)),M}y(p,"fromString");function b(f){let m=f.length<0?0:k(f.length)|0,v=s(m);for(let M=0;M<m;M+=1)v[M]=f[M]&255;return v}y(b,"fromArrayLike");function h(f){if(q(f,Uint8Array)){let m=new Uint8Array(f);return g(m.buffer,m.byteOffset,m.byteLength)}return b(f)}y(h,"fromArrayView");function g(f,m,v){if(m<0||f.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<m+(v||0))throw new RangeError('"length" is outside of buffer bounds');let M;return m===void 0&&v===void 0?M=new Uint8Array(f):v===void 0?M=new Uint8Array(f,m):M=new Uint8Array(f,m,v),Object.setPrototypeOf(M,a.prototype),M}y(g,"fromArrayBuffer");function x(f){if(a.isBuffer(f)){let m=k(f.length)|0,v=s(m);return v.length===0||f.copy(v,0,0,m),v}if(f.length!==void 0)return typeof f.length!="number"||de(f.length)?s(0):b(f);if(f.type==="Buffer"&&Array.isArray(f.data))return b(f.data)}y(x,"fromObject");function k(f){if(f>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return f|0}y(k,"checked");function _(f){return+f!=f&&(f=0),a.alloc(+f)}y(_,"SlowBuffer"),a.isBuffer=y(function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},"isBuffer"),a.compare=y(function(f,m){if(q(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),q(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(f)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===m)return 0;let v=f.length,M=m.length;for(let N=0,U=Math.min(v,M);N<U;++N)if(f[N]!==m[N]){v=f[N],M=m[N];break}return v<M?-1:M<v?1:0},"compare"),a.isEncoding=y(function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=y(function(f,m){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let v;if(m===void 0)for(m=0,v=0;v<f.length;++v)m+=f[v].length;let M=a.allocUnsafe(m),N=0;for(v=0;v<f.length;++v){let U=f[v];if(q(U,Uint8Array))N+U.length>M.length?(a.isBuffer(U)||(U=a.from(U)),U.copy(M,N)):Uint8Array.prototype.set.call(M,U,N);else if(a.isBuffer(U))U.copy(M,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=U.length}return M},"concat");function C(f,m){if(a.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||q(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let v=f.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&v===0)return 0;let N=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return z(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ee(f).length;default:if(N)return M?-1:z(f).length;m=(""+m).toLowerCase(),N=!0}}y(C,"byteLength"),a.byteLength=C;function L(f,m,v){let M=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,m>>>=0,v<=m))return"";for(f||(f="utf8");;)switch(f){case"hex":return le(this,m,v);case"utf8":case"utf-8":return D(this,m,v);case"ascii":return Z(this,m,v);case"latin1":case"binary":return te(this,m,v);case"base64":return F(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,m,v);default:if(M)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),M=!0}}y(L,"slowToString"),a.prototype._isBuffer=!0;function P(f,m,v){let M=f[m];f[m]=f[v],f[v]=M}y(P,"swap"),a.prototype.swap16=y(function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<f;m+=2)P(this,m,m+1);return this},"swap16"),a.prototype.swap32=y(function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<f;m+=4)P(this,m,m+3),P(this,m+1,m+2);return this},"swap32"),a.prototype.swap64=y(function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<f;m+=8)P(this,m,m+7),P(this,m+1,m+6),P(this,m+2,m+5),P(this,m+3,m+4);return this},"swap64"),a.prototype.toString=y(function(){let f=this.length;return f===0?"":arguments.length===0?D(this,0,f):L.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=y(function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},"equals"),a.prototype.inspect=y(function(){let f="",m=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(f+=" ... "),"<Buffer "+f+">"},"inspect"),o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=y(function(f,m,v,M,N){if(q(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(m===void 0&&(m=0),v===void 0&&(v=f?f.length:0),M===void 0&&(M=0),N===void 0&&(N=this.length),m<0||v>f.length||M<0||N>this.length)throw new RangeError("out of range index");if(M>=N&&m>=v)return 0;if(M>=N)return-1;if(m>=v)return 1;if(m>>>=0,v>>>=0,M>>>=0,N>>>=0,this===f)return 0;let U=N-M,G=v-m,Re=Math.min(U,G),Xe=this.slice(M,N),_e=f.slice(m,v);for(let Oe=0;Oe<Re;++Oe)if(Xe[Oe]!==_e[Oe]){U=Xe[Oe],G=_e[Oe];break}return U<G?-1:G<U?1:0},"compare");function S(f,m,v,M,N){if(f.length===0)return-1;if(typeof v=="string"?(M=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,de(v)&&(v=N?0:f.length-1),v<0&&(v=f.length+v),v>=f.length){if(N)return-1;v=f.length-1}else if(v<0)if(N)v=0;else return-1;if(typeof m=="string"&&(m=a.from(m,M)),a.isBuffer(m))return m.length===0?-1:T(f,m,v,M,N);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(f,m,v):Uint8Array.prototype.lastIndexOf.call(f,m,v):T(f,[m],v,M,N);throw new TypeError("val must be string, number or Buffer")}y(S,"bidirectionalIndexOf");function T(f,m,v,M,N){let U=1,G=f.length,Re=m.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(f.length<2||m.length<2)return-1;U=2,G/=2,Re/=2,v/=2}function Xe(Oe,Ke){return U===1?Oe[Ke]:Oe.readUInt16BE(Ke*U)}y(Xe,"read");let _e;if(N){let Oe=-1;for(_e=v;_e<G;_e++)if(Xe(f,_e)===Xe(m,Oe===-1?0:_e-Oe)){if(Oe===-1&&(Oe=_e),_e-Oe+1===Re)return Oe*U}else Oe!==-1&&(_e-=_e-Oe),Oe=-1}else for(v+Re>G&&(v=G-Re),_e=v;_e>=0;_e--){let Oe=!0;for(let Ke=0;Ke<Re;Ke++)if(Xe(f,_e+Ke)!==Xe(m,Ke)){Oe=!1;break}if(Oe)return _e}return-1}y(T,"arrayIndexOf"),a.prototype.includes=y(function(f,m,v){return this.indexOf(f,m,v)!==-1},"includes"),a.prototype.indexOf=y(function(f,m,v){return S(this,f,m,v,!0)},"indexOf"),a.prototype.lastIndexOf=y(function(f,m,v){return S(this,f,m,v,!1)},"lastIndexOf");function B(f,m,v,M){v=Number(v)||0;let N=f.length-v;M?(M=Number(M),M>N&&(M=N)):M=N;let U=m.length;M>U/2&&(M=U/2);let G;for(G=0;G<M;++G){let Re=parseInt(m.substr(G*2,2),16);if(de(Re))return G;f[v+G]=Re}return G}y(B,"hexWrite");function w(f,m,v,M){return Y(z(m,f.length-v),f,v,M)}y(w,"utf8Write");function O(f,m,v,M){return Y(Q(m),f,v,M)}y(O,"asciiWrite");function I(f,m,v,M){return Y(ee(m),f,v,M)}y(I,"base64Write");function R(f,m,v,M){return Y(ne(m,f.length-v),f,v,M)}y(R,"ucs2Write"),a.prototype.write=y(function(f,m,v,M){if(m===void 0)M="utf8",v=this.length,m=0;else if(v===void 0&&typeof m=="string")M=m,v=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(v)?(v=v>>>0,M===void 0&&(M="utf8")):(M=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-m;if((v===void 0||v>N)&&(v=N),f.length>0&&(v<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let U=!1;for(;;)switch(M){case"hex":return B(this,f,m,v);case"utf8":case"utf-8":return w(this,f,m,v);case"ascii":case"latin1":case"binary":return O(this,f,m,v);case"base64":return I(this,f,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,f,m,v);default:if(U)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),U=!0}},"write"),a.prototype.toJSON=y(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function F(f,m,v){return m===0&&v===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(m,v))}y(F,"base64Slice");function D(f,m,v){v=Math.min(f.length,v);let M=[],N=m;for(;N<v;){let U=f[N],G=null,Re=U>239?4:U>223?3:U>191?2:1;if(N+Re<=v){let Xe,_e,Oe,Ke;switch(Re){case 1:U<128&&(G=U);break;case 2:Xe=f[N+1],(Xe&192)===128&&(Ke=(U&31)<<6|Xe&63,Ke>127&&(G=Ke));break;case 3:Xe=f[N+1],_e=f[N+2],(Xe&192)===128&&(_e&192)===128&&(Ke=(U&15)<<12|(Xe&63)<<6|_e&63,Ke>2047&&(Ke<55296||Ke>57343)&&(G=Ke));break;case 4:Xe=f[N+1],_e=f[N+2],Oe=f[N+3],(Xe&192)===128&&(_e&192)===128&&(Oe&192)===128&&(Ke=(U&15)<<18|(Xe&63)<<12|(_e&63)<<6|Oe&63,Ke>65535&&Ke<1114112&&(G=Ke))}}G===null?(G=65533,Re=1):G>65535&&(G-=65536,M.push(G>>>10&1023|55296),G=56320|G&1023),M.push(G),N+=Re}return J(M)}y(D,"utf8Slice");var V=4096;function J(f){let m=f.length;if(m<=V)return String.fromCharCode.apply(String,f);let v="",M=0;for(;M<m;)v+=String.fromCharCode.apply(String,f.slice(M,M+=V));return v}y(J,"decodeCodePointsArray");function Z(f,m,v){let M="";v=Math.min(f.length,v);for(let N=m;N<v;++N)M+=String.fromCharCode(f[N]&127);return M}y(Z,"asciiSlice");function te(f,m,v){let M="";v=Math.min(f.length,v);for(let N=m;N<v;++N)M+=String.fromCharCode(f[N]);return M}y(te,"latin1Slice");function le(f,m,v){let M=f.length;(!m||m<0)&&(m=0),(!v||v<0||v>M)&&(v=M);let N="";for(let U=m;U<v;++U)N+=ie[f[U]];return N}y(le,"hexSlice");function Fe(f,m,v){let M=f.slice(m,v),N="";for(let U=0;U<M.length-1;U+=2)N+=String.fromCharCode(M[U]+M[U+1]*256);return N}y(Fe,"utf16leSlice"),a.prototype.slice=y(function(f,m){let v=this.length;f=~~f,m=m===void 0?v:~~m,f<0?(f+=v,f<0&&(f=0)):f>v&&(f=v),m<0?(m+=v,m<0&&(m=0)):m>v&&(m=v),m<f&&(m=f);let M=this.subarray(f,m);return Object.setPrototypeOf(M,a.prototype),M},"slice");function Te(f,m,v){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+m>v)throw new RangeError("Trying to access beyond buffer length")}y(Te,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=y(function(f,m,v){f=f>>>0,m=m>>>0,v||Te(f,m,this.length);let M=this[f],N=1,U=0;for(;++U<m&&(N*=256);)M+=this[f+U]*N;return M},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=y(function(f,m,v){f=f>>>0,m=m>>>0,v||Te(f,m,this.length);let M=this[f+--m],N=1;for(;m>0&&(N*=256);)M+=this[f+--m]*N;return M},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=y(function(f,m){return f=f>>>0,m||Te(f,1,this.length),this[f]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=y(function(f,m){return f=f>>>0,m||Te(f,2,this.length),this[f]|this[f+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=y(function(f,m){return f=f>>>0,m||Te(f,2,this.length),this[f]<<8|this[f+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=y(function(f,m){return f=f>>>0,m||Te(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=y(function(f,m){return f=f>>>0,m||Te(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=ae(y(function(f){f=f>>>0,E(f,"offset");let m=this[f],v=this[f+7];(m===void 0||v===void 0)&&A(f,this.length-8);let M=m+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,N=this[++f]+this[++f]*2**8+this[++f]*2**16+v*2**24;return BigInt(M)+(BigInt(N)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=ae(y(function(f){f=f>>>0,E(f,"offset");let m=this[f],v=this[f+7];(m===void 0||v===void 0)&&A(f,this.length-8);let M=m*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],N=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+v;return(BigInt(M)<<BigInt(32))+BigInt(N)},"readBigUInt64BE")),a.prototype.readIntLE=y(function(f,m,v){f=f>>>0,m=m>>>0,v||Te(f,m,this.length);let M=this[f],N=1,U=0;for(;++U<m&&(N*=256);)M+=this[f+U]*N;return N*=128,M>=N&&(M-=Math.pow(2,8*m)),M},"readIntLE"),a.prototype.readIntBE=y(function(f,m,v){f=f>>>0,m=m>>>0,v||Te(f,m,this.length);let M=m,N=1,U=this[f+--M];for(;M>0&&(N*=256);)U+=this[f+--M]*N;return N*=128,U>=N&&(U-=Math.pow(2,8*m)),U},"readIntBE"),a.prototype.readInt8=y(function(f,m){return f=f>>>0,m||Te(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},"readInt8"),a.prototype.readInt16LE=y(function(f,m){f=f>>>0,m||Te(f,2,this.length);let v=this[f]|this[f+1]<<8;return v&32768?v|4294901760:v},"readInt16LE"),a.prototype.readInt16BE=y(function(f,m){f=f>>>0,m||Te(f,2,this.length);let v=this[f+1]|this[f]<<8;return v&32768?v|4294901760:v},"readInt16BE"),a.prototype.readInt32LE=y(function(f,m){return f=f>>>0,m||Te(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},"readInt32LE"),a.prototype.readInt32BE=y(function(f,m){return f=f>>>0,m||Te(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},"readInt32BE"),a.prototype.readBigInt64LE=ae(y(function(f){f=f>>>0,E(f,"offset");let m=this[f],v=this[f+7];(m===void 0||v===void 0)&&A(f,this.length-8);let M=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(v<<24);return(BigInt(M)<<BigInt(32))+BigInt(m+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=ae(y(function(f){f=f>>>0,E(f,"offset");let m=this[f],v=this[f+7];(m===void 0||v===void 0)&&A(f,this.length-8);let M=(m<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(M)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+v)},"readBigInt64BE")),a.prototype.readFloatLE=y(function(f,m){return f=f>>>0,m||Te(f,4,this.length),n.read(this,f,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=y(function(f,m){return f=f>>>0,m||Te(f,4,this.length),n.read(this,f,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=y(function(f,m){return f=f>>>0,m||Te(f,8,this.length),n.read(this,f,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=y(function(f,m){return f=f>>>0,m||Te(f,8,this.length),n.read(this,f,!1,52,8)},"readDoubleBE");function Ie(f,m,v,M,N,U){if(!a.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>N||m<U)throw new RangeError('"value" argument is out of bounds');if(v+M>f.length)throw new RangeError("Index out of range")}y(Ie,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=y(function(f,m,v,M){if(f=+f,m=m>>>0,v=v>>>0,!M){let G=Math.pow(2,8*v)-1;Ie(this,f,m,v,G,0)}let N=1,U=0;for(this[m]=f&255;++U<v&&(N*=256);)this[m+U]=f/N&255;return m+v},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=y(function(f,m,v,M){if(f=+f,m=m>>>0,v=v>>>0,!M){let G=Math.pow(2,8*v)-1;Ie(this,f,m,v,G,0)}let N=v-1,U=1;for(this[m+N]=f&255;--N>=0&&(U*=256);)this[m+N]=f/U&255;return m+v},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,1,255,0),this[m]=f&255,m+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,2,65535,0),this[m]=f&255,this[m+1]=f>>>8,m+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,2,65535,0),this[m]=f>>>8,this[m+1]=f&255,m+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,4,4294967295,0),this[m+3]=f>>>24,this[m+2]=f>>>16,this[m+1]=f>>>8,this[m]=f&255,m+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,4,4294967295,0),this[m]=f>>>24,this[m+1]=f>>>16,this[m+2]=f>>>8,this[m+3]=f&255,m+4},"writeUInt32BE");function nt(f,m,v,M,N){ze(m,M,N,f,v,7);let U=Number(m&BigInt(4294967295));f[v++]=U,U=U>>8,f[v++]=U,U=U>>8,f[v++]=U,U=U>>8,f[v++]=U;let G=Number(m>>BigInt(32)&BigInt(4294967295));return f[v++]=G,G=G>>8,f[v++]=G,G=G>>8,f[v++]=G,G=G>>8,f[v++]=G,v}y(nt,"wrtBigUInt64LE");function Tt(f,m,v,M,N){ze(m,M,N,f,v,7);let U=Number(m&BigInt(4294967295));f[v+7]=U,U=U>>8,f[v+6]=U,U=U>>8,f[v+5]=U,U=U>>8,f[v+4]=U;let G=Number(m>>BigInt(32)&BigInt(4294967295));return f[v+3]=G,G=G>>8,f[v+2]=G,G=G>>8,f[v+1]=G,G=G>>8,f[v]=G,v+8}y(Tt,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=ae(y(function(f,m=0){return nt(this,f,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=ae(y(function(f,m=0){return Tt(this,f,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=y(function(f,m,v,M){if(f=+f,m=m>>>0,!M){let Re=Math.pow(2,8*v-1);Ie(this,f,m,v,Re-1,-Re)}let N=0,U=1,G=0;for(this[m]=f&255;++N<v&&(U*=256);)f<0&&G===0&&this[m+N-1]!==0&&(G=1),this[m+N]=(f/U>>0)-G&255;return m+v},"writeIntLE"),a.prototype.writeIntBE=y(function(f,m,v,M){if(f=+f,m=m>>>0,!M){let Re=Math.pow(2,8*v-1);Ie(this,f,m,v,Re-1,-Re)}let N=v-1,U=1,G=0;for(this[m+N]=f&255;--N>=0&&(U*=256);)f<0&&G===0&&this[m+N+1]!==0&&(G=1),this[m+N]=(f/U>>0)-G&255;return m+v},"writeIntBE"),a.prototype.writeInt8=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,1,127,-128),f<0&&(f=255+f+1),this[m]=f&255,m+1},"writeInt8"),a.prototype.writeInt16LE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,2,32767,-32768),this[m]=f&255,this[m+1]=f>>>8,m+2},"writeInt16LE"),a.prototype.writeInt16BE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,2,32767,-32768),this[m]=f>>>8,this[m+1]=f&255,m+2},"writeInt16BE"),a.prototype.writeInt32LE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,4,2147483647,-2147483648),this[m]=f&255,this[m+1]=f>>>8,this[m+2]=f>>>16,this[m+3]=f>>>24,m+4},"writeInt32LE"),a.prototype.writeInt32BE=y(function(f,m,v){return f=+f,m=m>>>0,v||Ie(this,f,m,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[m]=f>>>24,this[m+1]=f>>>16,this[m+2]=f>>>8,this[m+3]=f&255,m+4},"writeInt32BE"),a.prototype.writeBigInt64LE=ae(y(function(f,m=0){return nt(this,f,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=ae(y(function(f,m=0){return Tt(this,f,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function on(f,m,v,M,N,U){if(v+M>f.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}y(on,"checkIEEE754");function jt(f,m,v,M,N){return m=+m,v=v>>>0,N||on(f,m,v,4),n.write(f,m,v,M,23,4),v+4}y(jt,"writeFloat"),a.prototype.writeFloatLE=y(function(f,m,v){return jt(this,f,m,!0,v)},"writeFloatLE"),a.prototype.writeFloatBE=y(function(f,m,v){return jt(this,f,m,!1,v)},"writeFloatBE");function H(f,m,v,M,N){return m=+m,v=v>>>0,N||on(f,m,v,8),n.write(f,m,v,M,52,8),v+8}y(H,"writeDouble"),a.prototype.writeDoubleLE=y(function(f,m,v){return H(this,f,m,!0,v)},"writeDoubleLE"),a.prototype.writeDoubleBE=y(function(f,m,v){return H(this,f,m,!1,v)},"writeDoubleBE"),a.prototype.copy=y(function(f,m,v,M){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(v||(v=0),!M&&M!==0&&(M=this.length),m>=f.length&&(m=f.length),m||(m=0),M>0&&M<v&&(M=v),M===v||f.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),f.length-m<M-v&&(M=f.length-m+v);let N=M-v;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,v,M):Uint8Array.prototype.set.call(f,this.subarray(v,M),m),N},"copy"),a.prototype.fill=y(function(f,m,v,M){if(typeof f=="string"){if(typeof m=="string"?(M=m,m=0,v=this.length):typeof v=="string"&&(M=v,v=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!a.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(f.length===1){let U=f.charCodeAt(0);(M==="utf8"&&U<128||M==="latin1")&&(f=U)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(m<0||this.length<m||this.length<v)throw new RangeError("Out of range index");if(v<=m)return this;m=m>>>0,v=v===void 0?this.length:v>>>0,f||(f=0);let N;if(typeof f=="number")for(N=m;N<v;++N)this[N]=f;else{let U=a.isBuffer(f)?f:a.from(f,M),G=U.length;if(G===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(N=0;N<v-m;++N)this[N+m]=U[N%G]}return this},"fill");var oe={};function re(f,m,v){var M;oe[f]=(M=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(N){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:N,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}},y(M,"NodeError"),M)}y(re,"E"),re("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(f,m){return`The "${f}" argument must be of type number. Received type ${typeof m}`},TypeError),re("ERR_OUT_OF_RANGE",function(f,m,v){let M=`The value of "${f}" is out of range.`,N=v;return Number.isInteger(v)&&Math.abs(v)>2**32?N=se(String(v)):typeof v=="bigint"&&(N=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(N=se(N)),N+="n"),M+=` It must be ${m}. Received ${N}`,M},RangeError);function se(f){let m="",v=f.length,M=f[0]==="-"?1:0;for(;v>=M+4;v-=3)m=`_${f.slice(v-3,v)}${m}`;return`${f.slice(0,v)}${m}`}y(se,"addNumericalSeparator");function Ee(f,m,v){E(m,"offset"),(f[m]===void 0||f[m+v]===void 0)&&A(m,f.length-(v+1))}y(Ee,"checkBounds");function ze(f,m,v,M,N,U){if(f>v||f<m){let G=typeof m=="bigint"?"n":"",Re;throw U>3?m===0||m===BigInt(0)?Re=`>= 0${G} and < 2${G} ** ${(U+1)*8}${G}`:Re=`>= -(2${G} ** ${(U+1)*8-1}${G}) and < 2 ** ${(U+1)*8-1}${G}`:Re=`>= ${m}${G} and <= ${v}${G}`,new oe.ERR_OUT_OF_RANGE("value",Re,f)}Ee(M,N,U)}y(ze,"checkIntBI");function E(f,m){if(typeof f!="number")throw new oe.ERR_INVALID_ARG_TYPE(m,"number",f)}y(E,"validateNumber");function A(f,m,v){throw Math.floor(f)!==f?(E(f,v),new oe.ERR_OUT_OF_RANGE(v||"offset","an integer",f)):m<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${m}`,f)}y(A,"boundsError");var j=/[^+/0-9A-Za-z-_]/g;function K(f){if(f=f.split("=")[0],f=f.trim().replace(j,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}y(K,"base64clean");function z(f,m){m=m||1/0;let v,M=f.length,N=null,U=[];for(let G=0;G<M;++G){if(v=f.charCodeAt(G),v>55295&&v<57344){if(!N){if(v>56319){(m-=3)>-1&&U.push(239,191,189);continue}else if(G+1===M){(m-=3)>-1&&U.push(239,191,189);continue}N=v;continue}if(v<56320){(m-=3)>-1&&U.push(239,191,189),N=v;continue}v=(N-55296<<10|v-56320)+65536}else N&&(m-=3)>-1&&U.push(239,191,189);if(N=null,v<128){if((m-=1)<0)break;U.push(v)}else if(v<2048){if((m-=2)<0)break;U.push(v>>6|192,v&63|128)}else if(v<65536){if((m-=3)<0)break;U.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((m-=4)<0)break;U.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return U}y(z,"utf8ToBytes");function Q(f){let m=[];for(let v=0;v<f.length;++v)m.push(f.charCodeAt(v)&255);return m}y(Q,"asciiToBytes");function ne(f,m){let v,M,N,U=[];for(let G=0;G<f.length&&!((m-=2)<0);++G)v=f.charCodeAt(G),M=v>>8,N=v%256,U.push(N),U.push(M);return U}y(ne,"utf16leToBytes");function ee(f){return e.toByteArray(K(f))}y(ee,"base64ToBytes");function Y(f,m,v,M){let N;for(N=0;N<M&&!(N+v>=m.length||N>=f.length);++N)m[N+v]=f[N];return N}y(Y,"blitBuffer");function q(f,m){return f instanceof m||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===m.name}y(q,"isInstance");function de(f){return f!==f}y(de,"numberIsNaN");var ie=function(){let f="0123456789abcdef",m=new Array(256);for(let v=0;v<16;++v){let M=v*16;for(let N=0;N<16;++N)m[M+N]=f[v]+f[N]}return m}();function ae(f){return typeof BigInt>"u"?me:f}y(ae,"defineBigIntMethod");function me(){throw new Error("BigInt not supported")}y(me,"BufferBigIntNotDefined")}),Os,Zl,dt,ye,Ce,fe=At(()=>{Os=globalThis,Zl=globalThis.setImmediate??(t=>setTimeout(t,0)),dt=globalThis.crypto??{},dt.subtle??(dt.subtle={}),ye=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:$x().Buffer,Ce=globalThis.process??{},Ce.env??(Ce.env={});try{Ce.nextTick(()=>{})}catch{let t=Promise.resolve();Ce.nextTick=t.then.bind(t)}}),Lo=Se((t,e)=>{fe();var n=typeof Reflect=="object"?Reflect:null,o=n&&typeof n.apply=="function"?n.apply:y(function(S,T,B){return Function.prototype.apply.call(S,T,B)},"ReflectApply"),r;n&&typeof n.ownKeys=="function"?r=n.ownKeys:Object.getOwnPropertySymbols?r=y(function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))},"ReflectOwnKeys"):r=y(function(S){return Object.getOwnPropertyNames(S)},"ReflectOwnKeys");function i(S){console&&console.warn&&console.warn(S)}y(i,"ProcessEmitWarning");var s=Number.isNaN||y(function(S){return S!==S},"NumberIsNaN");function a(){a.init.call(this)}y(a,"EventEmitter"),e.exports=a,e.exports.once=C,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function d(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}y(d,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:y(function(){return l},"get"),set:y(function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");l=S},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=y(function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},"setMaxListeners");function c(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}y(c,"_getMaxListeners"),a.prototype.getMaxListeners=y(function(){return c(this)},"getMaxListeners"),a.prototype.emit=y(function(S){for(var T=[],B=1;B<arguments.length;B++)T.push(arguments[B]);var w=S==="error",O=this._events;if(O!==void 0)w=w&&O.error===void 0;else if(!w)return!1;if(w){var I;if(T.length>0&&(I=T[0]),I instanceof Error)throw I;var R=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw R.context=I,R}var F=O[S];if(F===void 0)return!1;if(typeof F=="function")o(F,this,T);else for(var D=F.length,V=x(F,D),B=0;B<D;++B)o(V[B],this,T);return!0},"emit");function u(S,T,B,w){var O,I,R;if(d(B),I=S._events,I===void 0?(I=S._events=Object.create(null),S._eventsCount=0):(I.newListener!==void 0&&(S.emit("newListener",T,B.listener?B.listener:B),I=S._events),R=I[T]),R===void 0)R=I[T]=B,++S._eventsCount;else if(typeof R=="function"?R=I[T]=w?[B,R]:[R,B]:w?R.unshift(B):R.push(B),O=c(S),O>0&&R.length>O&&!R.warned){R.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=S,F.type=T,F.count=R.length,i(F)}return S}y(u,"_addListener"),a.prototype.addListener=y(function(S,T){return u(this,S,T,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=y(function(S,T){return u(this,S,T,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}y(p,"onceWrapper");function b(S,T,B){var w={fired:!1,wrapFn:void 0,target:S,type:T,listener:B},O=p.bind(w);return O.listener=B,w.wrapFn=O,O}y(b,"_onceWrap"),a.prototype.once=y(function(S,T){return d(T),this.on(S,b(this,S,T)),this},"once"),a.prototype.prependOnceListener=y(function(S,T){return d(T),this.prependListener(S,b(this,S,T)),this},"prependOnceListener"),a.prototype.removeListener=y(function(S,T){var B,w,O,I,R;if(d(T),w=this._events,w===void 0)return this;if(B=w[S],B===void 0)return this;if(B===T||B.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete w[S],w.removeListener&&this.emit("removeListener",S,B.listener||T));else if(typeof B!="function"){for(O=-1,I=B.length-1;I>=0;I--)if(B[I]===T||B[I].listener===T){R=B[I].listener,O=I;break}if(O<0)return this;O===0?B.shift():k(B,O),B.length===1&&(w[S]=B[0]),w.removeListener!==void 0&&this.emit("removeListener",S,R||T)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=y(function(S){var T,B,w;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[S]),this;if(arguments.length===0){var O=Object.keys(B),I;for(w=0;w<O.length;++w)I=O[w],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=B[S],typeof T=="function")this.removeListener(S,T);else if(T!==void 0)for(w=T.length-1;w>=0;w--)this.removeListener(S,T[w]);return this},"removeAllListeners");function h(S,T,B){var w=S._events;if(w===void 0)return[];var O=w[T];return O===void 0?[]:typeof O=="function"?B?[O.listener||O]:[O]:B?_(O):x(O,O.length)}y(h,"_listeners"),a.prototype.listeners=y(function(S){return h(this,S,!0)},"listeners"),a.prototype.rawListeners=y(function(S){return h(this,S,!1)},"rawListeners"),a.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):g.call(S,T)},a.prototype.listenerCount=g;function g(S){var T=this._events;if(T!==void 0){var B=T[S];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}y(g,"listenerCount"),a.prototype.eventNames=y(function(){return this._eventsCount>0?r(this._events):[]},"eventNames");function x(S,T){for(var B=new Array(T),w=0;w<T;++w)B[w]=S[w];return B}y(x,"arrayClone");function k(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}y(k,"spliceOne");function _(S){for(var T=new Array(S.length),B=0;B<T.length;++B)T[B]=S[B].listener||S[B];return T}y(_,"unwrapListeners");function C(S,T){return new Promise(function(B,w){function O(R){S.removeListener(T,I),w(R)}y(O,"errorListener");function I(){typeof S.removeListener=="function"&&S.removeListener("error",O),B([].slice.call(arguments))}y(I,"resolver"),P(S,T,I,{once:!0}),T!=="error"&&L(S,O,{once:!0})})}y(C,"once");function L(S,T,B){typeof S.on=="function"&&P(S,"error",T,B)}y(L,"addErrorHandlerIfEventEmitter");function P(S,T,B,w){if(typeof S.on=="function")w.once?S.once(T,B):S.on(T,B);else if(typeof S.addEventListener=="function")S.addEventListener(T,y(function O(I){w.once&&S.removeEventListener(T,O),B(I)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}y(P,"eventTargetAgnosticAddListener")}),ci={};nn(ci,{default:()=>n0});var n0,As=At(()=>{fe(),n0={}});function Nr(t){let e=1779033703,n=3144134277,o=1013904242,r=2773480762,i=1359893119,s=2600822924,a=528734635,l=1541459225,d=0,c=0,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=y((_,C)=>_>>>C|_<<32-C,"rrot"),b=new Uint32Array(64),h=new Uint8Array(64),g=y(()=>{for(let O=0,I=0;O<16;O++,I+=4)b[O]=h[I]<<24|h[I+1]<<16|h[I+2]<<8|h[I+3];for(let O=16;O<64;O++){let I=p(b[O-15],7)^p(b[O-15],18)^b[O-15]>>>3,R=p(b[O-2],17)^p(b[O-2],19)^b[O-2]>>>10;b[O]=b[O-16]+I+b[O-7]+R|0}let _=e,C=n,L=o,P=r,S=i,T=s,B=a,w=l;for(let O=0;O<64;O++){let I=p(S,6)^p(S,11)^p(S,25),R=S&T^~S&B,F=w+I+R+u[O]+b[O]|0,D=p(_,2)^p(_,13)^p(_,22),V=_&C^_&L^C&L,J=D+V|0;w=B,B=T,T=S,S=P+F|0,P=L,L=C,C=_,_=F+J|0}e=e+_|0,n=n+C|0,o=o+L|0,r=r+P|0,i=i+S|0,s=s+T|0,a=a+B|0,l=l+w|0,c=0},"process"),x=y(_=>{typeof _=="string"&&(_=new TextEncoder().encode(_));for(let C=0;C<_.length;C++)h[c++]=_[C],c===64&&g();d+=_.length},"add"),k=y(()=>{if(h[c++]=128,c==64&&g(),c+8>64){for(;c<64;)h[c++]=0;g()}for(;c<58;)h[c++]=0;let _=d*8;h[c++]=_/1099511627776&255,h[c++]=_/4294967296&255,h[c++]=_>>>24,h[c++]=_>>>16&255,h[c++]=_>>>8&255,h[c++]=_&255,g();let C=new Uint8Array(32);return C[0]=e>>>24,C[1]=e>>>16&255,C[2]=e>>>8&255,C[3]=e&255,C[4]=n>>>24,C[5]=n>>>16&255,C[6]=n>>>8&255,C[7]=n&255,C[8]=o>>>24,C[9]=o>>>16&255,C[10]=o>>>8&255,C[11]=o&255,C[12]=r>>>24,C[13]=r>>>16&255,C[14]=r>>>8&255,C[15]=r&255,C[16]=i>>>24,C[17]=i>>>16&255,C[18]=i>>>8&255,C[19]=i&255,C[20]=s>>>24,C[21]=s>>>16&255,C[22]=s>>>8&255,C[23]=s&255,C[24]=a>>>24,C[25]=a>>>16&255,C[26]=a>>>8&255,C[27]=a&255,C[28]=l>>>24,C[29]=l>>>16&255,C[30]=l>>>8&255,C[31]=l&255,C},"digest");return t===void 0?{add:x,digest:k}:(x(t),k())}var Dx=At(()=>{fe(),y(Nr,"sha256")}),Cn,dl,jx=At(()=>{fe(),Cn=class Ht{constructor(){we(this,"_dataLength",0),we(this,"_bufferLength",0),we(this,"_state",new Int32Array(4)),we(this,"_buffer",new ArrayBuffer(68)),we(this,"_buffer8"),we(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,n=!1){return this.onePassHasher.start().appendByteArray(e).end(n)}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){let n=Ht.hexChars,o=Ht.hexOut,r,i,s,a;for(a=0;a<4;a+=1)for(i=a*8,r=e[a],s=0;s<8;s+=2)o[i+1+s]=n.charAt(r&15),r>>>=4,o[i+0+s]=n.charAt(r&15),r>>>=4;return o.join("")}static _md5cycle(e,n){let o=e[0],r=e[1],i=e[2],s=e[3];o+=(r&i|~r&s)+n[0]-680876936|0,o=(o<<7|o>>>25)+r|0,s+=(o&r|~o&i)+n[1]-389564586|0,s=(s<<12|s>>>20)+o|0,i+=(s&o|~s&r)+n[2]+606105819|0,i=(i<<17|i>>>15)+s|0,r+=(i&s|~i&o)+n[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,o+=(r&i|~r&s)+n[4]-176418897|0,o=(o<<7|o>>>25)+r|0,s+=(o&r|~o&i)+n[5]+1200080426|0,s=(s<<12|s>>>20)+o|0,i+=(s&o|~s&r)+n[6]-1473231341|0,i=(i<<17|i>>>15)+s|0,r+=(i&s|~i&o)+n[7]-45705983|0,r=(r<<22|r>>>10)+i|0,o+=(r&i|~r&s)+n[8]+1770035416|0,o=(o<<7|o>>>25)+r|0,s+=(o&r|~o&i)+n[9]-1958414417|0,s=(s<<12|s>>>20)+o|0,i+=(s&o|~s&r)+n[10]-42063|0,i=(i<<17|i>>>15)+s|0,r+=(i&s|~i&o)+n[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,o+=(r&i|~r&s)+n[12]+1804603682|0,o=(o<<7|o>>>25)+r|0,s+=(o&r|~o&i)+n[13]-40341101|0,s=(s<<12|s>>>20)+o|0,i+=(s&o|~s&r)+n[14]-1502002290|0,i=(i<<17|i>>>15)+s|0,r+=(i&s|~i&o)+n[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,o+=(r&s|i&~s)+n[1]-165796510|0,o=(o<<5|o>>>27)+r|0,s+=(o&i|r&~i)+n[6]-1069501632|0,s=(s<<9|s>>>23)+o|0,i+=(s&r|o&~r)+n[11]+643717713|0,i=(i<<14|i>>>18)+s|0,r+=(i&o|s&~o)+n[0]-373897302|0,r=(r<<20|r>>>12)+i|0,o+=(r&s|i&~s)+n[5]-701558691|0,o=(o<<5|o>>>27)+r|0,s+=(o&i|r&~i)+n[10]+38016083|0,s=(s<<9|s>>>23)+o|0,i+=(s&r|o&~r)+n[15]-660478335|0,i=(i<<14|i>>>18)+s|0,r+=(i&o|s&~o)+n[4]-405537848|0,r=(r<<20|r>>>12)+i|0,o+=(r&s|i&~s)+n[9]+568446438|0,o=(o<<5|o>>>27)+r|0,s+=(o&i|r&~i)+n[14]-1019803690|0,s=(s<<9|s>>>23)+o|0,i+=(s&r|o&~r)+n[3]-187363961|0,i=(i<<14|i>>>18)+s|0,r+=(i&o|s&~o)+n[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,o+=(r&s|i&~s)+n[13]-1444681467|0,o=(o<<5|o>>>27)+r|0,s+=(o&i|r&~i)+n[2]-51403784|0,s=(s<<9|s>>>23)+o|0,i+=(s&r|o&~r)+n[7]+1735328473|0,i=(i<<14|i>>>18)+s|0,r+=(i&o|s&~o)+n[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,o+=(r^i^s)+n[5]-378558|0,o=(o<<4|o>>>28)+r|0,s+=(o^r^i)+n[8]-2022574463|0,s=(s<<11|s>>>21)+o|0,i+=(s^o^r)+n[11]+1839030562|0,i=(i<<16|i>>>16)+s|0,r+=(i^s^o)+n[14]-35309556|0,r=(r<<23|r>>>9)+i|0,o+=(r^i^s)+n[1]-1530992060|0,o=(o<<4|o>>>28)+r|0,s+=(o^r^i)+n[4]+1272893353|0,s=(s<<11|s>>>21)+o|0,i+=(s^o^r)+n[7]-155497632|0,i=(i<<16|i>>>16)+s|0,r+=(i^s^o)+n[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,o+=(r^i^s)+n[13]+681279174|0,o=(o<<4|o>>>28)+r|0,s+=(o^r^i)+n[0]-358537222|0,s=(s<<11|s>>>21)+o|0,i+=(s^o^r)+n[3]-722521979|0,i=(i<<16|i>>>16)+s|0,r+=(i^s^o)+n[6]+76029189|0,r=(r<<23|r>>>9)+i|0,o+=(r^i^s)+n[9]-640364487|0,o=(o<<4|o>>>28)+r|0,s+=(o^r^i)+n[12]-421815835|0,s=(s<<11|s>>>21)+o|0,i+=(s^o^r)+n[15]+530742520|0,i=(i<<16|i>>>16)+s|0,r+=(i^s^o)+n[2]-995338651|0,r=(r<<23|r>>>9)+i|0,o+=(i^(r|~s))+n[0]-198630844|0,o=(o<<6|o>>>26)+r|0,s+=(r^(o|~i))+n[7]+1126891415|0,s=(s<<10|s>>>22)+o|0,i+=(o^(s|~r))+n[14]-1416354905|0,i=(i<<15|i>>>17)+s|0,r+=(s^(i|~o))+n[5]-57434055|0,r=(r<<21|r>>>11)+i|0,o+=(i^(r|~s))+n[12]+1700485571|0,o=(o<<6|o>>>26)+r|0,s+=(r^(o|~i))+n[3]-1894986606|0,s=(s<<10|s>>>22)+o|0,i+=(o^(s|~r))+n[10]-1051523|0,i=(i<<15|i>>>17)+s|0,r+=(s^(i|~o))+n[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,o+=(i^(r|~s))+n[8]+1873313359|0,o=(o<<6|o>>>26)+r|0,s+=(r^(o|~i))+n[15]-30611744|0,s=(s<<10|s>>>22)+o|0,i+=(o^(s|~r))+n[6]-1560198380|0,i=(i<<15|i>>>17)+s|0,r+=(s^(i|~o))+n[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,o+=(i^(r|~s))+n[4]-145523070|0,o=(o<<6|o>>>26)+r|0,s+=(r^(o|~i))+n[11]-1120210379|0,s=(s<<10|s>>>22)+o|0,i+=(o^(s|~r))+n[2]+718787259|0,i=(i<<15|i>>>17)+s|0,r+=(s^(i|~o))+n[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=o+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Ht.stateIdentity),this}appendStr(e){let n=this._buffer8,o=this._buffer32,r=this._bufferLength,i,s;for(s=0;s<e.length;s+=1){if(i=e.charCodeAt(s),i<128)n[r++]=i;else if(i<2048)n[r++]=(i>>>6)+192,n[r++]=i&63|128;else if(i<55296||i>56319)n[r++]=(i>>>12)+224,n[r++]=i>>>6&63|128,n[r++]=i&63|128;else{if(i=(i-55296)*1024+(e.charCodeAt(++s)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[r++]=(i>>>18)+240,n[r++]=i>>>12&63|128,n[r++]=i>>>6&63|128,n[r++]=i&63|128}r>=64&&(this._dataLength+=64,Ht._md5cycle(this._state,o),r-=64,o[0]=o[16])}return this._bufferLength=r,this}appendAsciiStr(e){let n=this._buffer8,o=this._buffer32,r=this._bufferLength,i,s=0;for(;;){for(i=Math.min(e.length-s,64-r);i--;)n[r++]=e.charCodeAt(s++);if(r<64)break;this._dataLength+=64,Ht._md5cycle(this._state,o),r=0}return this._bufferLength=r,this}appendByteArray(e){let n=this._buffer8,o=this._buffer32,r=this._bufferLength,i,s=0;for(;;){for(i=Math.min(e.length-s,64-r);i--;)n[r++]=e[s++];if(r<64)break;this._dataLength+=64,Ht._md5cycle(this._state,o),r=0}return this._bufferLength=r,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let n=e.buffer,o=e.state,r=this._state,i;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],i=0;i<n.length;i+=1)this._buffer8[i]=n.charCodeAt(i)}end(e=!1){let n=this._bufferLength,o=this._buffer8,r=this._buffer32,i=(n>>2)+1;this._dataLength+=n;let s=this._dataLength*8;if(o[n]=128,o[n+1]=o[n+2]=o[n+3]=0,r.set(Ht.buffer32Identity.subarray(i),i),n>55&&(Ht._md5cycle(this._state,r),r.set(Ht.buffer32Identity)),s<=4294967295)r[14]=s;else{let a=s.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let l=parseInt(a[2],16),d=parseInt(a[1],16)||0;r[14]=l,r[15]=d}return Ht._md5cycle(this._state,r),e?this._state:Ht._hex(this._state)}},y(Cn,"Md5"),we(Cn,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),we(Cn,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),we(Cn,"hexChars","0123456789abcdef"),we(Cn,"hexOut",[]),we(Cn,"onePassHasher",new Cn),dl=Cn}),Xl={};nn(Xl,{createHash:()=>r0,createHmac:()=>i0,randomBytes:()=>o0});function o0(t){return dt.getRandomValues(ye.alloc(t))}function r0(t){if(t==="sha256")return{update:y(function(e){return{digest:y(function(){return ye.from(Nr(e))},"digest")}},"update")};if(t==="md5")return{update:y(function(e){return{digest:y(function(){return typeof e=="string"?dl.hashStr(e):dl.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function i0(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:y(function(n){return{digest:y(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof n=="string"&&(n=new TextEncoder().encode(n));let o=e.length;if(o>64)e=Nr(e);else if(o<64){let l=new Uint8Array(64);l.set(e),e=l}let r=new Uint8Array(64),i=new Uint8Array(64);for(let l=0;l<64;l++)r[l]=54^e[l],i[l]=92^e[l];let s=new Uint8Array(n.length+64);s.set(r,0),s.set(n,64);let a=new Uint8Array(96);return a.set(i,0),a.set(Nr(s),64),ye.from(Nr(a))},"digest")}},"update")}}var s0=At(()=>{fe(),Dx(),jx(),y(o0,"randomBytes"),y(r0,"createHash"),y(i0,"createHmac")}),a0=Se(t=>{fe(),t.parse=function(r,i){return new n(r,i).parse()};var e=class l0{constructor(i,s){this.source=i,this.transform=s||o,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var i=this.source[this.position++];return i==="\\"?{value:this.source[this.position++],escaped:!0}:{value:i,escaped:!1}}record(i){this.recorded.push(i)}newEntry(i){var s;(this.recorded.length>0||i)&&(s=this.recorded.join(""),s==="NULL"&&!i&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var i=this.nextCharacter();if(i.value==="=")break}}parse(i){var s,a,l;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!l)this.dimension++,this.dimension>1&&(a=new l0(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(s.value==="}"&&!l){if(this.dimension--,!this.dimension&&(this.newEntry(),i))return this.entries}else s.value==='"'&&!s.escaped?(l&&this.newEntry(!0),l=!l):s.value===","&&!l?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};y(e,"ArrayParser");var n=e;function o(r){return r}y(o,"identity")}),c0=Se((t,e)=>{fe();var n=a0();e.exports={create:y(function(o,r){return{parse:y(function(){return n.parse(o,r)},"parse")}},"create")}}),Fx=Se((t,e)=>{fe();var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,o=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,r=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,i=/^-?infinity$/;e.exports=y(function(c){if(i.test(c))return Number(c.replace("i","I"));var u=n.exec(c);if(!u)return s(c)||null;var p=!!u[8],b=parseInt(u[1],10);p&&(b=l(b));var h=parseInt(u[2],10)-1,g=u[3],x=parseInt(u[4],10),k=parseInt(u[5],10),_=parseInt(u[6],10),C=u[7];C=C?1e3*parseFloat(C):0;var L,P=a(c);return P!=null?(L=new Date(Date.UTC(b,h,g,x,k,_,C)),d(b)&&L.setUTCFullYear(b),P!==0&&L.setTime(L.getTime()-P)):(L=new Date(b,h,g,x,k,_,C),d(b)&&L.setFullYear(b)),L},"parseDate");function s(c){var u=o.exec(c);if(u){var p=parseInt(u[1],10),b=!!u[4];b&&(p=l(p));var h=parseInt(u[2],10)-1,g=u[3],x=new Date(p,h,g);return d(p)&&x.setFullYear(p),x}}y(s,"getDate");function a(c){if(c.endsWith("+00"))return 0;var u=r.exec(c.split(" ")[1]);if(u){var p=u[1];if(p==="Z")return 0;var b=p==="-"?-1:1,h=parseInt(u[2],10)*3600+parseInt(u[3]||0,10)*60+parseInt(u[4]||0,10);return h*b*1e3}}y(a,"timeZoneOffset");function l(c){return-(c-1)}y(l,"bcYearToNegativeYear");function d(c){return c>=0&&c<100}y(d,"is0To99")}),Hx=Se((t,e)=>{fe(),e.exports=o;var n=Object.prototype.hasOwnProperty;function o(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)n.call(s,a)&&(r[a]=s[a])}return r}y(o,"extend")}),Ux=Se((t,e)=>{fe();var n=Hx();e.exports=o;function o(_){if(!(this instanceof o))return new o(_);n(this,k(_))}y(o,"PostgresInterval");var r=["seconds","minutes","hours","days","months","years"];o.prototype.toPostgres=function(){var _=r.filter(this.hasOwnProperty,this);return this.milliseconds&&_.indexOf("seconds")<0&&_.push("seconds"),_.length===0?"0":_.map(function(C){var L=this[C]||0;return C==="seconds"&&this.milliseconds&&(L=(L+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),L+" "+C},this).join(" ")};var i={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],a=["hours","minutes","seconds"];o.prototype.toISOString=o.prototype.toISO=function(){var _=s.map(L,this).join(""),C=a.map(L,this).join("");return"P"+_+"T"+C;function L(P){var S=this[P]||0;return P==="seconds"&&this.milliseconds&&(S=(S+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),S+i[P]}};var l="([+-]?\\d+)",d=l+"\\s+years?",c=l+"\\s+mons?",u=l+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",b=new RegExp([d,c,u,p].map(function(_){return"("+_+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},g=["hours","minutes","seconds","milliseconds"];function x(_){var C=_+"000000".slice(_.length);return parseInt(C,10)/1e3}y(x,"parseMilliseconds");function k(_){if(!_)return{};var C=b.exec(_),L=C[8]==="-";return Object.keys(h).reduce(function(P,S){var T=h[S],B=C[T];return!B||(B=S==="milliseconds"?x(B):parseInt(B,10),!B)||(L&&~g.indexOf(S)&&(B*=-1),P[S]=B),P},{})}y(k,"parse")}),Vx=Se((t,e)=>{fe(),e.exports=y(function(n){if(/^\\x/.test(n))return new ye(n.substr(2),"hex");for(var o="",r=0;r<n.length;)if(n[r]!=="\\")o+=n[r],++r;else if(/[0-7]{3}/.test(n.substr(r+1,3)))o+=String.fromCharCode(parseInt(n.substr(r+1,3),8)),r+=4;else{for(var i=1;r+i<n.length&&n[r+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)o+="\\";r+=Math.floor(i/2)*2}return new ye(o,"binary")},"parseBytea")}),zx=Se((t,e)=>{fe();var n=a0(),o=c0(),r=Fx(),i=Ux(),s=Vx();function a(w){return y(function(O){return O===null?O:w(O)},"nullAllowed")}y(a,"allowNull");function l(w){return w===null?w:w==="TRUE"||w==="t"||w==="true"||w==="y"||w==="yes"||w==="on"||w==="1"}y(l,"parseBool");function d(w){return w?n.parse(w,l):null}y(d,"parseBoolArray");function c(w){return parseInt(w,10)}y(c,"parseBaseTenInt");function u(w){return w?n.parse(w,a(c)):null}y(u,"parseIntegerArray");function p(w){return w?n.parse(w,a(function(O){return L(O).trim()})):null}y(p,"parseBigIntegerArray");var b=y(function(w){if(!w)return null;var O=o.create(w,function(I){return I!==null&&(I=S(I)),I});return O.parse()},"parsePointArray"),h=y(function(w){if(!w)return null;var O=o.create(w,function(I){return I!==null&&(I=parseFloat(I)),I});return O.parse()},"parseFloatArray"),g=y(function(w){if(!w)return null;var O=o.create(w);return O.parse()},"parseStringArray"),x=y(function(w){if(!w)return null;var O=o.create(w,function(I){return I!==null&&(I=r(I)),I});return O.parse()},"parseDateArray"),k=y(function(w){if(!w)return null;var O=o.create(w,function(I){return I!==null&&(I=i(I)),I});return O.parse()},"parseIntervalArray"),_=y(function(w){return w?n.parse(w,a(s)):null},"parseByteAArray"),C=y(function(w){return parseInt(w,10)},"parseInteger"),L=y(function(w){var O=String(w);return/^\d+$/.test(O)?O:w},"parseBigInteger"),P=y(function(w){return w?n.parse(w,a(JSON.parse)):null},"parseJsonArray"),S=y(function(w){return w[0]!=="("?null:(w=w.substring(1,w.length-1).split(","),{x:parseFloat(w[0]),y:parseFloat(w[1])})},"parsePoint"),T=y(function(w){if(w[0]!=="<"&&w[1]!=="(")return null;for(var O="(",I="",R=!1,F=2;F<w.length-1;F++){if(R||(O+=w[F]),w[F]===")"){R=!0;continue}else if(!R)continue;w[F]!==","&&(I+=w[F])}var D=S(O);return D.radius=parseFloat(I),D},"parseCircle"),B=y(function(w){w(20,L),w(21,C),w(23,C),w(26,C),w(700,parseFloat),w(701,parseFloat),w(16,l),w(1082,r),w(1114,r),w(1184,r),w(600,S),w(651,g),w(718,T),w(1e3,d),w(1001,_),w(1005,u),w(1007,u),w(1028,u),w(1016,p),w(1017,b),w(1021,h),w(1022,h),w(1231,h),w(1014,g),w(1015,g),w(1008,g),w(1009,g),w(1040,g),w(1041,g),w(1115,x),w(1182,x),w(1185,x),w(1186,i),w(1187,k),w(17,s),w(114,JSON.parse.bind(JSON)),w(3802,JSON.parse.bind(JSON)),w(199,P),w(3807,P),w(3907,g),w(2951,g),w(791,g),w(1183,g),w(1270,g)},"init");e.exports={init:B}}),Wx=Se((t,e)=>{fe();var n=1e6;function o(r){var i=r.readInt32BE(0),s=r.readUInt32BE(4),a="";i<0&&(i=~i+(s===0),s=~s+1>>>0,a="-");var l="",d,c,u,p,b,h;{if(d=i%n,i=i/n>>>0,c=4294967296*d+s,s=c/n>>>0,u=""+(c-n*s),s===0&&i===0)return a+u+l;for(p="",b=6-u.length,h=0;h<b;h++)p+="0";l=p+u+l}{if(d=i%n,i=i/n>>>0,c=4294967296*d+s,s=c/n>>>0,u=""+(c-n*s),s===0&&i===0)return a+u+l;for(p="",b=6-u.length,h=0;h<b;h++)p+="0";l=p+u+l}{if(d=i%n,i=i/n>>>0,c=4294967296*d+s,s=c/n>>>0,u=""+(c-n*s),s===0&&i===0)return a+u+l;for(p="",b=6-u.length,h=0;h<b;h++)p+="0";l=p+u+l}return d=i%n,c=4294967296*d+s,u=""+c%n,a+u+l}y(o,"readInt8"),e.exports=o}),qx=Se((t,e)=>{fe();var n=Wx(),o=y(function(g,x,k,_,C){k=k||0,_=_||!1,C=C||function(R,F,D){return R*Math.pow(2,D)+F};var L=k>>3,P=y(function(R){return _?~R&255:R},"inv"),S=255,T=8-k%8;x<T&&(S=255<<8-x&255,T=x),k&&(S=S>>k%8);var B=0;k%8+x>=8&&(B=C(0,P(g[L])&S,T));for(var w=x+k>>3,O=L+1;O<w;O++)B=C(B,P(g[O]),8);var I=(x+k)%8;return I>0&&(B=C(B,P(g[w])>>8-I,I)),B},"parseBits"),r=y(function(g,x,k){var _=Math.pow(2,k-1)-1,C=o(g,1),L=o(g,k,1);if(L===0)return 0;var P=1,S=y(function(B,w,O){B===0&&(B=1);for(var I=1;I<=O;I++)P/=2,(w&1<<O-I)>0&&(B+=P);return B},"parsePrecisionBits"),T=o(g,x,k+1,!1,S);return L==Math.pow(2,k+1)-1?T===0?C===0?1/0:-1/0:NaN:(C===0?1:-1)*Math.pow(2,L-_)*T},"parseFloatFromBits"),i=y(function(g){return o(g,1)==1?-1*(o(g,15,1,!0)+1):o(g,15,1)},"parseInt16"),s=y(function(g){return o(g,1)==1?-1*(o(g,31,1,!0)+1):o(g,31,1)},"parseInt32"),a=y(function(g){return r(g,23,8)},"parseFloat32"),l=y(function(g){return r(g,52,11)},"parseFloat64"),d=y(function(g){var x=o(g,16,32);if(x==49152)return NaN;for(var k=Math.pow(1e4,o(g,16,16)),_=0,C=[],L=o(g,16),P=0;P<L;P++)_+=o(g,16,64+16*P)*k,k/=1e4;var S=Math.pow(10,o(g,16,48));return(x===0?1:-1)*Math.round(_*S)/S},"parseNumeric"),c=y(function(g,x){var k=o(x,1),_=o(x,63,1),C=new Date((k===0?1:-1)*_/1e3+9466848e5);return g||C.setTime(C.getTime()+C.getTimezoneOffset()*6e4),C.usec=_%1e3,C.getMicroSeconds=function(){return this.usec},C.setMicroSeconds=function(L){this.usec=L},C.getUTCMicroSeconds=function(){return this.usec},C},"parseDate"),u=y(function(g){for(var x=o(g,32),k=o(g,32,32),_=o(g,32,64),C=96,L=[],P=0;P<x;P++)L[P]=o(g,32,C),C+=32,C+=32;var S=y(function(B){var w=o(g,32,C);if(C+=32,w==4294967295)return null;var O;if(B==23||B==20)return O=o(g,w*8,C),C+=w*8,O;if(B==25)return O=g.toString(this.encoding,C>>3,(C+=w<<3)>>3),O;console.log("ERROR: ElementType not implemented: "+B)},"parseElement"),T=y(function(B,w){var O=[],I;if(B.length>1){var R=B.shift();for(I=0;I<R;I++)O[I]=T(B,w);B.unshift(R)}else for(I=0;I<B[0];I++)O[I]=S(w);return O},"parse");return T(L,_)},"parseArray"),p=y(function(g){return g.toString("utf8")},"parseText"),b=y(function(g){return g===null?null:o(g,8)>0},"parseBool"),h=y(function(g){g(20,n),g(21,i),g(23,s),g(26,s),g(1700,d),g(700,a),g(701,l),g(16,b),g(1114,c.bind(null,!1)),g(1184,c.bind(null,!0)),g(1e3,u),g(1007,u),g(1016,u),g(1008,u),g(1009,u),g(25,p)},"init");e.exports={init:h}}),Kx=Se((t,e)=>{fe(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),Bs=Se(t=>{fe();var e=zx(),n=qx(),o=c0(),r=Kx();t.getTypeParser=a,t.setTypeParser=l,t.arrayParser=o,t.builtins=r;var i={text:{},binary:{}};function s(d){return String(d)}y(s,"noParse");function a(d,c){return c=c||"text",i[c]&&i[c][d]||s}y(a,"getTypeParser");function l(d,c,u){typeof c=="function"&&(u=c,c="text"),i[c][d]=u}y(l,"setTypeParser"),e.init(function(d,c){i.text[d]=c}),n.init(function(d,c){i.binary[d]=c})}),Ms=Se((t,e)=>{fe(),e.exports={host:"localhost",user:Ce.platform==="win32"?Ce.env.USERNAME:Ce.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=Bs(),o=n.getTypeParser(20,"text"),r=n.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(i){n.setTypeParser(20,"text",i?n.getTypeParser(23,"text"):o),n.setTypeParser(1016,"text",i?n.getTypeParser(1007,"text"):r)})}),Ps=Se((t,e)=>{fe();var n=(s0(),ct(Xl)),o=Ms();function r(h){var g=h.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+g+'"'}y(r,"escapeElement");function i(h){for(var g="{",x=0;x<h.length;x++)x>0&&(g=g+","),h[x]===null||typeof h[x]>"u"?g=g+"NULL":Array.isArray(h[x])?g=g+i(h[x]):h[x]instanceof ye?g+="\\\\x"+h[x].toString("hex"):g+=r(s(h[x]));return g=g+"}",g}y(i,"arrayString");var s=y(function(h,g){if(h==null)return null;if(h instanceof ye)return h;if(ArrayBuffer.isView(h)){var x=ye.from(h.buffer,h.byteOffset,h.byteLength);return x.length===h.byteLength?x:x.slice(h.byteOffset,h.byteOffset+h.byteLength)}return h instanceof Date?o.parseInputDatesAsUTC?c(h):d(h):Array.isArray(h)?i(h):typeof h=="object"?a(h,g):h.toString()},"prepareValue");function a(h,g){if(h&&typeof h.toPostgres=="function"){if(g=g||[],g.indexOf(h)!==-1)throw new Error('circular reference detected while preparing "'+h+'" for query');return g.push(h),s(h.toPostgres(s),g)}return JSON.stringify(h)}y(a,"prepareObject");function l(h,g){for(h=""+h;h.length<g;)h="0"+h;return h}y(l,"pad");function d(h){var g=-h.getTimezoneOffset(),x=h.getFullYear(),k=x<1;k&&(x=Math.abs(x)+1);var _=l(x,4)+"-"+l(h.getMonth()+1,2)+"-"+l(h.getDate(),2)+"T"+l(h.getHours(),2)+":"+l(h.getMinutes(),2)+":"+l(h.getSeconds(),2)+"."+l(h.getMilliseconds(),3);return g<0?(_+="-",g*=-1):_+="+",_+=l(Math.floor(g/60),2)+":"+l(g%60,2),k&&(_+=" BC"),_}y(d,"dateToString");function c(h){var g=h.getUTCFullYear(),x=g<1;x&&(g=Math.abs(g)+1);var k=l(g,4)+"-"+l(h.getUTCMonth()+1,2)+"-"+l(h.getUTCDate(),2)+"T"+l(h.getUTCHours(),2)+":"+l(h.getUTCMinutes(),2)+":"+l(h.getUTCSeconds(),2)+"."+l(h.getUTCMilliseconds(),3);return k+="+00:00",x&&(k+=" BC"),k}y(c,"dateToStringUTC");function u(h,g,x){return h=typeof h=="string"?{text:h}:h,g&&(typeof g=="function"?h.callback=g:h.values=g),x&&(h.callback=x),h}y(u,"normalizeQueryConfig");var p=y(function(h){return n.createHash("md5").update(h,"utf-8").digest("hex")},"md5"),b=y(function(h,g,x){var k=p(g+h),_=p(ye.concat([ye.from(k),x]));return"md5"+_},"postgresMd5PasswordHash");e.exports={prepareValue:y(function(h){return s(h)},"prepareValueWrapper"),normalizeQueryConfig:u,postgresMd5PasswordHash:b,md5:p}}),Qx=Se((t,e)=>{fe();var n=(s0(),ct(Xl));function o(g){if(g.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let x=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:x,response:"n,,n=*,r="+x,message:"SASLInitialResponse"}}y(o,"startSession");function r(g,x,k){if(g.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof x!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof k!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let _=d(k);if(_.nonce.startsWith(g.clientNonce)){if(_.nonce.length===g.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var C=ye.from(_.salt,"base64"),L=h(x,C,_.iteration),P=b(L,"Client Key"),S=p(P),T="n=*,r="+g.clientNonce,B="r="+_.nonce+",s="+_.salt+",i="+_.iteration,w="c=biws,r="+_.nonce,O=T+","+B+","+w,I=b(S,O),R=u(P,I),F=R.toString("base64"),D=b(L,"Server Key"),V=b(D,O);g.message="SASLResponse",g.serverSignature=V.toString("base64"),g.response=w+",p="+F}y(r,"continueSession");function i(g,x){if(g.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof x!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:k}=c(x);if(k!==g.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}y(i,"finalizeSession");function s(g){if(typeof g!="string")throw new TypeError("SASL: text must be a string");return g.split("").map((x,k)=>g.charCodeAt(k)).every(x=>x>=33&&x<=43||x>=45&&x<=126)}y(s,"isPrintableChars");function a(g){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(g)}y(a,"isBase64");function l(g){if(typeof g!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(g.split(",").map(x=>{if(!/^.=/.test(x))throw new Error("SASL: Invalid attribute pair entry");let k=x[0],_=x.substring(2);return[k,_]}))}y(l,"parseAttributePairs");function d(g){let x=l(g),k=x.get("r");if(k){if(!s(k))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let _=x.get("s");if(_){if(!a(_))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let C=x.get("i");if(C){if(!/^[1-9][0-9]*$/.test(C))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let L=parseInt(C,10);return{nonce:k,salt:_,iteration:L}}y(d,"parseServerFirstMessage");function c(g){let x=l(g).get("v");if(x){if(!a(x))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:x}}y(c,"parseServerFinalMessage");function u(g,x){if(!ye.isBuffer(g))throw new TypeError("first argument must be a Buffer");if(!ye.isBuffer(x))throw new TypeError("second argument must be a Buffer");if(g.length!==x.length)throw new Error("Buffer lengths must match");if(g.length===0)throw new Error("Buffers cannot be empty");return ye.from(g.map((k,_)=>g[_]^x[_]))}y(u,"xorBuffers");function p(g){return n.createHash("sha256").update(g).digest()}y(p,"sha256");function b(g,x){return n.createHmac("sha256",g).update(x).digest()}y(b,"hmacSha256");function h(g,x,k){for(var _=b(g,ye.concat([x,ye.from([0,0,0,1])])),C=_,L=0;L<k-1;L++)_=b(g,_),C=u(C,_);return C}y(h,"Hi"),e.exports={startSession:o,continueSession:r,finalizeSession:i}}),Jl={};nn(Jl,{join:()=>u0});function u0(...t){return t.join("/")}var d0=At(()=>{fe(),y(u0,"join")}),ec={};nn(ec,{stat:()=>f0});function f0(t,e){e(new Error("No filesystem"))}var h0=At(()=>{fe(),y(f0,"stat")}),tc={};nn(tc,{default:()=>p0});var p0,g0=At(()=>{fe(),p0={}}),m0={};nn(m0,{StringDecoder:()=>b0});var wa,b0,Gx=At(()=>{fe(),wa=class{constructor(e){we(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},y(wa,"StringDecoder"),b0=wa}),Yx=Se((t,e)=>{fe();var{Transform:n}=(g0(),ct(tc)),{StringDecoder:o}=(Gx(),ct(m0)),r=Symbol("last"),i=Symbol("decoder");function s(u,p,b){let h;if(this.overflow){if(h=this[i].write(u).split(this.matcher),h.length===1)return b();h.shift(),this.overflow=!1}else this[r]+=this[i].write(u),h=this[r].split(this.matcher);this[r]=h.pop();for(let g=0;g<h.length;g++)try{l(this,this.mapper(h[g]))}catch(x){return b(x)}if(this.overflow=this[r].length>this.maxLength,this.overflow&&!this.skipOverflow){b(new Error("maximum buffer reached"));return}b()}y(s,"transform");function a(u){if(this[r]+=this[i].end(),this[r])try{l(this,this.mapper(this[r]))}catch(p){return u(p)}u()}y(a,"flush");function l(u,p){p!==void 0&&u.push(p)}y(l,"push");function d(u){return u}y(d,"noop");function c(u,p,b){switch(u=u||/\r?\n/,p=p||d,b=b||{},arguments.length){case 1:typeof u=="function"?(p=u,u=/\r?\n/):typeof u=="object"&&!(u instanceof RegExp)&&!u[Symbol.split]&&(b=u,u=/\r?\n/);break;case 2:typeof u=="function"?(b=p,p=u,u=/\r?\n/):typeof p=="object"&&(b=p,p=d)}b=Object.assign({},b),b.autoDestroy=!0,b.transform=s,b.flush=a,b.readableObjectMode=!0;let h=new n(b);return h[r]="",h[i]=new o("utf8"),h.matcher=u,h.mapper=p,h.maxLength=b.maxLength,h.skipOverflow=b.skipOverflow||!1,h.overflow=!1,h._destroy=function(g,x){this._writableState.errorEmitted=!1,x(g)},h}y(c,"split"),e.exports=c}),Zx=Se((t,e)=>{fe();var n=(d0(),ct(Jl)),o=(g0(),ct(tc)).Stream,r=Yx(),i=(As(),ct(ci)),s=5432,a=Ce.platform==="win32",l=Ce.stderr,d=56,c=7,u=61440,p=32768;function b(P){return(P&u)==p}y(b,"isRegFile");var h=["host","port","database","user","password"],g=h.length,x=h[g-1];function k(){var P=l instanceof o&&l.writable===!0;if(P){var S=Array.prototype.slice.call(arguments).concat(`
`);l.write(i.format.apply(i,S))}}y(k,"warn"),Object.defineProperty(e.exports,"isWin",{get:y(function(){return a},"get"),set:y(function(P){a=P},"set")}),e.exports.warnTo=function(P){var S=l;return l=P,S},e.exports.getFileName=function(P){var S=P||Ce.env,T=S.PGPASSFILE||(a?n.join(S.APPDATA||"./","postgresql","pgpass.conf"):n.join(S.HOME||"./",".pgpass"));return T},e.exports.usePgPass=function(P,S){return Object.prototype.hasOwnProperty.call(Ce.env,"PGPASSWORD")?!1:a?!0:(S=S||"<unkn>",b(P.mode)?P.mode&(d|c)?(k('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',S),!1):!0:(k('WARNING: password file "%s" is not a plain file',S),!1))};var _=e.exports.match=function(P,S){return h.slice(0,-1).reduce(function(T,B,w){return w==1&&Number(P[B]||s)===Number(S[B])?T&&!0:T&&(S[B]==="*"||S[B]===P[B])},!0)};e.exports.getPassword=function(P,S,T){var B,w=S.pipe(r());function O(F){var D=C(F);D&&L(D)&&_(P,D)&&(B=D[x],w.end())}y(O,"onLine");var I=y(function(){S.destroy(),T(B)},"onEnd"),R=y(function(F){S.destroy(),k("WARNING: error on reading file: %s",F),T(void 0)},"onErr");S.on("error",R),w.on("data",O).on("end",I).on("error",R)};var C=e.exports.parseLine=function(P){if(P.length<11||P.match(/^\s+#/))return null;for(var S="",T="",B=0,w=0,O=0,I={},R=!1,F=y(function(V,J,Z){var te=P.substring(J,Z);Object.hasOwnProperty.call(Ce.env,"PGPASS_NO_DEESCAPE")||(te=te.replace(/\\([:\\])/g,"$1")),I[h[V]]=te},"addToObj"),D=0;D<P.length-1;D+=1){if(S=P.charAt(D+1),T=P.charAt(D),R=B==g-1,R){F(B,w);break}D>=0&&S==":"&&T!=="\\"&&(F(B,w,D+1),w=D+2,B+=1)}return I=Object.keys(I).length===g?I:null,I},L=e.exports.isValidEntry=function(P){for(var S={0:function(I){return I.length>0},1:function(I){return I==="*"?!0:(I=Number(I),isFinite(I)&&I>0&&I<9007199254740992&&Math.floor(I)===I)},2:function(I){return I.length>0},3:function(I){return I.length>0},4:function(I){return I.length>0}},T=0;T<h.length;T+=1){var B=S[T],w=P[h[T]]||"",O=B(w);if(!O)return!1}return!0}}),Xx=Se((t,e)=>{fe(),d0(),ct(Jl);var n=(h0(),ct(ec)),o=Zx();e.exports=function(r,i){var s=o.getFileName();n.stat(s,function(a,l){if(a||!o.usePgPass(l,s))return i(void 0);var d=n.createReadStream(s);o.getPassword(r,d,i)})},e.exports.warnTo=o.warnTo}),nc=Se((t,e)=>{fe();var n=Bs();function o(r){this._types=r||n,this.text={},this.binary={}}y(o,"TypeOverrides"),o.prototype.getOverrides=function(r){switch(r){case"text":return this.text;case"binary":return this.binary;default:return{}}},o.prototype.setTypeParser=function(r,i,s){typeof i=="function"&&(s=i,i="text"),this.getOverrides(i)[r]=s},o.prototype.getTypeParser=function(r,i){return i=i||"text",this.getOverrides(i)[r]||this._types.getTypeParser(r,i)},e.exports=o}),v0={};nn(v0,{default:()=>y0});var y0,Jx=At(()=>{fe(),y0={}}),x0={};nn(x0,{parse:()=>oc});function oc(t,e=!1){let{protocol:n}=new URL(t),o="http:"+t.substring(n.length),{username:r,password:i,host:s,hostname:a,port:l,pathname:d,search:c,searchParams:u,hash:p}=new URL(o);i=decodeURIComponent(i),r=decodeURIComponent(r),d=decodeURIComponent(d);let b=r+":"+i,h=e?Object.fromEntries(u.entries()):c;return{href:t,protocol:n,auth:b,username:r,password:i,host:s,hostname:a,port:l,pathname:d,search:c,query:h,hash:p}}var w0=At(()=>{fe(),y(oc,"parse")}),ew=Se((t,e)=>{fe();var n=(w0(),ct(x0)),o=(h0(),ct(ec));function r(i){if(i.charAt(0)==="/"){var a=i.split(" ");return{host:a[0],database:a[1]}}var s=n.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(i)?encodeURI(i).replace(/\%25(\d\d)/g,"%$1"):i,!0),a=s.query;for(var l in a)Array.isArray(a[l])&&(a[l]=a[l][a[l].length-1]);var d=(s.auth||":").split(":");if(a.user=d[0],a.password=d.splice(1).join(":"),a.port=s.port,s.protocol=="socket:")return a.host=decodeURI(s.pathname),a.database=s.query.db,a.client_encoding=s.query.encoding,a;a.host||(a.host=s.hostname);var c=s.pathname;if(!a.host&&c&&/^%2f/i.test(c)){var u=c.split("/");a.host=decodeURIComponent(u[0]),c=u.splice(1).join("/")}switch(c&&c.charAt(0)==="/"&&(c=c.slice(1)||null),a.database=c&&decodeURI(c),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=o.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=o.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=o.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}y(r,"parse"),e.exports=r,r.parse=r}),rc=Se((t,e)=>{fe();var n=(Jx(),ct(v0)),o=Ms(),r=ew().parse,i=y(function(u,p,b){return b===void 0?b=Ce.env["PG"+u.toUpperCase()]:b===!1||(b=Ce.env[b]),p[u]||b||o[u]},"val"),s=y(function(){switch(Ce.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return o.ssl},"readSSLConfigFromEnvironment"),a=y(function(u){return"'"+(""+u).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=y(function(u,p,b){var h=p[b];h!=null&&u.push(b+"="+a(h))},"add"),d=class{constructor(p){p=typeof p=="string"?r(p):p||{},p.connectionString&&(p=Object.assign({},p,r(p.connectionString))),this.user=i("user",p),this.database=i("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(i("port",p),10),this.host=i("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:i("password",p)}),this.binary=i("binary",p),this.options=i("options",p),this.ssl=typeof p.ssl>"u"?s():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=i("client_encoding",p),this.replication=i("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=i("application_name",p,"PGAPPNAME"),this.fallback_application_name=i("fallback_application_name",p,!1),this.statement_timeout=i("statement_timeout",p,!1),this.lock_timeout=i("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=i("idle_in_transaction_session_timeout",p,!1),this.query_timeout=i("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=Ce.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var b=[];l(b,this,"user"),l(b,this,"password"),l(b,this,"port"),l(b,this,"application_name"),l(b,this,"fallback_application_name"),l(b,this,"connect_timeout"),l(b,this,"options");var h=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(b,h,"sslmode"),l(b,h,"sslca"),l(b,h,"sslkey"),l(b,h,"sslcert"),l(b,h,"sslrootcert"),this.database&&b.push("dbname="+a(this.database)),this.replication&&b.push("replication="+a(this.replication)),this.host&&b.push("host="+a(this.host)),this.isDomainSocket)return p(null,b.join(" "));this.client_encoding&&b.push("client_encoding="+a(this.client_encoding)),n.lookup(this.host,function(g,x){return g?p(g,null):(b.push("hostaddr="+a(x)),p(null,b.join(" ")))})}};y(d,"ConnectionParameters");var c=d;e.exports=c}),tw=Se((t,e)=>{fe();var n=Bs(),o=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,r=class{constructor(a,l){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=l,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var l;a.text?l=o.exec(a.text):l=o.exec(a.command),l&&(this.command=l[1],l[3]?(this.oid=parseInt(l[2],10),this.rowCount=parseInt(l[3],10)):l[2]&&(this.rowCount=parseInt(l[2],10)))}_parseRowAsArray(a){for(var l=new Array(a.length),d=0,c=a.length;d<c;d++){var u=a[d];u!==null?l[d]=this._parsers[d](u):l[d]=null}return l}parseRow(a){for(var l={},d=0,c=a.length;d<c;d++){var u=a[d],p=this.fields[d].name;u!==null?l[p]=this._parsers[d](u):l[p]=null}return l}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var l=0;l<a.length;l++){var d=a[l];this._types?this._parsers[l]=this._types.getTypeParser(d.dataTypeID,d.format||"text"):this._parsers[l]=n.getTypeParser(d.dataTypeID,d.format||"text")}}};y(r,"Result");var i=r;e.exports=i}),nw=Se((t,e)=>{fe();var{EventEmitter:n}=Lo(),o=tw(),r=Ps(),i=class extends n{constructor(l,d,c){super(),l=r.normalizeQueryConfig(l,d,c),this.text=l.text,this.values=l.values,this.rows=l.rows,this.types=l.types,this.name=l.name,this.binary=l.binary,this.portal=l.portal||"",this.callback=l.callback,this._rowMode=l.rowMode,Ce.domain&&l.callback&&(this.callback=Ce.domain.bind(l.callback)),this._result=new o(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new o(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(l){this._checkForMultirow(),this._result.addFields(l.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(l){let d;if(!this._canceledDueToError){try{d=this._result.parseRow(l.fields)}catch(c){this._canceledDueToError=c;return}this.emit("row",d,this._result),this._accumulateRows&&this._result.addRow(d)}}handleCommandComplete(l,d){this._checkForMultirow(),this._result.addCommandComplete(l),this.rows&&d.sync()}handleEmptyQuery(l){this.rows&&l.sync()}handleError(l,d){if(this._canceledDueToError&&(l=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(l);this.emit("error",l)}handleReadyForQuery(l){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,l);if(this.callback)try{this.callback(null,this._results)}catch(d){Ce.nextTick(()=>{throw d})}this.emit("end",this._results)}submit(l){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let d=l.parsedStatements[this.name];return this.text&&d&&this.text!==d?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(l):l.query(this.text),null)}hasBeenParsed(l){return this.name&&l.parsedStatements[this.name]}handlePortalSuspended(l){this._getRows(l,this.rows)}_getRows(l,d){l.execute({portal:this.portal,rows:d}),d?l.flush():l.sync()}prepare(l){this.isPreparedStatement=!0,this.hasBeenParsed(l)||l.parse({text:this.text,name:this.name,types:this.types});try{l.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:r.prepareValue})}catch(d){this.handleError(d,l);return}l.describe({type:"P",name:this.portal||""}),this._getRows(l,this.rows)}handleCopyInResponse(l){l.sendCopyFail("No source stream defined")}handleCopyData(l,d){}};y(i,"Query");var s=i;e.exports=s}),k0={};nn(k0,{Socket:()=>Ls,isIP:()=>E0});function E0(t){return 0}var ff,ka,kr,Ls,ic=At(()=>{fe(),ff=hr(Lo(),1),y(E0,"isIP"),ka=/^[^.]+\./,kr=class pe extends ff.EventEmitter{constructor(){super(...arguments),we(this,"opts",{}),we(this,"connecting",!1),we(this,"pending",!0),we(this,"writable",!0),we(this,"encrypted",!1),we(this,"authorized",!1),we(this,"destroyed",!1),we(this,"ws",null),we(this,"writeBuffer"),we(this,"tlsState",0),we(this,"tlsRead"),we(this,"tlsWrite")}static get poolQueryViaFetch(){return pe.opts.poolQueryViaFetch??pe.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){pe.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return pe.opts.fetchEndpoint??pe.defaults.fetchEndpoint}static set fetchEndpoint(e){pe.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return pe.opts.fetchFunction??pe.defaults.fetchFunction}static set fetchFunction(e){pe.opts.fetchFunction=e}static get webSocketConstructor(){return pe.opts.webSocketConstructor??pe.defaults.webSocketConstructor}static set webSocketConstructor(e){pe.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??pe.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return pe.opts.wsProxy??pe.defaults.wsProxy}static set wsProxy(e){pe.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??pe.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return pe.opts.coalesceWrites??pe.defaults.coalesceWrites}static set coalesceWrites(e){pe.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??pe.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return pe.opts.useSecureWebSocket??pe.defaults.useSecureWebSocket}static set useSecureWebSocket(e){pe.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??pe.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return pe.opts.forceDisablePgSSL??pe.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){pe.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??pe.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return pe.opts.disableSNI??pe.defaults.disableSNI}static set disableSNI(e){pe.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??pe.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return pe.opts.pipelineConnect??pe.defaults.pipelineConnect}static set pipelineConnect(e){pe.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??pe.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return pe.opts.subtls??pe.defaults.subtls}static set subtls(e){pe.opts.subtls=e}get subtls(){return this.opts.subtls??pe.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return pe.opts.pipelineTLS??pe.defaults.pipelineTLS}static set pipelineTLS(e){pe.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??pe.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return pe.opts.rootCerts??pe.defaults.rootCerts}static set rootCerts(e){pe.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??pe.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,n){let o=this.wsProxy;if(o===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof o=="function"?o(e,n):`${o}?address=${e}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,n,o){this.connecting=!0,o&&this.once("connect",o);let r=y(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=y((a,l=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",d=>{this.emit("error",d),this.emit("close")}),a.addEventListener("message",d=>{if(this.tlsState===0){let c=ye.from(d.data);this.emit("data",c)}}),a.addEventListener("close",()=>{this.emit("close")}),l?r():a.addEventListener("open",r)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(n,typeof e=="string"?parseInt(e,10):e)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),i(this.ws);else try{this.ws=new WebSocket(a),i(this.ws)}catch{this.ws=new __unstable_WebSocket(a),i(this.ws)}}catch(a){let l=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(l,{headers:{Upgrade:"websocket"}}).then(d=>{if(this.ws=d.webSocket,this.ws==null)throw a;this.ws.accept(),i(this.ws,!0)}).catch(d=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${d.message}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let n=this.subtls.TrustedCert.fromPEM(this.rootCerts),o=new this.subtls.WebSocketReadQueue(this.ws),r=o.read.bind(o),i=this.rawWrite.bind(this),[s,a]=await this.subtls.startTls(e,n,r,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let n=ye.from(e);this.emit("data",n)}}}rawWrite(e){if(!this.coalesceWrites){this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(this.writeBuffer.length+e.length);n.set(this.writeBuffer),n.set(e,this.writeBuffer.length),this.writeBuffer=n}}write(e,n="utf8",o=r=>{}){return e.length===0?(o(),!0):(typeof e=="string"&&(e=ye.from(e,n)),this.tlsState===0?(this.rawWrite(e),o()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,n,o)}):(this.tlsWrite(e),o()),!0)}end(e=ye.alloc(0),n="utf8",o=()=>{}){return this.write(e,n,()=>{this.ws.close(),o()}),this}destroy(){return this.destroyed=!0,this.end()}},y(kr,"Socket"),we(kr,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:y((t,e,n)=>{let o;return n!=null&&n.jwtAuth?o=t.replace(ka,"apiauth."):o=t.replace(ka,"api."),"https://"+o+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:y(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),we(kr,"opts",{}),Ls=kr}),_0=Se(t=>{fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(D,V,J){super(D),this.length=V,this.name=J}};y(e,"DatabaseError");var n=e;t.DatabaseError=n;var o=class{constructor(D,V){this.length=D,this.chunk=V,this.name="copyData"}};y(o,"CopyDataMessage");var r=o;t.CopyDataMessage=r;var i=class{constructor(D,V,J,Z){this.length=D,this.name=V,this.binary=J,this.columnTypes=new Array(Z)}};y(i,"CopyResponse");var s=i;t.CopyResponse=s;var a=class{constructor(D,V,J,Z,te,le,Fe){this.name=D,this.tableID=V,this.columnID=J,this.dataTypeID=Z,this.dataTypeSize=te,this.dataTypeModifier=le,this.format=Fe}};y(a,"Field");var l=a;t.Field=l;var d=class{constructor(D,V){this.length=D,this.fieldCount=V,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};y(d,"RowDescriptionMessage");var c=d;t.RowDescriptionMessage=c;var u=class{constructor(D,V){this.length=D,this.parameterCount=V,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};y(u,"ParameterDescriptionMessage");var p=u;t.ParameterDescriptionMessage=p;var b=class{constructor(D,V,J){this.length=D,this.parameterName=V,this.parameterValue=J,this.name="parameterStatus"}};y(b,"ParameterStatusMessage");var h=b;t.ParameterStatusMessage=h;var g=class{constructor(D,V){this.length=D,this.salt=V,this.name="authenticationMD5Password"}};y(g,"AuthenticationMD5Password");var x=g;t.AuthenticationMD5Password=x;var k=class{constructor(D,V,J){this.length=D,this.processID=V,this.secretKey=J,this.name="backendKeyData"}};y(k,"BackendKeyDataMessage");var _=k;t.BackendKeyDataMessage=_;var C=class{constructor(D,V,J,Z){this.length=D,this.processId=V,this.channel=J,this.payload=Z,this.name="notification"}};y(C,"NotificationResponseMessage");var L=C;t.NotificationResponseMessage=L;var P=class{constructor(D,V){this.length=D,this.status=V,this.name="readyForQuery"}};y(P,"ReadyForQueryMessage");var S=P;t.ReadyForQueryMessage=S;var T=class{constructor(D,V){this.length=D,this.text=V,this.name="commandComplete"}};y(T,"CommandCompleteMessage");var B=T;t.CommandCompleteMessage=B;var w=class{constructor(D,V){this.length=D,this.fields=V,this.name="dataRow",this.fieldCount=V.length}};y(w,"DataRowMessage");var O=w;t.DataRowMessage=O;var I=class{constructor(D,V){this.length=D,this.message=V,this.name="notice"}};y(I,"NoticeMessage");var R=I;t.NoticeMessage=R}),ow=Se(t=>{fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(r=256){this.size=r,this.offset=5,this.headerPosition=0,this.buffer=ye.allocUnsafe(r)}ensure(r){var i=this.buffer.length-this.offset;if(i<r){var s=this.buffer,a=s.length+(s.length>>1)+r;this.buffer=ye.allocUnsafe(a),s.copy(this.buffer)}}addInt32(r){return this.ensure(4),this.buffer[this.offset++]=r>>>24&255,this.buffer[this.offset++]=r>>>16&255,this.buffer[this.offset++]=r>>>8&255,this.buffer[this.offset++]=r>>>0&255,this}addInt16(r){return this.ensure(2),this.buffer[this.offset++]=r>>>8&255,this.buffer[this.offset++]=r>>>0&255,this}addCString(r){if(!r)this.ensure(1);else{var i=ye.byteLength(r);this.ensure(i+1),this.buffer.write(r,this.offset,"utf-8"),this.offset+=i}return this.buffer[this.offset++]=0,this}addString(r=""){var i=ye.byteLength(r);return this.ensure(i),this.buffer.write(r,this.offset),this.offset+=i,this}add(r){return this.ensure(r.length),r.copy(this.buffer,this.offset),this.offset+=r.length,this}join(r){if(r){this.buffer[this.headerPosition]=r;let i=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(i,this.headerPosition+1)}return this.buffer.slice(r?0:5,this.offset)}flush(r){var i=this.join(r);return this.offset=5,this.headerPosition=0,this.buffer=ye.allocUnsafe(this.size),i}};y(e,"Writer");var n=e;t.Writer=n}),rw=Se(t=>{fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=ow(),n=new e.Writer,o=y(D=>{n.addInt16(3).addInt16(0);for(let Z of Object.keys(D))n.addCString(Z).addCString(D[Z]);n.addCString("client_encoding").addCString("UTF8");var V=n.addCString("").flush(),J=V.length+4;return new e.Writer().addInt32(J).add(V).flush()},"startup"),r=y(()=>{let D=ye.allocUnsafe(8);return D.writeInt32BE(8,0),D.writeInt32BE(80877103,4),D},"requestSsl"),i=y(D=>n.addCString(D).flush(112),"password"),s=y(function(D,V){return n.addCString(D).addInt32(ye.byteLength(V)).addString(V),n.flush(112)},"sendSASLInitialResponseMessage"),a=y(function(D){return n.addString(D).flush(112)},"sendSCRAMClientFinalMessage"),l=y(D=>n.addCString(D).flush(81),"query"),d=[],c=y(D=>{let V=D.name||"";V.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",V,V.length),console.error("This can cause conflicts and silent errors executing queries"));let J=D.types||d;for(var Z=J.length,te=n.addCString(V).addCString(D.text).addInt16(Z),le=0;le<Z;le++)te.addInt32(J[le]);return n.flush(80)},"parse"),u=new e.Writer,p=y(function(D,V){for(let J=0;J<D.length;J++){let Z=V?V(D[J],J):D[J];Z==null?(n.addInt16(0),u.addInt32(-1)):Z instanceof ye?(n.addInt16(1),u.addInt32(Z.length),u.add(Z)):(n.addInt16(0),u.addInt32(ye.byteLength(Z)),u.addString(Z))}},"writeValues"),b=y((D={})=>{let V=D.portal||"",J=D.statement||"",Z=D.binary||!1,te=D.values||d,le=te.length;return n.addCString(V).addCString(J),n.addInt16(le),p(te,D.valueMapper),n.addInt16(le),n.add(u.flush()),n.addInt16(Z?1:0),n.flush(66)},"bind"),h=ye.from([69,0,0,0,9,0,0,0,0,0]),g=y(D=>{if(!D||!D.portal&&!D.rows)return h;let V=D.portal||"",J=D.rows||0,Z=ye.byteLength(V),te=4+Z+1+4,le=ye.allocUnsafe(1+te);return le[0]=69,le.writeInt32BE(te,1),le.write(V,5,"utf-8"),le[Z+5]=0,le.writeUInt32BE(J,le.length-4),le},"execute"),x=y((D,V)=>{let J=ye.allocUnsafe(16);return J.writeInt32BE(16,0),J.writeInt16BE(1234,4),J.writeInt16BE(5678,6),J.writeInt32BE(D,8),J.writeInt32BE(V,12),J},"cancel"),k=y((D,V)=>{let J=4+ye.byteLength(V)+1,Z=ye.allocUnsafe(1+J);return Z[0]=D,Z.writeInt32BE(J,1),Z.write(V,5,"utf-8"),Z[J]=0,Z},"cstringMessage"),_=n.addCString("P").flush(68),C=n.addCString("S").flush(68),L=y(D=>D.name?k(68,`${D.type}${D.name||""}`):D.type==="P"?_:C,"describe"),P=y(D=>{let V=`${D.type}${D.name||""}`;return k(67,V)},"close"),S=y(D=>n.add(D).flush(100),"copyData"),T=y(D=>k(102,D),"copyFail"),B=y(D=>ye.from([D,0,0,0,4]),"codeOnlyBuffer"),w=B(72),O=B(83),I=B(88),R=B(99),F={startup:o,password:i,requestSsl:r,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:a,query:l,parse:c,bind:b,execute:g,describe:L,close:P,flush:y(()=>w,"flush"),sync:y(()=>O,"sync"),end:y(()=>I,"end"),copyData:S,copyDone:y(()=>R,"copyDone"),copyFail:T,cancel:x};t.serialize=F}),iw=Se(t=>{fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=ye.allocUnsafe(0),n=class{constructor(i=0){this.offset=i,this.buffer=e,this.encoding="utf-8"}setBuffer(i,s){this.offset=i,this.buffer=s}int16(){let i=this.buffer.readInt16BE(this.offset);return this.offset+=2,i}byte(){let i=this.buffer[this.offset];return this.offset++,i}int32(){let i=this.buffer.readInt32BE(this.offset);return this.offset+=4,i}string(i){let s=this.buffer.toString(this.encoding,this.offset,this.offset+i);return this.offset+=i,s}cstring(){let i=this.offset,s=i;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,i,s-1)}bytes(i){let s=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,s}};y(n,"BufferReader");var o=n;t.BufferReader=o}),sw=Se(t=>{fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=_0(),n=iw(),o=1,r=4,i=o+r,s=ye.allocUnsafe(0),a=class{constructor(c){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new n.BufferReader,(c==null?void 0:c.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(c==null?void 0:c.mode)||"text"}parse(c,u){this.mergeBuffer(c);let p=this.bufferOffset+this.bufferLength,b=this.bufferOffset;for(;b+i<=p;){let h=this.buffer[b],g=this.buffer.readUInt32BE(b+o),x=o+g;if(x+b<=p){let k=this.handlePacket(b+i,h,g,this.buffer);u(k),b+=x}else break}b===p?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-b,this.bufferOffset=b)}mergeBuffer(c){if(this.bufferLength>0){let u=this.bufferLength+c.byteLength;if(u+this.bufferOffset>this.buffer.byteLength){let p;if(u<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let b=this.buffer.byteLength*2;for(;u>=b;)b*=2;p=ye.allocUnsafe(b)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}c.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=u}else this.buffer=c,this.bufferOffset=0,this.bufferLength=c.byteLength}handlePacket(c,u,p,b){switch(u){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(c,p,b);case 67:return this.parseCommandCompleteMessage(c,p,b);case 90:return this.parseReadyForQueryMessage(c,p,b);case 65:return this.parseNotificationMessage(c,p,b);case 82:return this.parseAuthenticationResponse(c,p,b);case 83:return this.parseParameterStatusMessage(c,p,b);case 75:return this.parseBackendKeyData(c,p,b);case 69:return this.parseErrorMessage(c,p,b,"error");case 78:return this.parseErrorMessage(c,p,b,"notice");case 84:return this.parseRowDescriptionMessage(c,p,b);case 116:return this.parseParameterDescriptionMessage(c,p,b);case 71:return this.parseCopyInMessage(c,p,b);case 72:return this.parseCopyOutMessage(c,p,b);case 100:return this.parseCopyData(c,p,b);default:return new e.DatabaseError("received invalid response: "+u.toString(16),p,"error")}}parseReadyForQueryMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.string(1);return new e.ReadyForQueryMessage(u,b)}parseCommandCompleteMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.cstring();return new e.CommandCompleteMessage(u,b)}parseCopyData(c,u,p){let b=p.slice(c,c+(u-4));return new e.CopyDataMessage(u,b)}parseCopyInMessage(c,u,p){return this.parseCopyMessage(c,u,p,"copyInResponse")}parseCopyOutMessage(c,u,p){return this.parseCopyMessage(c,u,p,"copyOutResponse")}parseCopyMessage(c,u,p,b){this.reader.setBuffer(c,p);let h=this.reader.byte()!==0,g=this.reader.int16(),x=new e.CopyResponse(u,b,h,g);for(let k=0;k<g;k++)x.columnTypes[k]=this.reader.int16();return x}parseNotificationMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.int32(),h=this.reader.cstring(),g=this.reader.cstring();return new e.NotificationResponseMessage(u,b,h,g)}parseRowDescriptionMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.int16(),h=new e.RowDescriptionMessage(u,b);for(let g=0;g<b;g++)h.fields[g]=this.parseField();return h}parseField(){let c=this.reader.cstring(),u=this.reader.int32(),p=this.reader.int16(),b=this.reader.int32(),h=this.reader.int16(),g=this.reader.int32(),x=this.reader.int16()===0?"text":"binary";return new e.Field(c,u,p,b,h,g,x)}parseParameterDescriptionMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.int16(),h=new e.ParameterDescriptionMessage(u,b);for(let g=0;g<b;g++)h.dataTypeIDs[g]=this.reader.int32();return h}parseDataRowMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.int16(),h=new Array(b);for(let g=0;g<b;g++){let x=this.reader.int32();h[g]=x===-1?null:this.reader.string(x)}return new e.DataRowMessage(u,h)}parseParameterStatusMessage(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.cstring(),h=this.reader.cstring();return new e.ParameterStatusMessage(u,b,h)}parseBackendKeyData(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.int32(),h=this.reader.int32();return new e.BackendKeyDataMessage(u,b,h)}parseAuthenticationResponse(c,u,p){this.reader.setBuffer(c,p);let b=this.reader.int32(),h={name:"authenticationOk",length:u};switch(b){case 0:break;case 3:h.length===8&&(h.name="authenticationCleartextPassword");break;case 5:if(h.length===12){h.name="authenticationMD5Password";let x=this.reader.bytes(4);return new e.AuthenticationMD5Password(u,x)}break;case 10:h.name="authenticationSASL",h.mechanisms=[];let g;do g=this.reader.cstring(),g&&h.mechanisms.push(g);while(g);break;case 11:h.name="authenticationSASLContinue",h.data=this.reader.string(u-8);break;case 12:h.name="authenticationSASLFinal",h.data=this.reader.string(u-8);break;default:throw new Error("Unknown authenticationOk message type "+b)}return h}parseErrorMessage(c,u,p,b){this.reader.setBuffer(c,p);let h={},g=this.reader.string(1);for(;g!=="\0";)h[g]=this.reader.cstring(),g=this.reader.string(1);let x=h.M,k=b==="notice"?new e.NoticeMessage(u,x):new e.DatabaseError(x,u,b);return k.severity=h.S,k.code=h.C,k.detail=h.D,k.hint=h.H,k.position=h.P,k.internalPosition=h.p,k.internalQuery=h.q,k.where=h.W,k.schema=h.s,k.table=h.t,k.column=h.c,k.dataType=h.d,k.constraint=h.n,k.file=h.F,k.line=h.L,k.routine=h.R,k}};y(a,"Parser");var l=a;t.Parser=l}),C0=Se(t=>{fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=_0();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:y(function(){return e.DatabaseError},"get")});var n=rw();Object.defineProperty(t,"serialize",{enumerable:!0,get:y(function(){return n.serialize},"get")});var o=sw();function r(i,s){let a=new o.Parser;return i.on("data",l=>a.parse(l,s)),new Promise(l=>i.on("end",()=>l()))}y(r,"parse"),t.parse=r}),S0={};nn(S0,{connect:()=>T0});function T0({socket:t,servername:e}){return t.startTls(e),t}var aw=At(()=>{fe(),y(T0,"connect")}),I0=Se((t,e)=>{fe();var n=(ic(),ct(k0)),o=Lo().EventEmitter,{parse:r,serialize:i}=C0(),s=i.flush(),a=i.sync(),l=i.end(),d=class extends o{constructor(p){super(),p=p||{},this.stream=p.stream||new n.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var b=this;this.on("newListener",function(h){h==="message"&&(b._emitMessage=!0)})}connect(p,b){var h=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,b),this.stream.once("connect",function(){h._keepAlive&&h.stream.setKeepAlive(!0,h._keepAliveInitialDelayMillis),h.emit("connect")});let g=y(function(x){h._ending&&(x.code==="ECONNRESET"||x.code==="EPIPE")||h.emit("error",x)},"reportStreamError");if(this.stream.on("error",g),this.stream.on("close",function(){h.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(x){var k=x.toString("utf8");switch(k){case"S":break;case"N":return h.stream.end(),h.emit("error",new Error("The server does not support SSL connections"));default:return h.stream.end(),h.emit("error",new Error("There was an error establishing an SSL connection"))}var _=(aw(),ct(S0));let C={socket:h.stream};h.ssl!==!0&&(Object.assign(C,h.ssl),"key"in h.ssl&&(C.key=h.ssl.key)),n.isIP(b)===0&&(C.servername=b);try{h.stream=_.connect(C)}catch(L){return h.emit("error",L)}h.attachListeners(h.stream),h.stream.on("error",g),h.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),r(p,b=>{var h=b.name==="error"?"errorMessage":b.name;this._emitMessage&&this.emit("message",b),this.emit(h,b)})}requestSsl(){this.stream.write(i.requestSsl())}startup(p){this.stream.write(i.startup(p))}cancel(p,b){this._send(i.cancel(p,b))}password(p){this._send(i.password(p))}sendSASLInitialResponseMessage(p,b){this._send(i.sendSASLInitialResponseMessage(p,b))}sendSCRAMClientFinalMessage(p){this._send(i.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(i.query(p))}parse(p){this._send(i.parse(p))}bind(p){this._send(i.bind(p))}execute(p){this._send(i.execute(p))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(p){this._send(i.close(p))}describe(p){this._send(i.describe(p))}sendCopyFromChunk(p){this._send(i.copyData(p))}endCopyFrom(){this._send(i.copyDone())}sendCopyFail(p){this._send(i.copyFail(p))}};y(d,"Connection");var c=d;e.exports=c}),lw=Se((t,e)=>{fe();var n=Lo().EventEmitter;As(),ct(ci);var o=Ps(),r=Qx(),i=Xx(),s=nc(),a=rc(),l=nw(),d=Ms(),c=I0(),u=class extends n{constructor(h){super(),this.connectionParameters=new a(h),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var g=h||{};this._Promise=g.Promise||Os.Promise,this._types=new s(g.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=g.connection||new c({stream:g.stream,ssl:this.connectionParameters.ssl,keepAlive:g.keepAlive||!1,keepAliveInitialDelayMillis:g.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=g.binary||d.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=g.connectionTimeoutMillis||0}_errorAllQueries(h){let g=y(x=>{Ce.nextTick(()=>{x.handleError(h,this.connection)})},"enqueueError");this.activeQuery&&(g(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(g),this.queryQueue.length=0}_connect(h){var g=this,x=this.connection;if(this._connectionCallback=h,this._connecting||this._connected){let k=new Error("Client has already been connected. You cannot reuse a client.");Ce.nextTick(()=>{h(k)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{x._ending=!0,x.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?x.connect(this.host+"/.s.PGSQL."+this.port):x.connect(this.port,this.host),x.on("connect",function(){g.ssl?x.requestSsl():x.startup(g.getStartupConf())}),x.on("sslconnect",function(){x.startup(g.getStartupConf())}),this._attachListeners(x),x.once("end",()=>{let k=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(k),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(k):this._handleErrorEvent(k):this._connectionError||this._handleErrorEvent(k)),Ce.nextTick(()=>{this.emit("end")})})}connect(h){if(h){this._connect(h);return}return new this._Promise((g,x)=>{this._connect(k=>{k?x(k):g()})})}_attachListeners(h){h.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),h.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),h.on("authenticationSASL",this._handleAuthSASL.bind(this)),h.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),h.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),h.on("backendKeyData",this._handleBackendKeyData.bind(this)),h.on("error",this._handleErrorEvent.bind(this)),h.on("errorMessage",this._handleErrorMessage.bind(this)),h.on("readyForQuery",this._handleReadyForQuery.bind(this)),h.on("notice",this._handleNotice.bind(this)),h.on("rowDescription",this._handleRowDescription.bind(this)),h.on("dataRow",this._handleDataRow.bind(this)),h.on("portalSuspended",this._handlePortalSuspended.bind(this)),h.on("emptyQuery",this._handleEmptyQuery.bind(this)),h.on("commandComplete",this._handleCommandComplete.bind(this)),h.on("parseComplete",this._handleParseComplete.bind(this)),h.on("copyInResponse",this._handleCopyInResponse.bind(this)),h.on("copyData",this._handleCopyData.bind(this)),h.on("notification",this._handleNotification.bind(this))}_checkPgPass(h){let g=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(x=>{if(x!==void 0){if(typeof x!="string"){g.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=x}else this.connectionParameters.password=this.password=null;h()}).catch(x=>{g.emit("error",x)}):this.password!==null?h():i(this.connectionParameters,x=>{x!==void 0&&(this.connectionParameters.password=this.password=x),h()})}_handleAuthCleartextPassword(h){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(h){this._checkPgPass(()=>{let g=o.postgresMd5PasswordHash(this.user,this.password,h.salt);this.connection.password(g)})}_handleAuthSASL(h){this._checkPgPass(()=>{this.saslSession=r.startSession(h.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(h){r.continueSession(this.saslSession,this.password,h.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(h){r.finalizeSession(this.saslSession,h.data),this.saslSession=null}_handleBackendKeyData(h){this.processID=h.processID,this.secretKey=h.secretKey}_handleReadyForQuery(h){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:g}=this;this.activeQuery=null,this.readyForQuery=!0,g&&g.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(h){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(h);this.emit("error",h)}}_handleErrorEvent(h){if(this._connecting)return this._handleErrorWhileConnecting(h);this._queryable=!1,this._errorAllQueries(h),this.emit("error",h)}_handleErrorMessage(h){if(this._connecting)return this._handleErrorWhileConnecting(h);let g=this.activeQuery;if(!g){this._handleErrorEvent(h);return}this.activeQuery=null,g.handleError(h,this.connection)}_handleRowDescription(h){this.activeQuery.handleRowDescription(h)}_handleDataRow(h){this.activeQuery.handleDataRow(h)}_handlePortalSuspended(h){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(h){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(h){this.activeQuery.handleCommandComplete(h,this.connection)}_handleParseComplete(h){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(h){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(h){this.activeQuery.handleCopyData(h,this.connection)}_handleNotification(h){this.emit("notification",h)}_handleNotice(h){this.emit("notice",h)}getStartupConf(){var h=this.connectionParameters,g={user:h.user,database:h.database},x=h.application_name||h.fallback_application_name;return x&&(g.application_name=x),h.replication&&(g.replication=""+h.replication),h.statement_timeout&&(g.statement_timeout=String(parseInt(h.statement_timeout,10))),h.lock_timeout&&(g.lock_timeout=String(parseInt(h.lock_timeout,10))),h.idle_in_transaction_session_timeout&&(g.idle_in_transaction_session_timeout=String(parseInt(h.idle_in_transaction_session_timeout,10))),h.options&&(g.options=h.options),g}cancel(h,g){if(h.activeQuery===g){var x=this.connection;this.host&&this.host.indexOf("/")===0?x.connect(this.host+"/.s.PGSQL."+this.port):x.connect(this.port,this.host),x.on("connect",function(){x.cancel(h.processID,h.secretKey)})}else h.queryQueue.indexOf(g)!==-1&&h.queryQueue.splice(h.queryQueue.indexOf(g),1)}setTypeParser(h,g,x){return this._types.setTypeParser(h,g,x)}getTypeParser(h,g){return this._types.getTypeParser(h,g)}escapeIdentifier(h){return'"'+h.replace(/"/g,'""')+'"'}escapeLiteral(h){for(var g=!1,x="'",k=0;k<h.length;k++){var _=h[k];_==="'"?x+=_+_:_==="\\"?(x+=_+_,g=!0):x+=_}return x+="'",g===!0&&(x=" E"+x),x}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let h=this.activeQuery.submit(this.connection);h&&Ce.nextTick(()=>{this.activeQuery.handleError(h,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(h,g,x){var k,_,C,L,P;if(h==null)throw new TypeError("Client was passed a null or undefined query");return typeof h.submit=="function"?(C=h.query_timeout||this.connectionParameters.query_timeout,_=k=h,typeof g=="function"&&(k.callback=k.callback||g)):(C=this.connectionParameters.query_timeout,k=new l(h,g,x),k.callback||(_=new this._Promise((S,T)=>{k.callback=(B,w)=>B?T(B):S(w)}))),C&&(P=k.callback,L=setTimeout(()=>{var S=new Error("Query read timeout");Ce.nextTick(()=>{k.handleError(S,this.connection)}),P(S),k.callback=()=>{};var T=this.queryQueue.indexOf(k);T>-1&&this.queryQueue.splice(T,1),this._pulseQueryQueue()},C),k.callback=(S,T)=>{clearTimeout(L),P(S,T)}),this.binary&&!k.binary&&(k.binary=!0),k._result&&!k._result._types&&(k._result._types=this._types),this._queryable?this._ending?(Ce.nextTick(()=>{k.handleError(new Error("Client was closed and is not queryable"),this.connection)}),_):(this.queryQueue.push(k),this._pulseQueryQueue(),_):(Ce.nextTick(()=>{k.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),_)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(h){if(this._ending=!0,!this.connection._connecting)if(h)h();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),h)this.connection.once("end",h);else return new this._Promise(g=>{this.connection.once("end",g)})}};y(u,"Client");var p=u;p.Query=l,e.exports=p}),cw=Se((t,e)=>{fe();var n=Lo().EventEmitter,o=y(function(){},"NOOP"),r=y((h,g)=>{let x=h.findIndex(g);return x===-1?void 0:h.splice(x,1)[0]},"removeWhere"),i=class{constructor(g,x,k){this.client=g,this.idleListener=x,this.timeoutId=k}};y(i,"IdleItem");var s=i,a=class{constructor(g){this.callback=g}};y(a,"PendingItem");var l=a;function d(){throw new Error("Release called on client which has already been released to the pool.")}y(d,"throwOnDoubleRelease");function c(h,g){if(g)return{callback:g,result:void 0};let x,k,_=y(function(L,P){L?x(L):k(P)},"cb"),C=new h(function(L,P){k=L,x=P}).catch(L=>{throw Error.captureStackTrace(L),L});return{callback:_,result:C}}y(c,"promisify");function u(h,g){return y(function x(k){k.client=g,g.removeListener("error",x),g.on("error",()=>{h.log("additional client error after disconnection due to error",k)}),h._remove(g),h.emit("error",k,g)},"idleListener")}y(u,"makeIdleListener");var p=class extends n{constructor(g,x){super(),this.options=Object.assign({},g),g!=null&&"password"in g&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:g.password}),g!=null&&g.ssl&&g.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||x||sc().Client,this.Promise=this.options.Promise||Os.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(x=>{this._remove(x.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let g=this._pendingQueue.shift();if(this._idle.length){let x=this._idle.pop();clearTimeout(x.timeoutId);let k=x.client;k.ref&&k.ref();let _=x.idleListener;return this._acquireClient(k,g,_,!1)}if(!this._isFull())return this.newClient(g);throw new Error("unexpected condition")}_remove(g){let x=r(this._idle,k=>k.client===g);x!==void 0&&clearTimeout(x.timeoutId),this._clients=this._clients.filter(k=>k!==g),g.end(),this.emit("remove",g)}connect(g){if(this.ending){let _=new Error("Cannot use a pool after calling end on the pool");return g?g(_):this.Promise.reject(_)}let x=c(this.Promise,g),k=x.result;if(this._isFull()||this._idle.length){if(this._idle.length&&Ce.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(x.callback)),k;let _=y((P,S,T)=>{clearTimeout(L),x.callback(P,S,T)},"queueCallback"),C=new l(_),L=setTimeout(()=>{r(this._pendingQueue,P=>P.callback===_),C.timedOut=!0,x.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(C),k}return this.newClient(new l(x.callback)),k}newClient(g){let x=new this.Client(this.options);this._clients.push(x);let k=u(this,x);this.log("checking client timeout");let _,C=!1;this.options.connectionTimeoutMillis&&(_=setTimeout(()=>{this.log("ending client due to timeout"),C=!0,x.connection?x.connection.stream.destroy():x.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),x.connect(L=>{if(_&&clearTimeout(_),x.on("error",k),L)this.log("client failed to connect",L),this._clients=this._clients.filter(P=>P!==x),C&&(L.message="Connection terminated due to connection timeout"),this._pulseQueue(),g.timedOut||g.callback(L,void 0,o);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let P=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(x),this._idle.findIndex(S=>S.client===x)!==-1&&this._acquireClient(x,new l((S,T,B)=>B()),k,!1)},this.options.maxLifetimeSeconds*1e3);P.unref(),x.once("end",()=>clearTimeout(P))}return this._acquireClient(x,g,k,!0)}})}_acquireClient(g,x,k,_){_&&this.emit("connect",g),this.emit("acquire",g),g.release=this._releaseOnce(g,k),g.removeListener("error",k),x.timedOut?_&&this.options.verify?this.options.verify(g,g.release):g.release():_&&this.options.verify?this.options.verify(g,C=>{if(C)return g.release(C),x.callback(C,void 0,o);x.callback(void 0,g,g.release)}):x.callback(void 0,g,g.release)}_releaseOnce(g,x){let k=!1;return _=>{k&&d(),k=!0,this._release(g,x,_)}}_release(g,x,k){if(g.on("error",x),g._poolUseCount=(g._poolUseCount||0)+1,this.emit("release",k,g),k||this.ending||!g._queryable||g._ending||g._poolUseCount>=this.options.maxUses){g._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(g),this._pulseQueue();return}if(this._expired.has(g)){this.log("remove expired client"),this._expired.delete(g),this._remove(g),this._pulseQueue();return}let _;this.options.idleTimeoutMillis&&(_=setTimeout(()=>{this.log("remove idle client"),this._remove(g)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&_.unref()),this.options.allowExitOnIdle&&g.unref(),this._idle.push(new s(g,x,_)),this._pulseQueue()}query(g,x,k){if(typeof g=="function"){let C=c(this.Promise,g);return Zl(function(){return C.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),C.result}typeof x=="function"&&(k=x,x=void 0);let _=c(this.Promise,k);return k=_.callback,this.connect((C,L)=>{if(C)return k(C);let P=!1,S=y(T=>{P||(P=!0,L.release(T),k(T))},"onError");L.once("error",S),this.log("dispatching query");try{L.query(g,x,(T,B)=>{if(this.log("query dispatched"),L.removeListener("error",S),!P)return P=!0,L.release(T),T?k(T):k(void 0,B)})}catch(T){return L.release(T),k(T)}}),_.result}end(g){if(this.log("ending"),this.ending){let k=new Error("Called end on pool more than once");return g?g(k):this.Promise.reject(k)}this.ending=!0;let x=c(this.Promise,g);return this._endCallback=x.callback,this._pulseQueue(),x.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((g,x)=>g+(this._expired.has(x)?1:0),0)}get totalCount(){return this._clients.length}};y(p,"Pool");var b=p;e.exports=b}),O0={};nn(O0,{default:()=>A0});var A0,uw=At(()=>{fe(),A0={}}),dw=Se((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),fw=Se((t,e)=>{fe();var n=Lo().EventEmitter,o=(As(),ct(ci)),r=Ps(),i=e.exports=function(a,l,d){n.call(this),a=r.normalizeQueryConfig(a,l,d),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(c){c==="row"&&(this._emitRowEvents=!0)}).bind(this))};o.inherits(i,n);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};i.prototype.handleError=function(a){var l=this.native.pq.resultErrorFields();if(l)for(var d in l){var c=s[d]||d;a[c]=l[d]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},i.prototype.then=function(a,l){return this._getPromise().then(a,l)},i.prototype.catch=function(a){return this._getPromise().catch(a)},i.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(a,l){this._once("end",a),this._once("error",l)}).bind(this)),this._promise)},i.prototype.submit=function(a){this.state="running";var l=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var d=y(function(p,b,h){if(a.native.arrayMode=!1,Zl(function(){l.emit("_done")}),p)return l.handleError(p);l._emitRowEvents&&(h.length>1?b.forEach((g,x)=>{g.forEach(k=>{l.emit("row",k,h[x])})}):b.forEach(function(g){l.emit("row",g,h)})),l.state="end",l.emit("end",h),l.callback&&l.callback(null,h)},"after");if(Ce.domain&&(d=Ce.domain.bind(d)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var c=(this.values||[]).map(r.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return d(p)}return a.native.execute(this.name,c,d)}return a.native.prepare(this.name,this.text,c.length,function(p){return p?d(p):(a.namedQueries[l.name]=l.text,l.native.execute(l.name,c,d))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return d(p)}var u=this.values.map(r.prepareValue);a.native.query(this.text,u,d)}else a.native.query(this.text,d)}}),hw=Se((t,e)=>{fe();var n=(uw(),ct(O0)),o=nc();dw();var r=Lo().EventEmitter,i=(As(),ct(ci)),s=rc(),a=fw(),l=e.exports=function(d){r.call(this),d=d||{},this._Promise=d.Promise||Os.Promise,this._types=new o(d.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var c=this.connectionParameters=new s(d);this.user=c.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:c.password}),this.database=c.database,this.host=c.host,this.port=c.port,this.namedQueries={}};l.Query=a,i.inherits(l,r),l.prototype._errorAllQueries=function(d){let c=y(u=>{Ce.nextTick(()=>{u.native=this.native,u.handleError(d)})},"enqueueError");this._hasActiveQuery()&&(c(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(c),this._queryQueue.length=0},l.prototype._connect=function(d){var c=this;if(this._connecting){Ce.nextTick(()=>d(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(u,p){if(u)return d(u);c.native.connect(p,function(b){if(b)return c.native.end(),d(b);c._connected=!0,c.native.on("error",function(h){c._queryable=!1,c._errorAllQueries(h),c.emit("error",h)}),c.native.on("notification",function(h){c.emit("notification",{channel:h.relname,payload:h.extra})}),c.emit("connect"),c._pulseQueryQueue(!0),d()})})},l.prototype.connect=function(d){if(d){this._connect(d);return}return new this._Promise((c,u)=>{this._connect(p=>{p?u(p):c()})})},l.prototype.query=function(d,c,u){var p,b,h,g,x;if(d==null)throw new TypeError("Client was passed a null or undefined query");if(typeof d.submit=="function")h=d.query_timeout||this.connectionParameters.query_timeout,b=p=d,typeof c=="function"&&(d.callback=c);else if(h=this.connectionParameters.query_timeout,p=new a(d,c,u),!p.callback){let k,_;b=new this._Promise((C,L)=>{k=C,_=L}),p.callback=(C,L)=>C?_(C):k(L)}return h&&(x=p.callback,g=setTimeout(()=>{var k=new Error("Query read timeout");Ce.nextTick(()=>{p.handleError(k,this.connection)}),x(k),p.callback=()=>{};var _=this._queryQueue.indexOf(p);_>-1&&this._queryQueue.splice(_,1),this._pulseQueryQueue()},h),p.callback=(k,_)=>{clearTimeout(g),x(k,_)}),this._queryable?this._ending?(p.native=this.native,Ce.nextTick(()=>{p.handleError(new Error("Client was closed and is not queryable"))}),b):(this._queryQueue.push(p),this._pulseQueryQueue(),b):(p.native=this.native,Ce.nextTick(()=>{p.handleError(new Error("Client has encountered a connection error and is not queryable"))}),b)},l.prototype.end=function(d){var c=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,d));var u;return d||(u=new this._Promise(function(p,b){d=y(h=>h?b(h):p(),"cb")})),this.native.end(function(){c._errorAllQueries(new Error("Connection terminated")),Ce.nextTick(()=>{c.emit("end"),d&&d()})}),u},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(d){if(this._connected&&!this._hasActiveQuery()){var c=this._queryQueue.shift();if(!c){d||this.emit("drain");return}this._activeQuery=c,c.submit(this);var u=this;c.once("_done",function(){u._pulseQueryQueue()})}},l.prototype.cancel=function(d){this._activeQuery===d?this.native.cancel(function(){}):this._queryQueue.indexOf(d)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(d),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(d,c,u){return this._types.setTypeParser(d,c,u)},l.prototype.getTypeParser=function(d,c){return this._types.getTypeParser(d,c)}}),hf=Se((t,e)=>{fe(),e.exports=hw()}),sc=Se((t,e)=>{fe();var n=lw(),o=Ms(),r=I0(),i=cw(),{DatabaseError:s}=C0(),a=y(d=>{var c;return c=class extends i{constructor(u){super(u,d)}},y(c,"BoundPool"),c},"poolFactory"),l=y(function(d){this.defaults=o,this.Client=d,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=r,this.types=Bs(),this.DatabaseError=s},"PG");typeof Ce.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new l(hf()):(e.exports=new l(n),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var d=null;try{d=new l(hf())}catch(c){if(c.code!=="MODULE_NOT_FOUND")throw c}return Object.defineProperty(e.exports,"native",{value:d}),d}}))});fe();var B0=hr(sc());ic();fe();ic();w0();var pw=hr(Ps()),gw=hr(nc());function M0(t){return t instanceof ye?"\\x"+t.toString("hex"):t}y(M0,"encodeBuffersAsBytea");var P0=class L0 extends Error{constructor(e){super(e),we(this,"name","NeonDbError"),we(this,"severity"),we(this,"code"),we(this,"detail"),we(this,"hint"),we(this,"position"),we(this,"internalPosition"),we(this,"internalQuery"),we(this,"where"),we(this,"schema"),we(this,"table"),we(this,"column"),we(this,"dataType"),we(this,"constraint"),we(this,"file"),we(this,"line"),we(this,"routine"),we(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,L0)}};y(P0,"NeonDbError");var er=P0,pf="transaction() expects an array of queries, or a function returning an array of queries",mw=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function Rs(t,{arrayMode:e,fullResults:n,fetchOptions:o,isolationLevel:r,readOnly:i,deferrable:s,queryCallback:a,resultCallback:l,authToken:d}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let c;try{c=oc(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:u,username:p,hostname:b,port:h,pathname:g}=c;if(u!=="postgres:"&&u!=="postgresql:"||!p||!b||!g)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function x(_,...C){let L,P;if(typeof _=="string")L=_,P=C[1],C=C[0]??[];else{L="";for(let T=0;T<_.length;T++)L+=_[T],T<C.length&&(L+="$"+(T+1))}C=C.map(T=>M0((0,pw.prepareValue)(T)));let S={query:L,params:C};return a&&a(S),R0(k,S,P)}y(x,"resolve"),x.transaction=async(_,C)=>{if(typeof _=="function"&&(_=_(x)),!Array.isArray(_))throw new Error(pf);_.forEach(S=>{if(S[Symbol.toStringTag]!=="NeonQueryPromise")throw new Error(pf)});let L=_.map(S=>S.parameterizedQuery),P=_.map(S=>S.opts??{});return k(L,P,C)};async function k(_,C,L){let{fetchEndpoint:P,fetchFunction:S}=Ls,T=Array.isArray(_)?{queries:_}:_,B=o??{},w=e??!1,O=n??!1,I=r,R=i,F=s;L!==void 0&&(L.fetchOptions!==void 0&&(B={...B,...L.fetchOptions}),L.arrayMode!==void 0&&(w=L.arrayMode),L.fullResults!==void 0&&(O=L.fullResults),L.isolationLevel!==void 0&&(I=L.isolationLevel),L.readOnly!==void 0&&(R=L.readOnly),L.deferrable!==void 0&&(F=L.deferrable)),C!==void 0&&!Array.isArray(C)&&C.fetchOptions!==void 0&&(B={...B,...C.fetchOptions});let D=d;!Array.isArray(C)&&(C==null?void 0:C.authToken)!==void 0&&(D=C.authToken);let V=typeof P=="function"?P(b,h,{jwtAuth:D!==void 0}):P,J={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},Z=await N0(D);Z&&(J.Authorization=`Bearer ${Z}`),Array.isArray(_)&&(I!==void 0&&(J["Neon-Batch-Isolation-Level"]=I),R!==void 0&&(J["Neon-Batch-Read-Only"]=String(R)),F!==void 0&&(J["Neon-Batch-Deferrable"]=String(F)));let te;try{te=await(S??fetch)(V,{method:"POST",body:JSON.stringify(T),headers:J,...B})}catch(le){let Fe=new er(`Error connecting to database: ${le.message}`);throw Fe.sourceError=le,Fe}if(te.ok){let le=await te.json();if(Array.isArray(_)){let Fe=le.results;if(!Array.isArray(Fe))throw new er("Neon internal error: unexpected result format");return Fe.map((Te,Ie)=>{let nt=C[Ie]??{},Tt=nt.arrayMode??w,on=nt.fullResults??O;return fl(Te,{arrayMode:Tt,fullResults:on,parameterizedQuery:_[Ie],resultCallback:l,types:nt.types})})}else{let Fe=C??{},Te=Fe.arrayMode??w,Ie=Fe.fullResults??O;return fl(le,{arrayMode:Te,fullResults:Ie,parameterizedQuery:_,resultCallback:l,types:Fe.types})}}else{let{status:le}=te;if(le===400){let Fe=await te.json(),Te=new er(Fe.message);for(let Ie of mw)Te[Ie]=Fe[Ie]??void 0;throw Te}else{let Fe=await te.text();throw new er(`Server error (HTTP status ${le}): ${Fe}`)}}}return y(k,"execute"),x}y(Rs,"neon");function R0(t,e,n){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:e,opts:n,then:y((o,r)=>t(e,n).then(o,r),"then"),catch:y(o=>t(e,n).catch(o),"catch"),finally:y(o=>t(e,n).finally(o),"finally")}}y(R0,"createNeonQueryPromise");function fl(t,{arrayMode:e,fullResults:n,parameterizedQuery:o,resultCallback:r,types:i}){let s=new gw.default(i),a=t.fields.map(c=>c.name),l=t.fields.map(c=>s.getTypeParser(c.dataTypeID)),d=e===!0?t.rows.map(c=>c.map((u,p)=>u===null?null:l[p](u))):t.rows.map(c=>Object.fromEntries(c.map((u,p)=>[a[p],u===null?null:l[p](u)])));return r&&r(o,t,d,{arrayMode:e,fullResults:n}),n?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=d,t._parsers=l,t._types=s,t):d}y(fl,"processQueryResult");async function N0(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let n=new er("Error getting auth token.");throw e instanceof Error&&(n=new er(`Error getting auth token: ${e.message}`)),n}}y(N0,"getAuthToken");var bw=hr(rc()),pr=hr(sc()),$0=class extends B0.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){var d,c;let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let o=((d=this.config)==null?void 0:d.host)!==void 0||((c=this.config)==null?void 0:c.connectionString)!==void 0||Ce.env.PGHOST!==void 0,r=Ce.env.USER??Ce.env.USERNAME;if(!o&&this.host==="localhost"&&this.user===r&&this.database===r&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${r}, db: ${r}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let i=super.connect(e),s=n.pipelineTLS&&this.ssl,a=n.pipelineConnect==="password";if(!s&&!n.pipelineConnect)return i;let l=this.connection;if(s&&l.on("connect",()=>l.stream.emit("data","S")),a){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let u=this.ssl?"sslconnect":"connect";l.on(u,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(e){let n=this.saslSession,o=this.password,r=e.data;if(n.message!=="SASLInitialResponse"||typeof o!="string"||typeof r!="string")throw new Error("SASL: protocol error");let i=Object.fromEntries(r.split(",").map(Z=>{if(!/^.=/.test(Z))throw new Error("SASL: Invalid attribute pair entry");let te=Z[0],le=Z.substring(2);return[te,le]})),s=i.r,a=i.s,l=i.i;if(!s||!/^[!-+--~]+$/.test(s))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!a||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!s.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(s.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let d=parseInt(l,10),c=ye.from(a,"base64"),u=new TextEncoder,p=u.encode(o),b=await dt.subtle.importKey("raw",p,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),h=new Uint8Array(await dt.subtle.sign("HMAC",b,ye.concat([c,ye.from([0,0,0,1])]))),g=h;for(var x=0;x<d-1;x++)h=new Uint8Array(await dt.subtle.sign("HMAC",b,h)),g=ye.from(g.map((Z,te)=>g[te]^h[te]));let k=g,_=await dt.subtle.importKey("raw",k,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),C=new Uint8Array(await dt.subtle.sign("HMAC",_,u.encode("Client Key"))),L=await dt.subtle.digest("SHA-256",C),P="n=*,r="+n.clientNonce,S="r="+s+",s="+a+",i="+d,T="c=biws,r="+s,B=P+","+S+","+T,w=await dt.subtle.importKey("raw",L,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var O=new Uint8Array(await dt.subtle.sign("HMAC",w,u.encode(B))),I=ye.from(C.map((Z,te)=>C[te]^O[te])),R=I.toString("base64");let F=await dt.subtle.importKey("raw",k,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),D=await dt.subtle.sign("HMAC",F,u.encode("Server Key")),V=await dt.subtle.importKey("raw",D,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var J=ye.from(await dt.subtle.sign("HMAC",V,u.encode(B)));n.message="SASLResponse",n.serverSignature=J.toString("base64"),n.response=T+",p="+R,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};y($0,"NeonClient");var vw=$0;function D0(t,e){if(e)return{callback:e,result:void 0};let n,o,r=y(function(s,a){s?n(s):o(a)},"cb"),i=new t(function(s,a){o=s,n=a});return{callback:r,result:i}}y(D0,"promisify");var yw=class extends B0.Pool{constructor(){super(...arguments),we(this,"Client",vw),we(this,"hasFetchUnsupportedListeners",!1)}on(e,n){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,n)}query(e,n,o){var i;if(!Ls.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,n,o);typeof n=="function"&&(o=n,n=void 0);let r=D0(this.Promise,o);o=r.callback;try{let s=new bw.default(this.options),a=encodeURIComponent,l=encodeURI,d=`postgresql://${a(s.user)}:${a(s.password)}@${a(s.host)}/${l(s.database)}`,c=typeof e=="string"?e:e.text,u=n??e.values??[];Rs(d,{fullResults:!0,arrayMode:e.rowMode==="array"})(c,u,{types:e.types??((i=this.options)==null?void 0:i.types)}).then(p=>o(void 0,p)).catch(p=>o(p))}catch(s){o(s)}return r.result}};y(yw,"NeonPool");pr.ClientBase;pr.Connection;pr.DatabaseError;pr.Query;pr.defaults;pr.types;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/class xw{constructor(){this.sql=Rs("postgresql://neondb_owner:npg_EsOW9R1whuGy@ep-raspy-tree-a8xdn8ec-pooler.eastus2.azure.neon.tech/neondb?sslmode=require")}async loadAllNotes(){try{const e=De().getUserLogin;return await this.sql(`
        select notes.id,notes.title,notes.hold,TO_CHAR(notes.updated_at, 'YYYY/MM/DD HH:mm:ss') AS updated_at 
          from public.users_notes
          inner join public.notes notes on users_notes.note_id = notes.id
          where public.users_notes.user_id = $1
         order by notes.hold DESC, notes.updated_at DESC;`,[e.id])}catch(e){console.log(e),ht.push("/404")}}async findNoteById(e){try{return(await this.sql("select * from public.notes where id = $1;",[e]))[0]}catch(n){console.log(n),ht.push("/404")}}async saveNewNote(e,n){try{const o=De().getUserLogin.id,r=await this.sql("INSERT INTO notes (title,updated_at) values ($1,$2) RETURNING *",[e,n]);return await this.sql("INSERT INTO users_notes (user_id,note_id) values ($1,$2) RETURNING *",[o,r[0].id]),r[0]}catch(o){console.log(o),ht.push("/404")}}async updateNote(e,n,o){try{return await this.sql("UPDATE notes SET content = $1,updated_at = $2 where id = $3",[n,o,e]),{status:200,updated_at:o}}catch(r){console.log(r),ht.push("/404")}}async updateNoteTitle(e,n,o){try{return await this.sql("UPDATE notes SET title = $1,updated_at = $2 where id = $3",[n,o,e]),{status:200,updated_at:o}}catch(r){console.log(r),ht.push("/404")}}async updateNoteHoldState(e,n,o){try{return await this.sql("UPDATE notes SET hold = $1,updated_at = $2 where id = $3",[n,o,e]),{status:200}}catch(r){console.log(r),ht.push("/404")}}async deleteNoteById(e){try{return await this.sql(`
        WITH deleted_notes AS (
          DELETE FROM notes WHERE id = $1 RETURNING id
        )
        DELETE FROM users_notes WHERE note_id IN (SELECT id FROM deleted_notes);
      `,[e]),{status:200}}catch(n){console.log(n),ht.push("/404")}}}class ww{getCurrentTime(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDate(){return this.getCurrentTime().split(" ")[0]}}const Ro=new xw,kw=new ww,Ns=kw.getCurrentTime();async function Ew(){return await Ro.loadAllNotes()}async function _w(t){return await Ro.findNoteById(t)}async function Cw(t){return await Ro.saveNewNote(t,Ns)}async function Sw(t,e){return await Ro.updateNote(t,e,Ns)}async function Tw(t,e){return await Ro.updateNoteTitle(t,e,Ns)}async function Iw(t,e){return await Ro.updateNoteHoldState(t,e,Ns)}async function Ow(t){return await Ro.deleteNoteById(t)}const gf=async()=>{try{return await Ew()}catch(t){throw Error(t)}},mf=async t=>await _w(t),bf=async t=>{try{const e=await Cw(t);return e.id?De().showMessage("Let's go!","success"):De().showMessage("mmm.. something went wrong...","danger"),e}catch(e){throw Error(e)}},vf=async(t,e)=>{const n=await Sw(t,e);return n.status!=200&&De().showMessage("mmm.. something went wrong...","danger"),n},yf=async(t,e)=>{const n=await Tw(t,e);return n.status==200?De().showMessage("Ready!","success"):De().showMessage("mmm.. something went wrong...","danger"),n},xf=async(t,e)=>{const n=await Iw(t,e);return n.status!=200&&De().showMessage("mmm.. something went wrong...","danger"),n},wf=async t=>{const e=await Ow(t);return e.status==200?De().showMessage("It's done!","success"):De().showMessage("mmm.. something went wrong...","danger"),e};function $s(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z","clip-rule":"evenodd"})])}function Ds(t,e){return ce(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[$("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const Aw={__name:"ConfirmDeleteDialogComponent",props:{show:Boolean,name:String},setup(t,{expose:e,emit:n}){e();const o=n,r=Be(null),i=t;rt(()=>{document.addEventListener("pointerdown",s)}),Ot(()=>{document.removeEventListener("pointerdown",s)});const s=c=>{r.value&&!r.value.contains(c.target)&&a()};function a(){o("hidde")}function l(){o("delete")}const d={emit:o,menuWrapper:r,props:i,handleClickOutside:s,hidde:a,deleteNote:l,get CheckIcon(){return $s},get XCircleIcon(){return Ds},onMounted:rt,onUnmounted:Ot,ref:Be};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},Bw={class:"mb-2 font-semibold text-center"},Mw={class:"flex flex-row justify-center"};function Pw(t,e,n,o,r,i){return ce(),xe("div",{ref:"menuWrapper",class:Rt(["absolute min-w-1/5 left-1/2 top-10 transform -translate-x-1/2 -translate-y-10 transition-all opacity-0 duration-700 bg-slate-600 p-2 rounded-md",{"transition-all translate-y-0 duration-700 opacity-100":o.props.show}])},[$("h2",Bw,[e[2]||(e[2]=bt("Are you sure to delete ")),$("b",null,Zt(o.props.name),1),e[3]||(e[3]=bt("?"))]),$("div",Mw,[$("button",{onClick:e[0]||(e[0]=s=>o.deleteNote())},[ge(o.CheckIcon,{class:"size-6 mr-4 hover:text-slate-400 transition-colors"})]),$("button",{onClick:e[1]||(e[1]=s=>o.hidde())},[ge(o.XCircleIcon,{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],2)}const Lw=it(Aw,[["render",Pw],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/ConfirmDeleteDialogComponent.vue"]]),Rw={__name:"DropDownComponent",props:{id:Number,name:String},setup(t,{expose:e,emit:n}){e();const o=Be(!1),r=Be(null),i=n,s=t;rt(()=>{document.addEventListener("mousedown",d)}),Ot(()=>{document.removeEventListener("mousedown",d)});function a(p){o.value=p}function l(){i("showConfirmDialog",{show:!0,name:s.name,id:s.id})}const d=p=>{r.value&&!r.value.contains(p.target)&&a(!1)};function c(p){i("rename",{id:p})}const u={hidde:o,menuWrapper:r,emit:i,props:s,toggleHiddeSelf:a,toggleHiddeConfirm:l,handleClickOutside:d,renameNote:c,get EllipsisVerticalIcon(){return I2},get EllipsisHorizontalCircleIcon(){return T2},get PencilIcon(){return B2},get TrashIcon(){return P2},onMounted:rt,onUnmounted:Ot,ref:Be};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},Nw={class:"relative",ref:"menuWrapper"},$w={class:"flex items-baseline cursor-pointer text-white hover:text-blue-500",title:"Editar nombre"},Dw={class:"flex items-baseline cursor-pointer hover:text-red-500",title:"Eliminar"};function jw(t,e,n,o,r,i){return ce(),xe("div",Nw,[$("button",{onClick:e[0]||(e[0]=s=>o.toggleHiddeSelf(!0)),title:"options"},[o.hidde?(ce(),$t(o.EllipsisVerticalIcon,{key:0,class:"size-5 cursor-pointer"})):(ce(),$t(o.EllipsisHorizontalCircleIcon,{key:1,class:"size-5 cursor-pointer"}))]),o.hidde?(ce(),xe("div",{key:0,id:"dialog",onKeyup:e[3]||(e[3]=Ts(s=>o.toggleHiddeSelf(!1),["esc"])),class:"absolute z-10 w-auto bg-sky-950 -translate-x-10 p-3 transition-all rounded"},[$("ul",null,[$("li",$w,[$("button",{onClick:e[1]||(e[1]=s=>o.renameNote(o.props.id))},[ge(o.PencilIcon,{class:"size-4 inline-block mr-2"})])]),$("li",Dw,[$("button",{onClick:e[2]||(e[2]=s=>o.toggleHiddeConfirm(!0))},[ge(o.TrashIcon,{class:"size-4 inline-block mr-2"})])])])],32)):bn("",!0)],512)}const Fw=it(Rw,[["render",jw],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/DropDownComponent.vue"]]),Hw={__name:"InputDialogComponent",props:{show:Boolean,name:String,action:{type:Function,async default(t){const e=await bf(t);ht.push(`/editor/${e.id}`)}}},setup(t,{expose:e,emit:n}){e();const o=Be(""),r=Be(null),i=n,s=t;rt(()=>{document.addEventListener("mousedown",d)}),Ot(()=>{document.removeEventListener("mousedown",d)});function a(){i("hidde")}function l(){s.action(o.value)}const d=u=>{r.value&&!r.value.contains(u.target)&&a()},c={fileName:o,menuWrapper:r,emit:i,props:s,hidde:a,savefile:l,handleClickOutside:d,get CheckIcon(){return $s},get XCircleIcon(){return Ds},onMounted:rt,onUnmounted:Ot,ref:Be,get createNoteAction(){return bf},get router(){return ht}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},Uw={class:"flex flex-row justify-between"};function Vw(t,e,n,o,r,i){return ce(),xe("div",{ref:"menuWrapper",class:Rt(["absolute min-w-1/5 left-1/2 top-10 transform -translate-x-1/2 -translate-y-10 transition-all opacity-0 duration-700 bg-slate-600 p-2 rounded-md",{"transition-all translate-y-0 duration-700 opacity-100":o.props.show}])},[e[4]||(e[4]=$("h2",{class:"mb-2 text-center font-semibold"},"How do you want to name your note?",-1)),$("div",Uw,[mn($("input",{onKeyup:e[0]||(e[0]=Ts(s=>o.savefile(),["enter"])),class:"bg-slate-800 w-5/6 pl-2 placeholder:text-slate-500 rounded",type:"text",placeholder:"Your title note..","onUpdate:modelValue":e[1]||(e[1]=s=>o.fileName=s)},null,544),[[Ln,o.fileName]]),$("button",{onClick:e[2]||(e[2]=s=>o.savefile())},[ge(o.CheckIcon,{class:"size-6 hover:text-slate-400 transition-colors"})]),$("button",{onClick:e[3]||(e[3]=s=>o.hidde())},[ge(o.XCircleIcon,{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],2)}const zw=it(Hw,[["render",Vw],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/InputDialogComponent.vue"]]),Ww={__name:"InputDialogRenameComponent",props:{show:Boolean,id:Number,action:{type:Function,async default(t,e){await yf(e,t)}}},setup(t,{expose:e,emit:n}){e();const o=Be(""),r=Be(null),i=n,s=t;rt(()=>{document.addEventListener("mousedown",c)}),Ot(()=>{document.removeEventListener("mousedown",c)});function a(){i("hidde")}function l(){i("renamed")}function d(){s.action(o.value,s.id),l(),a()}const c=p=>{r.value&&!r.value.contains(p.target)&&a()},u={fileName:o,menuWrapper:r,emit:i,props:s,hidde:a,renamed:l,savefile:d,handleClickOutside:c,get CheckIcon(){return $s},get XCircleIcon(){return Ds},onMounted:rt,onUnmounted:Ot,ref:Be,get updateNoteTitleAction(){return yf}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},qw={class:"flex flex-row justify-between"};function Kw(t,e,n,o,r,i){return ce(),xe("div",{ref:"menuWrapper",class:Rt(["absolute min-w-1/5 left-1/2 top-10 transform -translate-x-1/2 -translate-y-10 transition-all opacity-0 duration-700 bg-slate-600 p-2 rounded-md",{"transition-all translate-y-0 duration-700 opacity-100":o.props.show}])},[e[4]||(e[4]=$("h2",{class:"mb-2 font-semibold text-center"},"Please enter a new title",-1)),$("div",qw,[mn($("input",{onKeyup:e[0]||(e[0]=Ts(s=>o.savefile(),["enter"])),class:"bg-slate-800 w-5/6 pl-2 placeholder:text-slate-500 rounded",type:"text",placeholder:"The new title is...","onUpdate:modelValue":e[1]||(e[1]=s=>o.fileName=s)},null,544),[[Ln,o.fileName]]),$("button",{onClick:e[2]||(e[2]=s=>o.savefile())},[ge(o.CheckIcon,{class:"size-6 hover:text-slate-400 transition-colors"})]),$("button",{onClick:e[3]||(e[3]=s=>o.hidde())},[ge(o.XCircleIcon,{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],2)}const Qw=it(Ww,[["render",Kw],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/InputDialogRenameComponent.vue"]]),Gw={},Yw={class:"text-4xl text-slate-50"};function Zw(t,e){return ce(),xe("div",null,[$("h1",Yw,[iv(t.$slots,"default")]),e[0]||(e[0]=$("div",{class:"w-2/3 my-4 h-0.5 bg-gradient-to-r from-slate-600 to-slate-900 rounded-full"},null,-1))])}const j0=it(Gw,[["render",Zw],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/HeaderComponent.vue"]]),Xw={__name:"TableSkeletonComponent",props:{show:Boolean,rows:{type:Number,default:5}},setup(t,{expose:e}){e();const o={props:t};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},Jw={key:0,class:"animate-pulse"},ek={class:"w-full table table-auto"},tk={class:""},nk={class:"hover:bg-slate-900 opacity-35"},ok={class:"w-8/12 cursor-pointer"};function rk(t,e,n,o,r,i){return n.show?(ce(),xe("div",Jw,[$("table",ek,[e[1]||(e[1]=$("thead",null,[$("tr",null,[$("th"),$("th"),$("th"),$("th")])],-1)),$("tbody",tk,[(ce(!0),xe(Ye,null,$l(n.rows,s=>(ce(),xe("tr",nk,[$("td",null,[$("div",{style:nr({width:Math.random()*100+"%"}),class:"h-3 my-2 bg-slate-800 rounded-sm"},null,4)]),$("td",ok,[$("div",{style:nr({width:Math.random()*100+"%"}),class:"h-3 my-2 w-1/2 bg-slate-800 rounded-sm"},null,4)]),$("td",null,[$("div",{style:nr({width:Math.random()*100+"%"}),class:"h-3 my-2 w-1/2 bg-slate-800 rounded-sm"},null,4)]),e[0]||(e[0]=$("td",null,[$("div",{class:"h-3 my-2 w-1/5 bg-slate-800 rounded-sm"})],-1))]))),256))])])])):bn("",!0)}const ik=it(Xw,[["render",rk],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/TableSkeletonComponent.vue"]]),sk="/vue-notes-app/assets/paper-Bc5UNHeC.png",ak="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%208.37688C22%208.78086%2021.6668%209.10836%2021.2557%209.10836H16.2937C15.8826%209.10836%2015.5494%208.78086%2015.5494%208.37688C15.5494%207.97289%2015.8826%207.64539%2016.2937%207.64539H21.2557C21.6668%207.64539%2022%207.97289%2022%208.37688Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012.7658C22%2013.1698%2021.6668%2013.4973%2021.2557%2013.4973H17.2861C16.875%2013.4973%2016.5418%2013.1698%2016.5418%2012.7658C16.5418%2012.3618%2016.875%2012.0343%2017.2861%2012.0343H21.2557C21.6668%2012.0343%2022%2012.3618%2022%2012.7658Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3cpath%20d='M12.5872%208.23781L12.9508%208.59515C14.4693%2010.0875%2015.2285%2010.8336%2015.2278%2011.6425C15.2276%2011.9068%2015.1728%2012.1682%2015.0666%2012.411C14.7417%2013.1542%2013.7441%2013.5444%2011.7489%2014.3248L11.6045%2014.3813C11.0389%2014.6025%2010.7561%2014.7132%2010.5279%2014.8908C10.3548%2015.0256%2010.2058%2015.1878%2010.0871%2015.3708C9.93056%2015.6119%209.84745%2015.8997%209.68123%2016.4753C9.42348%2017.3678%209.2946%2017.8141%209.01976%2018.0121C8.81551%2018.1593%208.56173%2018.2242%208.3104%2018.1934C7.97221%2018.1521%207.63845%2017.8241%206.97092%2017.168L5.94386%2016.1586L3.2706%2018.7858C2.97993%2019.0714%202.50867%2019.0714%202.218%2018.7858C1.92733%2018.5001%201.92733%2018.0369%202.218%2017.7513L4.88125%2015.1143L3.86422%2014.1148C3.1967%2013.4588%202.86293%2013.1307%202.82084%2012.7984C2.78956%2012.5514%202.85556%2012.302%203.00532%2012.1012C3.20683%2011.8311%203.66091%2011.7045%204.56907%2011.4511C5.15473%2011.2878%205.44756%2011.2061%205.69297%2011.0523C5.87915%2010.9356%206.0442%2010.7891%206.18133%2010.619C6.36209%2010.3948%206.47465%2010.1168%206.69977%209.56094L6.75724%209.41903C7.55132%207.45818%207.94835%206.47775%208.70458%206.15843C8.95161%206.05411%209.21763%206.00021%209.4865%206C10.3096%205.99934%2011.0688%206.7455%2012.5872%208.23781Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2017.1547C22%2017.5587%2021.6668%2017.8862%2021.2557%2017.8862H12.3241C11.9131%2017.8862%2011.5798%2017.5587%2011.5798%2017.1547C11.5798%2016.7507%2011.9131%2016.4232%2012.3241%2016.4232H21.2557C21.6668%2016.4232%2022%2016.7507%2022%2017.1547Z'%20fill='%23c0c0c0'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",lk="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M13.6315%208.22382C15.1616%209.7539%2015.9266%2010.5189%2015.926%2011.3483C15.9257%2011.6192%2015.8705%2011.8873%2015.7635%2012.1362C15.4361%2012.8982%2014.4309%2013.2983%2012.4204%2014.0985L12.2749%2014.1564C11.7049%2014.3832%2011.4199%2014.4967%2011.19%2014.6788C11.0156%2014.817%2010.8655%2014.9833%2010.7458%2015.1709C10.5881%2015.4182%2010.5044%2015.7133%2010.3369%2016.3034C10.0771%2017.2185%209.94727%2017.6761%209.67033%2017.8791C9.46451%2018.03%209.20879%2018.0966%208.95553%2018.065C8.61475%2018.0226%208.27843%2017.6863%207.60579%2017.0137L4.47529%2013.8832C3.80265%2013.2105%203.46633%2012.8742%203.42392%2012.5334C3.3924%2012.2802%203.4589%2012.0244%203.60981%2011.8186C3.81287%2011.5417%204.27042%2011.4118%205.18554%2011.1521C5.77568%2010.9846%206.07076%2010.9009%206.31804%2010.7431C6.50565%2010.6235%206.67197%2010.4733%206.81015%2010.2989C6.9923%2010.069%207.10572%209.78403%207.33256%209.21406L7.39047%209.06855C8.19063%207.05807%208.59071%206.05283%209.35273%205.72542C9.60165%205.61847%209.86971%205.56321%2010.1406%205.56299C10.5028%205.5627%2010.8526%205.70839%2011.2593%206.00002'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M3.34679%2018.142L6.04053%2015.4482'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M22%208H17'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M22%2012.5H18'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M22%2017H21M13%2017H17'%20stroke='%23c0c0c0'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",ck={__name:"NotesView",props:{id:Number,name:String},setup(t,{expose:e,emit:n}){e();const o=n,r=Nt({showInput:!1,showLogo:!0,showRename:{show:!1,id:null},delete:{showDialog:!1,name:null,id:null},isLoading:!1}),i=t,s=Be([]),a=Be("");let l=null;function d(T){ht.push(`/editor/${T}`)}Wa(()=>{l=De()}),rt(async()=>{c(),P()});async function c(){r.isLoading=!0;const T=await gf();r.isLoading=!1,s.value=T}function u(){r.showInput=!1}function p(){r.showRename.show=!1}async function b(){r.showInput=!r.showInput}const h=Et(()=>a.value.length>0?s.value.filter(T=>T.title.toLowerCase().includes(a.value.toLowerCase())):s.value);async function g(T,B){xf(T,B).then(w=>{w.status==200&&setTimeout(async()=>{await c()},500)})}function x(T){r.showRename.show=!0,r.showRename.id=T}function k(T){r.delete.showDialog=T.show,r.delete.name=T.name,r.delete.id=T.id}async function _(T){(await wf(T)).status==200&&setTimeout(async()=>{L(),await c()},500),k(!0)}function C(){c()}function L(){o("deleted")}async function P(){setTimeout(()=>{r.showLogo=!1},0)}const S={emit:o,localState:r,props:i,notes:s,filter:a,get store(){return l},set store(T){l=T},openNote:d,getAllNotes:c,handleHide:u,handleHideRename:p,createNote:b,filteredNotes:h,updateHoldNote:g,showInputRenameNotes:x,toggleHiddeConfirm:k,deleteNote:_,updateList:C,successDelete:L,showlogo:P,get globalState(){return De},get loadNotesAction(){return gf},get updateNoteHoldState(){return xf},get deleteNoteAction(){return wf},computed:Et,onBeforeMount:Wa,onMounted:rt,reactive:Nt,ref:Be,get PlusCircleIcon(){return M2},get PaperClipIcon(){return A2},get MagnifyingGlassIcon(){return O2},get router(){return ht},ConfirmDialogComponent:Lw,DropDownComponent:Fw,InputDialogComponent:zw,InputDialogRenameComponent:Qw,HeaderComponent:j0,TableSkeletonComponent:ik};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}},uk={class:"flex flex-row justify-end my-3"},dk={class:"mx-2 border border-slate-700 rounded-md items-center flex"},fk={class:"inline-block"},hk={class:"border-b border-slate-700 rounded-md px-2"},pk={class:"my-4 px-2 py-10 w-full max-h-100 min-h-90 overflow-scroll overflow-x-hidden"},gk={key:0,class:"w-full table table-auto"},mk={class:""},bk=["onClick"],vk=["onClick"],yk=["onClick"],xk={class:"text-slate-500 font-semibold hover:text-slate-200"},wk={class:"text-slate-600 mr-2"};function kk(t,e,n,o,r,i){return ce(),xe(Ye,null,[ge(o.HeaderComponent,null,{default:zt(()=>[e[9]||(e[9]=bt("My notes ")),ge(o.PaperClipIcon,{class:"size-6 inline-block"})]),_:1}),$("div",{class:Rt(["absolute left-1/2 top-10 transform -translate-x-1/2 translate-y-1/2 opacity-10 duration-700",{"opacity-55 duration-200 -rotate-x-12 transform -rotate-z-6":o.localState.showLogo}])},e[10]||(e[10]=[$("img",{src:sk,alt:""},null,-1)]),2),$("div",null,[ge(o.InputDialogComponent,{show:o.localState.showInput,onHidde:o.handleHide},null,8,["show"]),ge(o.InputDialogRenameComponent,{show:o.localState.showRename.show,id:o.localState.showRename.id,onHidde:o.handleHideRename,onRenamed:e[0]||(e[0]=s=>o.updateList())},null,8,["show","id"]),ge(o.ConfirmDialogComponent,{name:o.localState.delete.name,show:o.localState.delete.showDialog,onHidde:e[1]||(e[1]=s=>o.toggleHiddeConfirm(!1)),onDelete:e[2]||(e[2]=s=>o.deleteNote(o.localState.delete.id))},null,8,["name","show"]),e[13]||(e[13]=$("div",{class:"flex flex-row justify-end items-baselinem mt-5"},null,-1)),$("div",uk,[$("div",dk,[$("span",fk,[ge(o.MagnifyingGlassIcon,{class:Rt(["size-5 mx-1 rounded text-slate-400 transition-colors",{"text-white transition-colors":o.filter.length>0}])},null,8,["class"])]),mn($("input",{onKeyup:e[3]||(e[3]=s=>t.filterNotes()),type:"text",class:"focus:outline-none px-2","onUpdate:modelValue":e[4]||(e[4]=s=>o.filter=s),placeholder:"search"},null,544),[[Ln,o.filter]])]),$("p",null,[$("span",hk,"Total: "+Zt(o.notes.length),1)]),e[11]||(e[11]=$("span",{class:"mx-2"},null,-1)),$("button",{onClick:e[5]||(e[5]=s=>o.createNote()),title:"Create new note"},[ge(o.PlusCircleIcon,{class:"size-5 mx-1 cursor-pointer rounded animate-pulse hover:animate-none text-slate-50 hover:text-slate-400 transition-all"})])]),$("div",pk,[o.localState.isLoading?bn("",!0):(ce(),xe("table",gk,[e[12]||(e[12]=$("thead",null,[$("tr",null,[$("th"),$("th"),$("th"),$("th")])],-1)),$("tbody",mk,[(ce(!0),xe(Ye,null,$l(o.filteredNotes,(s,a)=>(ce(),xe("tr",{key:s.title,class:"hover:bg-slate-900"},[$("td",null,[s.hold==1?(ce(),xe("img",{key:0,onClick:l=>o.updateHoldNote(s.id,!s.hold),src:ak,class:"size-6 cursor-pointer",alt:"",title:"Unhold"},null,8,bk)):(ce(),xe("img",{key:1,onClick:l=>o.updateHoldNote(s.id,!s.hold),src:lk,class:"size-5 cursor-pointer opacity-20 hover:opacity-80 transition-opacity",alt:"",title:"Hold"},null,8,vk))]),$("td",{class:"w-8/12 cursor-pointer",onClick:l=>o.openNote(s.id)},[$("p",xk,Zt(s.title),1)],8,yk),$("td",null,[$("p",wk,Zt(s.updated_at),1)]),$("td",null,[ge(o.DropDownComponent,{id:s.id,name:s.title,onDeleted:e[6]||(e[6]=l=>o.getAllNotes()),onRename:e[7]||(e[7]=l=>o.showInputRenameNotes(l.id)),onShowConfirmDialog:e[8]||(e[8]=l=>o.toggleHiddeConfirm(l))},null,8,["id","name"])])]))),128))])])),ge(o.TableSkeletonComponent,{rows:10,show:o.localState.isLoading||o.filteredNotes.length==0},null,8,["show"])])])],64)}const Ek=it(ck,[["render",kk],["__file","/home/marcos/DEV/vue-notes-app/src/components/notes/NotesView.vue"]]);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _k(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),n}function Ea(){}Object.assign(Ea,{default:Ea,register:Ea,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const o=n instanceof Node;e.appendChild(o?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),o=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-o>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-r>e.scrollLeft+e.clientWidth,d=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-o+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-r+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(d)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let Ck=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var F0=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(F0||{});const ke={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},Sk={LEFT:0};function ui(t,e,n="log",o,r="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(ui.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}o&&s.push(o);const a="Editor.js 2.31.0-rc.7";t&&(i?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,r),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?o?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}ui.logLevel="VERBOSE";function Tk(t){ui.logLevel=t}const je=ui.bind(window,!1),Vt=ui.bind(window,!0);function Po(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Qe(t){return Po(t)==="function"||Po(t)==="asyncfunction"}function ut(t){return Po(t)==="object"}function $n(t){return Po(t)==="string"}function Ik(t){return Po(t)==="boolean"}function kf(t){return Po(t)==="number"}function Ef(t){return Po(t)==="undefined"}function Kt(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function H0(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function Ok(t,e=()=>{},n=()=>{}){async function o(r,i,s){try{await r.function(r.data),await i(Ef(r.data)?{}:r.data)}catch{s(Ef(r.data)?{}:r.data)}}return t.reduce(async(r,i)=>(await r,o(i,e,n)),Promise.resolve())}function U0(t){return Array.prototype.slice.call(t)}function is(t,e){return function(){const n=this,o=arguments;window.setTimeout(()=>t.apply(n,o),e)}}function Ak(t){return t.name.split(".").pop()}function Bk(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function _f(t,e,n){let o;return(...r)=>{const i=this,s=()=>{o=null,t.apply(i,r)};window.clearTimeout(o),o=window.setTimeout(s,e)}}function hl(t,e,n=void 0){let o,r,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(o,r),s||(o=r=null)};return function(){const d=Date.now();!a&&n.leading===!1&&(a=d);const c=e-(d-a);return o=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=d,i=t.apply(o,r),s||(o=r=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,c)),i}}function Mk(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function ss(t){return t[0].toUpperCase()+t.slice(1)}function pl(t,...e){if(!e.length)return t;const n=e.shift();if(ut(t)&&ut(n))for(const o in n)ut(n[o])?(t[o]||Object.assign(t,{[o]:{}}),pl(t[o],n[o])):Object.assign(t,{[o]:n[o]});return pl(t,...e)}function ac(t){const e=Mk();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function Pk(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Lk(){return Ck(10)}function Rk(t){window.open(t,"_blank")}function Nk(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function gl(t,e,n){const o=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&Vt(o,"warn")}function gr(t,e,n){const o=n.value?"value":"get",r=n[o],i=`#${e}Cache`;if(n[o]=function(...s){return this[i]===void 0&&(this[i]=r.apply(this,...s)),this[i]},o==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const V0=650;function mr(){return window.matchMedia(`(max-width: ${V0}px)`).matches}const ml=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function $k(t,e){const n=Array.isArray(t)||ut(t),o=Array.isArray(e)||ut(e);return n||o?JSON.stringify(t)===JSON.stringify(e):t===e}let W=class xt{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,o={}){const r=document.createElement(e);if(Array.isArray(n)){const i=n.filter(s=>s!==void 0);r.classList.add(...i)}else n&&r.classList.add(n);for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i]);return r}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(o=>e.appendChild(o)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(o=>e.prepend(o))):e.prepend(n)}static swap(e,n){const o=document.createElement("div"),r=e.parentNode;r.insertBefore(o,e),r.insertBefore(e,n),r.insertBefore(n,o),r.removeChild(o)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return U0(e.querySelectorAll(xt.allInputsSelector)).reduce((n,o)=>xt.isNativeInput(o)||xt.containsOnlyInlineElements(o)?[...n,o]:[...n,...xt.getDeepestBlockElements(o)],[])}static getDeepestNode(e,n=!1){const o=n?"lastChild":"firstChild",r=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let i=e[o];if(xt.isSingleTag(i)&&!xt.isNativeInput(i)&&!xt.isLineBreakTag(i))if(i[r])i=i[r];else if(i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return kf(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return kf(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(xt.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=xt.isContentEditable(e);return n}static isNodeEmpty(e,n){let o;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?o=e.value:o=e.textContent.replace("​",""),n&&(o=o.replace(new RegExp(n,"g"),"")),o.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){const o=[e];for(;o.length>0;)if(e=o.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=xt.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return xt.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;$n(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const o=r=>!xt.blockElements.includes(r.tagName.toLowerCase())&&Array.from(r.children).every(o);return Array.from(n.children).every(o)}static getDeepestBlockElements(e){return xt.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,o)=>[...n,...xt.getDeepestBlockElements(o)],[])}static getHolder(e){return $n(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=n.top+r,s=n.left+o;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};function Dk(t){return!/[^\t\n\r ]/.test(t)}function jk(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||n*1.2,r=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(o-n)/2;return s+i+r+l+a}function z0(t){t.dataset.empty=W.isEmpty(t)?"true":"false"}const Fk={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},Hk={Text:"",Link:"",Bold:"",Italic:""},Uk={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Vk={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},W0={ui:Fk,toolNames:Hk,tools:Uk,blockTunes:Vk},q0=class Go{static ui(e,n){return Go._t(e,n)}static t(e,n){return Go._t(e,n)}static setDictionary(e){Go.currentDictionary=e}static _t(e,n){const o=Go.getNamespace(e);return!o||!o[n]?n:o[n]}static getNamespace(e){return e.split(".").reduce((n,o)=>!n||!Object.keys(n).length?{}:n[o],Go.currentDictionary)}};q0.currentDictionary=W0;let _t=q0;class K0 extends Error{}let di=class{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const o=r=>{const i=n(r),s=this.subscribers[e].indexOf(o);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(o)}emit(e,n){Kt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((o,r)=>{const i=r(o);return i!==void 0?i:o},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===n){delete this.subscribers[e][o];break}}destroy(){this.subscribers={}}};function In(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}let fi=class{constructor(){this.allListeners=[]}on(e,n,o,r=!1){const i=Nk("l"),s={id:i,element:e,eventType:n,handler:o,options:r};if(!this.findOne(e,n,o))return this.allListeners.push(s),e.addEventListener(n,o,r),i}off(e,n,o,r){const i=this.findAll(e,n,o);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,o){const r=this.findAll(e,n,o);return r.length>0?r[0]:null}findAll(e,n,o){let r;const i=e?this.findByEventTarget(e):[];return e&&n&&o?r=i.filter(s=>s.eventType===n&&s.handler===o):e&&n?r=i.filter(s=>s.eventType===n):r=i,r}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}},Me=class Q0{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new fi,this.readOnlyMutableListeners={on:(o,r,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(o,r,i,s))},clearAll:()=>{for(const o of this.mutableListenerIds)this.listeners.offById(o);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Q0)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},be=class Wn{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?W.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Wn.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${Wn.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${Wn.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Wn.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,o={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),o.x=n.boundingLeft,o.y=n.boundingTop,o.width=n.boundingWidth,o.height=n.boundingHeight,o;if(!window.getSelection)return je("Method window.getSelection is not supported","warn"),o;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return je("Method SelectionUtils.rangeCount is not supported","warn"),o;if(e.rangeCount===0)return o;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(o=n.getBoundingClientRect()),o.x===0&&o.y===0){const r=document.createElement("span");if(r.getBoundingClientRect){r.appendChild(document.createTextNode("​")),n.insertNode(r),o=r.getBoundingClientRect();const i=r.parentNode;i.removeChild(r),i.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const o=document.createRange(),r=window.getSelection();return W.isNativeInput(e)?W.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(o.setStart(e,n),o.setEnd(e,n),r.removeAllRanges(),r.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){const n=Wn.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=Wn.range;if(e===null)return;const n=W.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return W.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=W.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Wn.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,o=10){const r=window.getSelection();let i=null;return!r||!r.anchorNode||!r.focusNode?null:([r.anchorNode,r.focusNode].forEach(s=>{let a=o;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const o=document.createRange();o.selectNodeContents(e),n.addRange(o)}};function zk(t,e){const{type:n,target:o,addedNodes:r,removedNodes:i}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(o)||n==="childList"&&(Array.from(r).some(s=>s===e)||Array.from(i).some(s=>s===e)))}const bl="redactor dom changed",G0="block changed",Y0="fake cursor is about to be toggled",Z0="fake cursor have been set",Gr="editor mobile layout toggled";function vl(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return Qe(n)||$n(n)}function as(t,e){return vl(t.tool,e)}function X0(t,e){return Object.entries(t).some(([n,o])=>e[n]&&$k(e[n],o))}async function J0(t,e){const n=(await t.save()).data,o=e.find(r=>r.name===t.name);return o!==void 0&&!vl(o,"export")?[]:e.reduce((r,i)=>{if(!vl(i,"import")||i.toolbox===void 0)return r;const s=i.toolbox.filter(a=>{if(Kt(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(X0(a.data,n))return!1}else if(i.name===t.name)return!1;return!0});return r.push({...i,toolbox:s}),r},[])}function Cf(t,e){return t.mergeable?t.name===e.name?!0:as(e,"export")&&as(t,"import"):!1}function Wk(t,e){const n=e==null?void 0:e.export;return Qe(n)?n(t):$n(n)?t[n]:(n!==void 0&&je("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Sf(t,e,n){const o=e==null?void 0:e.import;return Qe(o)?o(t,n):$n(o)?{[o]:t}:(o!==void 0&&je("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var qe=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(qe||{}),An=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(An||{});let Mn=class qn extends di{constructor({id:e=Lk(),data:n,tool:o,readOnly:r,tunesData:i},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const l=a===void 0,d=a instanceof InputEvent;!l&&!d&&this.detectToolRootChange(a);let c;l||d?c=!0:c=!(a.length>0&&a.every(u=>{const{addedNodes:p,removedNodes:b,target:h}=u;return[...Array.from(p),...Array.from(b),h].some(g=>(W.isElement(g)||(g=g.parentElement),g&&g.closest('[data-mutation-free="true"]')!==null))})),c&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new In(this),this.tool=o,this.toolInstance=o.create(n,this.blockAPI,r),this.tunes=o.tunes,this.composeTunes(i),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=W.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(o=>o===e||o.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Kt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Qe(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=W.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,o;this.holder.classList.toggle(qn.CSS.selected,e);const r=e===!0&&be.isRangeInsideContainer(this.holder),i=e===!1&&be.isFakeCursorInsideContainer(this.holder);(r||i)&&((n=this.editorEventBus)==null||n.emit(Y0,{state:e}),r?be.addFakeCursor():be.removeFakeCursor(this.holder),(o=this.editorEventBus)==null||o.emit(Z0,{state:e}))}get selected(){return this.holder.classList.contains(qn.CSS.selected)}set stretched(e){this.holder.classList.toggle(qn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(qn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(qn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(Qe(this.toolInstance[e])){e==="appendCallback"&&je("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(o){je(`Error during '${e}' call: ${o.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(Qe(s.save))try{n[i]=s.save()}catch(a){je(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const o=window.performance.now();let r;return Promise.resolve(e).then(i=>(r=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:r-o})).catch(i=>{je(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],o=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return W.isElement(o)?e.push({type:qe.Html,element:o}):Array.isArray(o)?e.push(...o):e.push(o),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(r=>r.render()).forEach(r=>{W.isElement(r)?n.push({type:qe.Html,element:r}):Array.isArray(r)?n.push(...r):n.push(r)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=W.isNativeInput(document.activeElement)||!be.anchorNode?document.activeElement:be.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Qe(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,o=e;return o==null?void 0:o.find(r=>X0(r.data,n))}async exportDataAsString(){const e=await this.data;return Wk(e,this.tool.conversionConfig)}compose(){const e=W.make("div",qn.CSS.wrapper),n=W.make("div",qn.CSS.content),o=this.toolInstance.render();e.setAttribute("data-cy","block-wrapper"),e.dataset.id=this.id,this.toolRenderedElement=o,n.appendChild(this.toolRenderedElement);let r=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(Qe(i.wrap))try{r=i.wrap(r)}catch(s){je(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(r),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,o])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=o)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),W.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),W.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:o}=n;o.some(r=>zk(r,this.toolRenderedElement))&&this.didMutated(o)},(e=this.editorEventBus)==null||e.on(bl,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(bl,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const o=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=o}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(z0)}};class qk extends Me{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},o={},r,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:r,needToFocus:i,replace:s});return new In(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Mn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,o)=>{const{BlockManager:r}=this.Editor,i=r.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const s=await r.update(i,n,o);return new In(s)},this.convert=async(e,n,o)=>{var r,i;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const d=a.blockTools.get(l.name),c=a.blockTools.get(n);if(!c)throw new Error(`Block Tool with type "${n}" not found`);const u=((r=d==null?void 0:d.conversionConfig)==null?void 0:r.export)!==void 0,p=((i=c.conversionConfig)==null?void 0:i.import)!==void 0;if(u&&p){const b=await s.convert(l,n,o);return new In(b)}else{const b=[u?!1:ss(l.name),p?!1:ss(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${b} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const o=e.map(({id:r,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:r,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(o,n),o.map(r=>new In(r))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Vt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Vt("There is no block at index `"+e+"`","warn");return}return new In(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Vt("There is no block with id `"+e+"`","warn"),null):new In(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){Vt("There is no block corresponding to element `"+e+"`","warn");return}return new In(n)}swap(e,n){je("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){Vt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){gl(!0,"blocks.stretchBlock()","BlockAPI");const o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=n)}insertNewBlock(){je("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function Kk(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class Qk extends Me{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,o=0)=>{const r=Kk(e,this.Editor);return r===void 0?!1:(this.Editor.Caret.setToBlock(r,n,o),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Gk extends Me{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let Yk=class eg extends Me{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Vt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:o=>_t.t(eg.getNamespace(e,n),o)})}};class Zk extends Me{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class Xk extends Me{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Jk extends Me{get methods(){return{on:(e,n,o,r)=>this.on(e,n,o,r),off:(e,n,o,r)=>this.off(e,n,o,r),offById:e=>this.offById(e)}}on(e,n,o,r){return this.listeners.on(e,n,o,r)}off(e,n,o,r){this.listeners.off(e,n,o,r)}offById(e){this.listeners.offById(e)}}var tg={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=o,r.d=function(i,s,a){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)r.d(a,l,(function(d){return i[d]}).bind(null,l));return a},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="/",r(r.s=0)}([function(n,o,r){r(1),n.exports=function(){var i=r(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var d=null,c=l.time||8e3;switch(l.type){case"confirm":d=i.confirm(l);break;case"prompt":d=i.prompt(l);break;default:d=i.alert(l),window.setTimeout(function(){d.remove()},c)}a.appendChild(d),d.classList.add(s)}}}}()},function(n,o,r){var i=r(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,o,r){(n.exports=r(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,o){n.exports=function(r){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,d){var c=l[1]||"",u=l[3];if(!u)return c;if(d&&typeof btoa=="function"){var p=(h=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),b=u.sources.map(function(g){return"/*# sourceURL="+u.sourceRoot+g+" */"});return[c].concat(b).concat([p]).join(`
`)}var h;return[c].join(`
`)}(s,r);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},d=0;d<this.length;d++){var c=this[d][0];typeof c=="number"&&(l[c]=!0)}for(d=0;d<s.length;d++){var u=s[d];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,o,r){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),d=function(B){var w={};return function(O){if(typeof O=="function")return O();if(w[O]===void 0){var I=(function(R){return document.querySelector(R)}).call(this,O);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}w[O]=I}return w[O]}}(),c=null,u=0,p=[],b=r(5);function h(B,w){for(var O=0;O<B.length;O++){var I=B[O],R=a[I.id];if(R){R.refs++;for(var F=0;F<R.parts.length;F++)R.parts[F](I.parts[F]);for(;F<I.parts.length;F++)R.parts.push(L(I.parts[F],w))}else{var D=[];for(F=0;F<I.parts.length;F++)D.push(L(I.parts[F],w));a[I.id]={id:I.id,refs:1,parts:D}}}}function g(B,w){for(var O=[],I={},R=0;R<B.length;R++){var F=B[R],D=w.base?F[0]+w.base:F[0],V={css:F[1],media:F[2],sourceMap:F[3]};I[D]?I[D].parts.push(V):O.push(I[D]={id:D,parts:[V]})}return O}function x(B,w){var O=d(B.insertInto);if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=p[p.length-1];if(B.insertAt==="top")I?I.nextSibling?O.insertBefore(w,I.nextSibling):O.appendChild(w):O.insertBefore(w,O.firstChild),p.push(w);else if(B.insertAt==="bottom")O.appendChild(w);else{if(typeof B.insertAt!="object"||!B.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=d(B.insertInto+" "+B.insertAt.before);O.insertBefore(w,R)}}function k(B){if(B.parentNode===null)return!1;B.parentNode.removeChild(B);var w=p.indexOf(B);w>=0&&p.splice(w,1)}function _(B){var w=document.createElement("style");return B.attrs.type===void 0&&(B.attrs.type="text/css"),C(w,B.attrs),x(B,w),w}function C(B,w){Object.keys(w).forEach(function(O){B.setAttribute(O,w[O])})}function L(B,w){var O,I,R,F;if(w.transform&&B.css){if(!(F=w.transform(B.css)))return function(){};B.css=F}if(w.singleton){var D=u++;O=c||(c=_(w)),I=T.bind(null,O,D,!1),R=T.bind(null,O,D,!0)}else B.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(O=function(V){var J=document.createElement("link");return V.attrs.type===void 0&&(V.attrs.type="text/css"),V.attrs.rel="stylesheet",C(J,V.attrs),x(V,J),J}(w),I=(function(V,J,Z){var te=Z.css,le=Z.sourceMap,Fe=J.convertToAbsoluteUrls===void 0&&le;(J.convertToAbsoluteUrls||Fe)&&(te=b(te)),le&&(te+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(le))))+" */");var Te=new Blob([te],{type:"text/css"}),Ie=V.href;V.href=URL.createObjectURL(Te),Ie&&URL.revokeObjectURL(Ie)}).bind(null,O,w),R=function(){k(O),O.href&&URL.revokeObjectURL(O.href)}):(O=_(w),I=(function(V,J){var Z=J.css,te=J.media;if(te&&V.setAttribute("media",te),V.styleSheet)V.styleSheet.cssText=Z;else{for(;V.firstChild;)V.removeChild(V.firstChild);V.appendChild(document.createTextNode(Z))}}).bind(null,O),R=function(){k(O)});return I(B),function(V){if(V){if(V.css===B.css&&V.media===B.media&&V.sourceMap===B.sourceMap)return;I(B=V)}else R()}}n.exports=function(B,w){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(w=w||{}).attrs=typeof w.attrs=="object"?w.attrs:{},w.singleton||typeof w.singleton=="boolean"||(w.singleton=l()),w.insertInto||(w.insertInto="head"),w.insertAt||(w.insertAt="bottom");var O=g(B,w);return h(O,w),function(I){for(var R=[],F=0;F<O.length;F++){var D=O[F];(V=a[D.id]).refs--,R.push(V)}for(I&&h(g(I,w),w),F=0;F<R.length;F++){var V;if((V=R[F]).refs===0){for(var J=0;J<V.parts.length;J++)V.parts[J]();delete a[V.id]}}}};var P,S=(P=[],function(B,w){return P[B]=w,P.filter(Boolean).join(`
`)});function T(B,w,O,I){var R=O?"":I.css;if(B.styleSheet)B.styleSheet.cssText=S(w,R);else{var F=document.createTextNode(R),D=B.childNodes;D[w]&&B.removeChild(D[w]),D.length?B.insertBefore(F,D[w]):B.appendChild(F)}}},function(n,o){n.exports=function(r){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,d){var c,u=d.trim().replace(/^"(.*)"$/,function(p,b){return b}).replace(/^'(.*)'$/,function(p,b){return b});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(c=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(c)+")")})}},function(n,o,r){var i,s,a,l,d,c,u,p,b;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",d="cdx-notify__button--cancel",c="cdx-notify__input",u="cdx-notify__button",p="cdx-notify__btns-wrapper",{alert:b=function(h){var g=document.createElement("DIV"),x=document.createElement("DIV"),k=h.message,_=h.style;return g.classList.add(s),_&&g.classList.add(s+"--"+_),g.innerHTML=k,x.classList.add(a),x.addEventListener("click",g.remove.bind(g)),g.appendChild(x),g},confirm:function(h){var g=b(h),x=document.createElement("div"),k=document.createElement("button"),_=document.createElement("button"),C=g.querySelector("."+a),L=h.cancelHandler,P=h.okHandler;return x.classList.add(p),k.innerHTML=h.okText||"Confirm",_.innerHTML=h.cancelText||"Cancel",k.classList.add(u),_.classList.add(u),k.classList.add(l),_.classList.add(d),L&&typeof L=="function"&&(_.addEventListener("click",L),C.addEventListener("click",L)),P&&typeof P=="function"&&k.addEventListener("click",P),k.addEventListener("click",g.remove.bind(g)),_.addEventListener("click",g.remove.bind(g)),x.appendChild(k),x.appendChild(_),g.appendChild(x),g},prompt:function(h){var g=b(h),x=document.createElement("div"),k=document.createElement("button"),_=document.createElement("input"),C=g.querySelector("."+a),L=h.cancelHandler,P=h.okHandler;return x.classList.add(p),k.innerHTML=h.okText||"Ok",k.classList.add(u),k.classList.add(l),_.classList.add(c),h.placeholder&&_.setAttribute("placeholder",h.placeholder),h.default&&(_.value=h.default),h.inputType&&(_.type=h.inputType),L&&typeof L=="function"&&C.addEventListener("click",L),P&&typeof P=="function"&&k.addEventListener("click",function(){P(_.value)}),k.addEventListener("click",g.remove.bind(g)),x.appendChild(_),x.appendChild(k),g.appendChild(x),g},getWrapper:function(){var h=document.createElement("DIV");return h.classList.add(i),h}})}])})})(tg);var eE=tg.exports;const tE=js(eE);class nE{show(e){tE.show(e)}}class oE extends Me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new nE}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class rE extends Me{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var ng={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(Qr,function(){function n(u){var p=u.tags,b=Object.keys(p),h=b.map(function(g){return typeof p[g]}).every(function(g){return g==="object"||g==="boolean"||g==="function"});if(!h)throw new Error("The configuration was invalid");this.config=u}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(u){return o.indexOf(u.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return i.indexOf(u.nodeName)!==-1}n.prototype.clean=function(u){const p=document.implementation.createHTMLDocument(),b=p.createElement("div");return b.innerHTML=u,this._sanitize(p,b),b.innerHTML},n.prototype._sanitize=function(u,p){var b=a(u,p),h=b.firstChild();if(h)do{if(h.nodeType===Node.TEXT_NODE)if(h.data.trim()===""&&(h.previousElementSibling&&r(h.previousElementSibling)||h.nextElementSibling&&r(h.nextElementSibling))){p.removeChild(h),this._sanitize(u,p);break}else continue;if(h.nodeType===Node.COMMENT_NODE){p.removeChild(h),this._sanitize(u,p);break}var g=s(h),x;g&&(x=Array.prototype.some.call(h.childNodes,r));var k=!!p.parentNode,_=r(p)&&r(h)&&k,C=h.nodeName.toLowerCase(),L=l(this.config,C,h),P=g&&x;if(P||d(h,L)||!this.config.keepNestedBlockElements&&_){if(!(h.nodeName==="SCRIPT"||h.nodeName==="STYLE"))for(;h.childNodes.length>0;)p.insertBefore(h.childNodes[0],h);p.removeChild(h),this._sanitize(u,p);break}for(var S=0;S<h.attributes.length;S+=1){var T=h.attributes[S];c(T,L,h)&&(h.removeAttribute(T.name),S=S-1)}this._sanitize(u,h)}while(h=b.nextSibling())};function a(u,p){return u.createTreeWalker(p,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,p,b){return typeof u.tags[p]=="function"?u.tags[p](b):u.tags[p]}function d(u,p){return typeof p>"u"?!0:typeof p=="boolean"?!p:!1}function c(u,p,b){var h=u.name.toLowerCase();return p===!0?!1:typeof p[h]=="function"?!p[h](u.value,b):typeof p[h]>"u"||p[h]===!1?!0:typeof p[h]=="string"?p[h]!==u.value:!1}return n})})(ng);var iE=ng.exports;const sE=js(iE);function lc(t,e){return t.map(n=>{const o=Qe(e)?e(n.tool):e;return Kt(o)||(n.data=cc(n.data,o)),n})}function pn(t,e={}){const n={tags:e};return new sE(n).clean(t)}function cc(t,e){return Array.isArray(t)?aE(t,e):ut(t)?lE(t,e):$n(t)?cE(t,e):t}function aE(t,e){return t.map(n=>cc(n,e))}function lE(t,e){const n={};for(const o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const r=t[o],i=uE(e[o])?e[o]:e;n[o]=cc(r,i)}return n}function cE(t,e){return ut(e)?pn(t,e):e===!1?pn(t,{}):t}function uE(t){return ut(t)||Ik(t)||Qe(t)}class dE extends Me{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return pn(e,n)}}class fE extends Me{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Vt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class hE extends Me{constructor(){super(...arguments),this.selectionUtils=new be}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class pE extends Me{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class gE extends Me{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class mE extends Me{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Vt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Vt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var og={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=o,r.d=function(i,s,a){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)r.d(a,l,(function(d){return i[d]}).bind(null,l));return a},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=0)}([function(n,o,r){n.exports=r(1)},function(n,o,r){r.r(o),r.d(o,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,d){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const c=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},d);if(c.hidingDelay&&(this.hidingDelay=c.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),c.placement){case"top":this.placeTop(a,c);break;case"left":this.placeLeft(a,c);break;case"right":this.placeRight(a,c);break;case"bottom":default:this.placeBottom(a,c)}c&&c.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},c.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,d){a.addEventListener("mouseenter",()=>{this.show(a,l,d)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=r(2),d=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,d)}placeBottom(a,l){const d=a.getBoundingClientRect(),c=d.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=d.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",c,u)}placeTop(a,l){const d=a.getBoundingClientRect(),c=d.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=d.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",c,u)}placeLeft(a,l){const d=a.getBoundingClientRect(),c=d.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=d.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",c,u)}placeRight(a,l){const d=a.getBoundingClientRect(),c=d.right+this.offsetRight+l.marginRight,u=d.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",c,u)}applyPlacement(a,l,d){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=d+"px"}make(a,l=null,d={}){const c=document.createElement(a);Array.isArray(l)?c.classList.add(...l):l&&c.classList.add(l);for(const u in d)d.hasOwnProperty(u)&&(c[u]=d[u]);return c}append(a,l){Array.isArray(l)?l.forEach(d=>a.appendChild(d)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(d=>a.prepend(d)):a.prepend(l)}}},function(n,o){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(og);var bE=og.exports;const vE=js(bE);let Jt=null;function uc(){Jt||(Jt=new vE)}function yE(t,e,n){uc(),Jt==null||Jt.show(t,e,n)}function ls(t=!1){uc(),Jt==null||Jt.hide(t)}function cs(t,e,n){uc(),Jt==null||Jt.onHover(t,e,n)}function xE(){Jt==null||Jt.destroy(),Jt=null}class wE extends Me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,o)=>this.show(e,n,o),hide:()=>this.hide(),onHover:(e,n,o)=>this.onHover(e,n,o)}}show(e,n,o){yE(e,n,o)}hide(){ls()}onHover(e,n,o){cs(e,n,o)}}class kE extends Me{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function rg(t,e){const n={};return Object.entries(t).forEach(([o,r])=>{if(ut(r)){const i=e?`${e}.${o}`:o;Object.values(r).every(s=>$n(s))?n[o]=i:n[o]=rg(r,i);return}n[o]=r}),n}const Lt=rg(W0);function EE(t,e){const n={};return Object.keys(t).forEach(o=>{const r=e[o];r!==void 0?n[r]=t[o]:n[o]=t[o]}),n}const ig=class Or{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(Or.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Or.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===Or.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===Or.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,W.canSetCaret(this.items[n])&&is(()=>be.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};ig.directions={RIGHT:"right",LEFT:"left"};let Er=ig,us=class yl{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(yl.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case ke.TAB:this.handleTabPress(n);break;case ke.LEFT:case ke.UP:this.flipLeft();break;case ke.RIGHT:case ke.DOWN:this.flipRight();break;case ke.ENTER:this.handleEnterPress(n);break}},this.iterator=new Er(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||yl.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[ke.TAB,ke.LEFT,ke.RIGHT,ke.ENTER,ke.UP,ke.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Er.directions.LEFT:Er.directions.RIGHT){case Er.directions.RIGHT:this.flipRight();break;case Er.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Qe(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const _E='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',CE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',SE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',TE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',IE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',OE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',AE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',BE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Tf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',ME='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',PE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',sg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',LE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',RE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',NE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',$E="__",DE="--";function ao(t){return(e,n)=>[[t,e].filter(o=>!!o).join($E),n].filter(o=>!!o).join(DE)}const _r=ao("ce-hint"),Cr={root:_r(),alignedStart:_r(null,"align-left"),alignedCenter:_r(null,"align-center"),title:_r("title"),description:_r("description")};class jE{constructor(e){this.nodes={root:W.make("div",[Cr.root,e.alignment==="center"?Cr.alignedCenter:Cr.alignedStart]),title:W.make("div",Cr.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=W.make("div",Cr.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let dc=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){ls()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const o=new jE(n);cs(e,o.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const Bt=ao("ce-popover-item"),Ge={container:Bt(),active:Bt(null,"active"),disabled:Bt(null,"disabled"),focused:Bt(null,"focused"),hidden:Bt(null,"hidden"),confirmationState:Bt(null,"confirmation"),noHover:Bt(null,"no-hover"),noFocus:Bt(null,"no-focus"),title:Bt("title"),secondaryTitle:Bt("secondary-title"),icon:Bt("icon"),iconTool:Bt("icon","tool"),iconChevronRight:Bt("icon","chevron-right"),wobbleAnimation:ao("wobble")()};let yo=class extends dc{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var o;(o=this.nodes.root)==null||o.classList.remove(Ge.noFocus)},this.removeSpecialHoverBehavior=()=>{var o;(o=this.nodes.root)==null||o.classList.remove(Ge.noHover)},this.onErrorAnimationEnd=()=>{var o,r;(o=this.nodes.icon)==null||o.classList.remove(Ge.wobbleAnimation),(r=this.nodes.icon)==null||r.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(Ge.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ge.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ge.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var o,r;const i=(n==null?void 0:n.wrapperTag)||"div",s=W.make(i,Ge.container,{type:i==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=W.make("div",[Ge.icon,Ge.iconTool],{innerHTML:e.icon||AE}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(W.make("div",Ge.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(W.make("div",Ge.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(W.make("div",[Ge.icon,Ge.iconChevronRight],{innerHTML:TE})),this.isActive&&s.classList.add(Ge.active),e.isDisabled&&s.classList.add(Ge.disabled),e.hint!==void 0&&((o=n==null?void 0:n.hint)==null?void 0:o.enabled)!==!1&&this.addHint(s,{...e.hint,position:((r=n==null?void 0:n.hint)==null?void 0:r.position)||"right"}),s}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},o=this.make(n);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(Ge.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Ge.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,o;(e=this.nodes.root)==null||e.classList.add(Ge.noHover),(n=this.nodes.root)==null||n.classList.add(Ge.noFocus),(o=this.nodes.root)==null||o.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,o;(e=this.nodes.icon)!=null&&e.classList.contains(Ge.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(Ge.wobbleAnimation),(o=this.nodes.icon)==null||o.addEventListener("animationend",this.onErrorAnimationEnd))}};const _a=ao("ce-popover-item-separator"),Ca={container:_a(),line:_a("line"),hidden:_a(null,"hidden")};class ag extends dc{constructor(){super(),this.nodes={root:W.make("div",Ca.container),line:W.make("div",Ca.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ca.hidden,e)}}var yn=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(yn||{});const vt=ao("ce-popover"),Je={popover:vt(),popoverContainer:vt("container"),popoverOpenTop:vt(null,"open-top"),popoverOpenLeft:vt(null,"open-left"),popoverOpened:vt(null,"opened"),search:vt("search"),nothingFoundMessage:vt("nothing-found-message"),nothingFoundMessageDisplayed:vt("nothing-found-message","displayed"),items:vt("items"),overlay:vt("overlay"),overlayHidden:vt("overlay","hidden"),popoverNested:vt(null,"nested"),getPopoverNestedClass:t=>vt(null,`nested-level-${t.toString()}`),popoverInline:vt(null,"inline"),popoverHeader:vt("header")};var sr=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(sr||{});const If=ao("ce-popover-item-html"),Of={root:If(),hidden:If(null,"hidden")};let Yr=class extends dc{constructor(e,n){var o,r;super(e),this.nodes={root:W.make("div",Of.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((o=n==null?void 0:n.hint)==null?void 0:o.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((r=n==null?void 0:n.hint)==null?void 0:r.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Of.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${W.allInputsSelector}`);return Array.from(e)}};class lg extends di{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new fi,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=W.make("div",[Je.popoverContainer]),this.nodes.nothingFoundMessage=W.make("div",[Je.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=W.make("div",[Je.items]),this.items.forEach(o=>{const r=o.getElement();r!==null&&this.nodes.items.appendChild(r)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",o=>this.handleClick(o)),this.nodes.popover=W.make("div",[Je.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof yo)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(Je.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(Je.popoverOpened),this.nodes.popover.classList.remove(Je.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(yn.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(o=>o.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case qe.Separator:return new ag;case qe.Html:return new Yr(n,this.itemsRenderParams[qe.Html]);default:return new yo(n,this.itemsRenderParams[qe.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof yo||n instanceof Yr).find(n=>{const o=n.getElement();return o===null?!1:e.composedPath().includes(o)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(yn.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof yo&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(o=>o.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(o=>{o.toggleActive(o===e)})}}}var ds=(t=>(t.Search="search",t))(ds||{});const Sa=ao("cdx-search-field"),Ta={wrapper:Sa(),icon:Sa("icon"),input:Sa("input")};class FE extends di{constructor({items:e,placeholder:n}){super(),this.listeners=new fi,this.items=e,this.wrapper=W.make("div",Ta.wrapper);const o=W.make("div",Ta.icon,{innerHTML:LE});this.input=W.make("input",Ta.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(o),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(ds.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(ds.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,o;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",i=(o=this.searchQuery)==null?void 0:o.toLowerCase();return i!==void 0?r.includes(i):!1}}var HE=Object.defineProperty,UE=Object.getOwnPropertyDescriptor,VE=(t,e,n,o)=>{for(var r=UE(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=s(e,n,r)||r);return r&&HE(e,n,r),r};const cg=class ug extends lg{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var o;super.hide(),this.destroyNestedPopoverIfExists(),(o=this.flipper)==null||o.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const o=this.itemsDefault.find(r=>r.isFocused);o==null||o.onFocus()},this.onSearch=o=>{var r;const i=o.query==="",s=o.items.length===0;this.items.forEach(l=>{let d=!1;l instanceof yo?d=!o.items.includes(l):(l instanceof ag||l instanceof Yr)&&(d=s||!i),l.toggleHidden(d)}),this.toggleNothingFoundMessage(s);const a=o.query===""?this.flippableElements:o.items.map(l=>l.getElement());(r=this.flipper)!=null&&r.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(Je.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",o=>this.handleHover(o)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new us({items:this.flippableElements,focusedItemClass:Ge.focused,allowedKeys:[ke.TAB,ke.UP,ke.DOWN,ke.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(sr.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(Je.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(Je.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const o=n.getElement(),r=(o?o.offsetTop:0)-this.scrollTop,i=this.offsetTop+r;e.style.setProperty(sr.TriggerItemTop,i+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(yn.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new ug({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(yn.ClosedOnActivate,this.hide);const o=this.nestedPopover.getElement();return this.nodes.popover.appendChild(o),this.setTriggerItemPosition(o,e),o.style.setProperty(sr.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),o=this.size.height,r=e.top+o,i=e.top-o,s=Math.min(window.innerHeight,n.bottom);return i<n.top||r<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),o=this.size.width,r=e.right+o,i=e.left-o,s=Math.min(window.innerWidth,n.right);return i<n.left||r<=s}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const o=this.nodes.popover.cloneNode(!0);o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000px",o.classList.add(Je.popoverOpened),(e=o.querySelector("."+Je.popoverNested))==null||e.remove(),document.body.appendChild(o);const r=o.querySelector("."+Je.popoverContainer);return n.height=r.offsetHeight,n.width=r.offsetWidth,o.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof yo)return e.getElement();if(e instanceof Yr)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new FE({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(ds.Search,this.onSearch);const e=this.search.getElement();e.classList.add(Je.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Je.nothingFoundMessageDisplayed,e)}};VE([gr],cg.prototype,"size");let fc=cg;class zE extends fc{constructor(e){const n=!mr();super({...e,class:Je.popoverInline},{[qe.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[qe.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(o=>{!(o instanceof yo)&&!(o instanceof Yr)||o.hasChildren&&o.isChildrenOpen&&this.showNestedItems(o)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(sr.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const o=n.getElement(),r=o?o.offsetLeft:0,i=this.offsetLeft+r;e.style.setProperty(sr.TriggerItemLeft,i+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(Je.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const dg=class Ar{constructor(){this.scrollPosition=null}lock(){ml?this.lockHard():document.body.classList.add(Ar.CSS.scrollLocked)}unlock(){ml?this.unlockHard():document.body.classList.remove(Ar.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ar.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ar.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};dg.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let WE=dg;const Ia=ao("ce-popover-header"),Oa={root:Ia(),text:Ia("text"),backButton:Ia("back-button")};class qE{constructor({text:e,onBackButtonClick:n}){this.listeners=new fi,this.text=e,this.onBackButtonClick=n,this.nodes={root:W.make("div",[Oa.root]),backButton:W.make("button",[Oa.backButton]),text:W.make("div",[Oa.text])},this.nodes.backButton.innerHTML=SE,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class KE{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let fg=class extends lg{constructor(e){super(e,{[qe.Default]:{hint:{enabled:!1}},[qe.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new WE,this.history=new KE,this.isHidden=!0,this.nodes.overlay=W.make("div",[Je.overlay,Je.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(Je.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(Je.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new qE({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const o=this.header.getElement();o!==null&&this.nodes.popoverContainer.insertBefore(o,this.nodes.popoverContainer.firstChild)}this.items.forEach(o=>{var r;return(r=o.getElement())==null?void 0:r.remove()}),this.items=this.buildItems(e),this.items.forEach(o=>{var r;const i=o.getElement();i!==null&&((r=this.nodes.items)==null||r.appendChild(i))})}};class QE extends Me{constructor(){super(...arguments),this.opened=!1,this.selection=new be,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,be.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(yn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=W.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(Gr,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Gr,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:o,commonTunes:r}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const i=mr()?fg:fc;this.popover=new i({searchable:!0,items:await this.getTunesItems(e,r,o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:_t.ui(Lt.ui.popover,"Nothing found"),search:_t.ui(Lt.ui.popover,"Filter")}}),this.popover.on(yn.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,o){const r=[];o!==void 0&&o.length>0&&(r.push(...o),r.push({type:qe.Separator}));const i=Array.from(this.Editor.Tools.blockTools.values()),s=(await J0(e,i)).reduce((a,l)=>(l.toolbox.forEach(d=>{a.push({icon:d.icon,title:_t.t(Lt.toolNames,d.title),name:l.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:c,Caret:u,Toolbar:p}=this.Editor,b=await c.convert(e,l.name,d.data);p.close(),u.setToBlock(b,u.positions.END)}})}),a),[]);return s.length>0&&(r.push({icon:sg,name:"convert-to",title:_t.ui(Lt.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),r.push({type:qe.Separator})),r.push(...n),r.map(a=>this.resolveTuneAliases(a))}resolveTuneAliases(e){if(e.type===qe.Separator||e.type===qe.Html)return e;const n=EE(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var hg={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function r(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=o,r.d=function(i,s,a){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)r.d(a,l,(function(d){return i[d]}).bind(null,l));return a},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=0)}([function(n,o,r){function i(l,d){for(var c=0;c<d.length;c++){var u=d[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,d,c){return d&&i(l.prototype,d),c&&i(l,c),l}r.r(o);var a=function(){function l(d){var c=this;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=d.name,this.parseShortcutName(d.name),this.element=d.on,this.callback=d.callback,this.executeShortcut=function(u){c.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(d){d=d.split("+");for(var c=0;c<d.length;c++){d[c]=d[c].toUpperCase();var u=!1;for(var p in l.supportedCommands)if(l.supportedCommands[p].includes(d[c])){u=this.commands[p]=!0;break}u||(this.keys[d[c]]=!0)}for(var b in l.supportedCommands)this.commands[b]||(this.commands[b]=!1)}},{key:"execute",value:function(d){var c,u={CMD:d.ctrlKey||d.metaKey,SHIFT:d.shiftKey,ALT:d.altKey},p=!0;for(c in this.commands)this.commands[c]!==u[c]&&(p=!1);var b,h=!0;for(b in this.keys)h=h&&d.keyCode===l.keyCodes[b];p&&h&&this.callback(d)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();o.default=a}]).default})})(hg);var GE=hg.exports;const YE=js(GE);class ZE{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new YE({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,n])}remove(e,n){const o=this.findShortcut(e,n);if(!o)return;o.remove();const r=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,r.filter(i=>i!==o))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:o})=>o===n)}}const ur=new ZE;var XE=Object.defineProperty,JE=Object.getOwnPropertyDescriptor,pg=(t,e,n,o)=>{for(var r=JE(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=s(e,n,r)||r);return r&&XE(e,n,r),r},Li=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Li||{});const hc=class gg extends di{constructor({api:e,tools:n,i18nLabels:o}){super(),this.opened=!1,this.listeners=new fi,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=o,this.enableShortcuts(),this.nodes={toolbox:W.make("div",gg.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(Gr,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(yn.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Gr,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=mr()?fg:fc;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(yn.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(yn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,o,r=!0)=>({icon:n.icon,title:_t.t(Lt.toolNames,n.title||ss(o.name)),name:o.name,onActivate:()=>{this.toolButtonActivated(o.name,n.data)},secondaryLabel:o.shortcut&&r?ac(o.shortcut):""});return this.toolsToBeDisplayed.reduce((n,o)=>(Array.isArray(o.toolbox)?o.toolbox.forEach((r,i)=>{n.push(e(r,o,i===0))}):o.toolbox!==void 0&&n.push(e(o.toolbox,o)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){ur.add({name:n,on:this.api.ui.nodes.redactor,handler:async o=>{o.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(i)try{const s=await this.api.blocks.convert(i.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&ur.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const o=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(o);if(!r)return;const i=r.isEmpty?o:o+1;let s;if(n){const l=await this.api.blocks.composeBlockData(e);s=Object.assign(l,n)}const a=this.api.blocks.insert(e,s,void 0,i,void 0,r.isEmpty);a.call(An.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};pg([gr],hc.prototype,"toolsToBeDisplayed");pg([gr],hc.prototype,"toolboxItemsToBeDisplayed");let e5=hc;const mg="block hovered";async function t5(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(o){return console.error(o),e}}class n5 extends Me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){je("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){je("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){je("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:o}=this.Editor.UI;let r;const i=20,s=e.firstInput,a=n.getBoundingClientRect(),l=s!==void 0?s.getBoundingClientRect():null,d=l!==null?l.top-a.top:null,c=d!==null?d>i:void 0;if(o)r=n.offsetTop+n.offsetHeight;else if(s===void 0||c){const u=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);r=n.offsetTop+u}else{const u=jk(s),p=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);r=n.offsetTop+u-p+8+d}this.nodes.wrapper.style.top=`${Math.floor(r)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=W.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=W.make("div",this.CSS[i])}),W.append(this.nodes.wrapper,this.nodes.content),W.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=W.make("div",this.CSS.plusButton,{innerHTML:PE}),W.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{ls(!0),this.plusButtonClicked()},!1);const e=W.make("div");e.appendChild(document.createTextNode(_t.ui(Lt.ui.toolbar.toolbox,"Add"))),e.appendChild(W.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),cs(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=W.make("span",this.CSS.settingsToggler,{innerHTML:ME}),W.append(this.nodes.actions,this.nodes.settingsToggler);const n=W.make("div"),o=W.text(_t.ui(Lt.ui.blockTunes.toggler,"Click to tune")),r=await t5("Slash","/");n.appendChild(o),n.appendChild(W.make("div",this.CSS.plusButtonShortcut,{textContent:ac(`CMD + ${r}`)})),cs(this.nodes.settingsToggler,n,{hidingDelay:400}),W.append(this.nodes.actions,this.makeToolbox()),W.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),W.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new e5({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:_t.ui(Lt.ui.popover,"Filter"),nothingFound:_t.ui(Lt.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Li.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Li.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Li.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:o}=this.Editor,r=n.getBlockById(e.id);r.inputs.length===0&&(r===n.lastBlock?(n.insertAtEnd(),o.setToBlock(n.lastBlock)):o.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),ls(!0)},!0),mr()||this.eventsDispatcher.on(mg,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Io=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Io||{}),Ri=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Ri||{}),bg=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(bg||{}),Yo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Yo||{}),fs=(t=>(t.IsInline="isInline",t.Title="title",t.IsReadOnlySupported="isReadOnlySupported",t))(fs||{}),xl=(t=>(t.IsTune="isTune",t))(xl||{});let pc=class{constructor({name:e,constructable:n,config:o,api:r,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=r,this.name=e,this.constructable=n,this.config=o,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Qe(this.constructable.reset))return this.constructable.reset()}prepare(){if(Qe(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Io.Inline}isBlock(){return this.type===Io.Block}isTune(){return this.type===Io.Tune}};class o5 extends Me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=mr()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;if(this.opened){for(const[o,r]of this.tools){const i=this.getToolShortcut(o.name);i!==void 0&&ur.remove(this.Editor.UI.nodes.redactor,i),Qe(r.clear)&&r.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=W.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),W.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const n=await this.getPopoverItems();this.popover=new zE({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:_t.ui(Lt.ui.popover,"Nothing found"),search:_t.ui(Lt.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=be.rect,o=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:n.x-o.x,y:n.y+n.height-o.top+this.toolbarVerticalMargin};r.x+e+o.x>this.Editor.UI.contentRect.right&&(r.x=this.Editor.UI.contentRect.right-e-o.x),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=be.get(),o=be.text;if(!n||!n.anchorNode||n.isCollapsed||o.length<1)return!1;const r=W.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(r===null||n!==null&&e.includes(r.tagName))return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return!i||this.getTools().some(s=>i.tool.inlineTools.has(s.name))===!1?!1:r.closest("[contenteditable]")!==null}getTools(){const e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(n=>!(this.Editor.ReadOnly.isEnabled&&n.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{const n=e.create();this.tools.set(e,n)})}async getPopoverItems(){const e=[];let n=0;for(const[o,r]of this.tools){const i=await r.render(),s=this.getToolShortcut(o.name);if(s!==void 0)try{this.enableShortcuts(o.name,s)}catch{}const a=s!==void 0?ac(s):void 0,l=_t.t(Lt.toolNames,o.title||ss(o.name));[i].flat().forEach(d=>{var c,u;const p={name:o.name,onActivate:()=>{this.toolClicked(r)},hint:{title:l,description:a}};if(W.isElement(d)){const b={...p,element:d,type:qe.Html};if(Qe(r.renderActions)){const h=r.renderActions();b.children={isOpen:(c=r.checkState)==null?void 0:c.call(r,be.get()),isFlippable:!1,items:[{type:qe.Html,element:h}]}}else(u=r.checkState)==null||u.call(r,be.get());e.push(b)}else if(d.type===qe.Html)e.push({...p,...d,type:qe.Html});else if(d.type===qe.Separator)e.push({type:qe.Separator});else{const b={...p,...d,type:qe.Default};"children"in b&&n!==0&&e.push({type:qe.Separator}),e.push(b),"children"in b&&n<this.tools.size-1&&e.push({type:qe.Separator})}}),n++}return e}getToolShortcut(e){const{Tools:n}=this.Editor,o=n.inlineTools.get(e),r=n.internal.inlineTools;return Array.from(r.keys()).includes(e)?this.inlineTools[e][bg.Shortcut]:o==null?void 0:o.shortcut}enableShortcuts(e,n){ur.add({name:n,handler:o=>{var r;const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(o.preventDefault(),(r=this.popover)==null||r.activateItemByName(e))},on:document})}toolClicked(e){var n;const o=be.range;(n=e.surround)==null||n.call(e,o),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(n=>{var o;(o=n.checkState)==null||o.call(n,be.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,o])=>{e[n]=o.create()}),e}}function vg(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function yg(t,e,n,o){const r=document.createRange();o==="left"?(r.setStart(t,0),r.setEnd(e,n)):(r.setStart(e,n),r.setEnd(t,t.childNodes.length));const i=r.cloneContents(),s=document.createElement("div");s.appendChild(i);const a=s.textContent||"";return Dk(a)}function Ni(t){const e=W.getDeepestNode(t);if(e===null||W.isEmpty(t))return!0;if(W.isNativeInput(e))return e.selectionEnd===0;if(W.isEmpty(t))return!0;const[n,o]=vg();return n===null?!1:yg(t,n,o,"left")}function $i(t){const e=W.getDeepestNode(t,!0);if(e===null)return!0;if(W.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,o]=vg();return n===null?!1:yg(t,n,o,"right")}var xg={},gc={},Fs={},No={},mc={},bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.allInputsSelector=r5;function r5(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=bc;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(mc);var $o={},vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.isNativeInput=i5;function i5(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=vc;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})($o);var wg={},yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.append=s5;function s5(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=yc;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(wg);var xc={},wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.blockElements=a5;function a5(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=wc;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(xc);var kg={},kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.calculateBaseline=l5;function l5(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||n*1.2,r=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(o-n)/2,d=s+i+r+l+a;return d}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=kc;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(kg);var Eg={},Ec={},_c={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.isContentEditable=c5;function c5(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Cc;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(_c);Object.defineProperty(Ec,"__esModule",{value:!0});Ec.canSetCaret=f5;var u5=$o,d5=_c;function f5(t){var e=!0;if((0,u5.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,d5.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Ec;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(Eg);var Hs={},Sc={};function h5(t,e,n){const o=n.value!==void 0?"value":"get",r=n[o],i=`#${e}Cache`;if(n[o]=function(...s){return this[i]===void 0&&(this[i]=r.apply(this,s)),this[i]},o==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}function _g(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Tc(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function p5(t){return!Tc(t)}const g5=()=>typeof window<"u"&&window.navigator!==null&&Tc(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function m5(t){const e=_g();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function b5(t){return t[0].toUpperCase()+t.slice(1)}function v5(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),o=document.createRange();if(o.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}function y5(t,e,n){let o;return(...r)=>{const i=this,s=()=>{o=void 0,n!==!0&&t.apply(i,r)},a=n===!0&&o!==void 0;window.clearTimeout(o),o=window.setTimeout(s,e),a&&t.apply(i,r)}}function ro(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function x5(t){return ro(t)==="boolean"}function Cg(t){return ro(t)==="function"||ro(t)==="asyncfunction"}function w5(t){return Cg(t)&&/^\s*class\s+/.test(t.toString())}function k5(t){return ro(t)==="number"}function Di(t){return ro(t)==="object"}function E5(t){return Promise.resolve(t)===t}function _5(t){return ro(t)==="string"}function C5(t){return ro(t)==="undefined"}function wl(t,...e){if(!e.length)return t;const n=e.shift();if(Di(t)&&Di(n))for(const o in n)Di(n[o])?(t[o]===void 0&&Object.assign(t,{[o]:{}}),wl(t[o],n[o])):Object.assign(t,{[o]:n[o]});return wl(t,...e)}function S5(t,e,n){const o=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&console.warn(o)}function T5(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function I5(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const O5={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},A5={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let B5=class{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((e,n)=>{this.completed=this.completed.then(t).then(e).catch(n)})}};function M5(t,e,n=void 0){let o,r,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(o,r),s===null&&(o=r=null)};return function(){const d=Date.now();!a&&n.leading===!1&&(a=d);const c=e-(d-a);return o=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=d,i=t.apply(o,r),s===null&&(o=r=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,c)),i}}const P5=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:B5,beautifyShortcut:m5,cacheable:h5,capitalize:b5,copyTextToClipboard:v5,debounce:y5,deepMerge:wl,deprecationAssert:S5,getUserOS:_g,getValidUrl:T5,isBoolean:x5,isClass:w5,isEmpty:p5,isFunction:Cg,isIosDevice:g5,isNumber:k5,isObject:Di,isPrintableKey:I5,isPromise:E5,isString:_5,isUndefined:C5,keyCodes:O5,mouseButtons:A5,notEmpty:Tc,throttle:M5,typeOf:ro},Symbol.toStringTag,{value:"Module"})),Ic=_k(P5);Object.defineProperty(Sc,"__esModule",{value:!0});Sc.containsOnlyInlineElements=N5;var L5=Ic,R5=xc;function N5(t){var e;(0,L5.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(o){return!(0,R5.blockElements)().includes(o.tagName.toLowerCase())&&Array.from(o.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=Sc;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Hs);var Sg={},Oc={},Us={},Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.make=$5;function $5(t,e,n){var o;e===void 0&&(e=null),n===void 0&&(n={});var r=document.createElement(t);if(Array.isArray(e)){var i=e.filter(function(a){return a!==void 0});(o=r.classList).add.apply(o,i)}else e!==null&&r.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s]);return r}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Ac;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Us);Object.defineProperty(Oc,"__esModule",{value:!0});Oc.fragmentToString=j5;var D5=Us;function j5(t){var e=(0,D5.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=Oc;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(Sg);var Tg={},Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getContentLength=H5;var F5=$o;function H5(t){var e,n;return(0,F5.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Bc;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(Tg);var Mc={},Pc={},Af=Qr&&Qr.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getDeepestBlockElements=Ig;var U5=Hs;function Ig(t){return(0,U5.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Af(Af([],e,!0),Ig(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Pc;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Mc);var Og={},Lc={},Vs={},Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.isLineBreakTag=V5;function V5(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Rc;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Vs);var zs={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.isSingleTag=z5;function z5(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=Nc;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(zs);Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getDeepestNode=Ag;var W5=$o,q5=Vs,K5=zs;function Ag(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var r=t[n];if((0,K5.isSingleTag)(r)&&!(0,W5.isNativeInput)(r)&&!(0,q5.isLineBreakTag)(r))if(r[o])r=r[o];else if(r.parentNode!==null&&r.parentNode[o])r=r.parentNode[o];else return r.parentNode;return Ag(r,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=Lc;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(Og);var Bg={},$c={},yi=Qr&&Qr.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty($c,"__esModule",{value:!0});$c.findAllInputs=X5;var Q5=Hs,G5=Mc,Y5=mc,Z5=$o;function X5(t){return Array.from(t.querySelectorAll((0,Y5.allInputsSelector)())).reduce(function(e,n){return(0,Z5.isNativeInput)(n)||(0,Q5.containsOnlyInlineElements)(n)?yi(yi([],e,!0),[n],!1):yi(yi([],e,!0),(0,G5.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=$c;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(Bg);var Mg={},Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.isCollapsedWhitespaces=J5;function J5(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Dc;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(Mg);var jc={},Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.isElement=t_;var e_=Ic;function t_(t){return(0,e_.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=Fc;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(jc);var Pg={},Hc={},Uc={},Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.isLeaf=n_;function n_(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=Vc;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(Uc);var zc={},Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.isNodeEmpty=a_;var o_=Vs,r_=jc,i_=$o,s_=zs;function a_(t,e){var n="";return(0,s_.isSingleTag)(t)&&!(0,o_.isLineBreakTag)(t)?!1:((0,r_.isElement)(t)&&(0,i_.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("​","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=Wc;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(zc);Object.defineProperty(Hc,"__esModule",{value:!0});Hc.isEmpty=u_;var l_=Uc,c_=zc;function u_(t,e){t.normalize();for(var n=[t];n.length>0;){var o=n.shift();if(o){if(t=o,(0,l_.isLeaf)(t)&&!(0,c_.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=Hc;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(Pg);var Lg={},qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.isFragment=f_;var d_=Ic;function f_(t){return(0,d_.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=qc;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(Lg);var Rg={},Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.isHTMLString=p_;var h_=Us;function p_(t){var e=(0,h_.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=Kc;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Rg);var Ng={},Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.offset=g_;function g_(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,r=e.top+o,i=e.left+n;return{top:r,left:i,bottom:r+e.height,right:i+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Qc;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(Ng);var $g={},Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.prepend=m_;function m_(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=Gc;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})($g);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=mc;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=$o;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var o=wg;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return o.append}});var r=xc;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return r.blockElements}});var i=kg;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=Eg;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Hs;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=Sg;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var d=Tg;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return d.getContentLength}});var c=Mc;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return c.getDeepestBlockElements}});var u=Og;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var p=Bg;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var b=Mg;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return b.isCollapsedWhitespaces}});var h=_c;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return h.isContentEditable}});var g=jc;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return g.isElement}});var x=Pg;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return x.isEmpty}});var k=Lg;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return k.isFragment}});var _=Rg;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var C=Uc;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return C.isLeaf}});var L=zc;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return L.isNodeEmpty}});var P=Vs;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return P.isLineBreakTag}});var S=zs;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return S.isSingleTag}});var T=Us;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return T.make}});var B=Ng;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return B.offset}});var w=$g;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return w.prepend}})})(No);var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.getContenteditableSlice=v_;var b_=No;function v_(t,e,n,o,r){var i;r===void 0&&(r=!1);var s=document.createRange();if(o==="left"?(s.setStart(t,0),s.setEnd(e,n)):(s.setStart(e,n),s.setEnd(t,t.childNodes.length)),r===!0){var a=s.extractContents();return(0,b_.fragmentToString)(a)}var l=s.cloneContents(),d=document.createElement("div");d.appendChild(l);var c=(i=d.textContent)!==null&&i!==void 0?i:"";return c}Object.defineProperty(Fs,"__esModule",{value:!0});Fs.checkContenteditableSliceForEmptiness=w_;var y_=No,x_=Ws;function w_(t,e,n,o){var r=(0,x_.getContenteditableSlice)(t,e,n,o);return(0,y_.isCollapsedWhitespaces)(r)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=Fs;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(gc);var Dg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=Ws;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(Dg);var jg={},Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.focus=E_;var k_=No;function E_(t,e){var n,o;if(e===void 0&&(e=!0),(0,k_.isNativeInput)(t)){t.focus();var r=e?0:t.value.length;t.setSelectionRange(r,r)}else{var i=document.createRange(),s=window.getSelection();if(!s)return;var a=function(p){var b=document.createTextNode("");p.appendChild(b),i.setStart(b,0),i.setEnd(b,0)},l=function(p){return p!=null},d=t.childNodes,c=e?d[0]:d[d.length-1];if(l(c)){for(;l(c)&&c.nodeType!==Node.TEXT_NODE;)c=e?c.firstChild:c.lastChild;if(l(c)&&c.nodeType===Node.TEXT_NODE){var u=(o=(n=c.textContent)===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0,r=e?0:u;i.setStart(c,r),i.setEnd(c,r)}else a(t)}else a(t);s.removeAllRanges(),s.addRange(i)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=Yc;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(jg);var Zc={},qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.getCaretNodeAndOffset=__;function __(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=qs;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Zc);var Fg={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.getRange=C_;function C_(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=Ks;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(Fg);var Hg={},Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.isCaretAtEndOfInput=I_;var Bf=No,S_=Zc,T_=gc;function I_(t){var e=(0,Bf.getDeepestNode)(t,!0);if(e===null)return!0;if((0,Bf.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,S_.getCaretNodeAndOffset)(),o=n[0],r=n[1];return o===null?!1:(0,T_.checkContenteditableSliceForEmptiness)(t,o,r,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=Xc;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(Hg);var Ug={},Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.isCaretAtStartOfInput=B_;var xi=No,O_=qs,A_=Fs;function B_(t){var e=(0,xi.getDeepestNode)(t);if(e===null||(0,xi.isEmpty)(t))return!0;if((0,xi.isNativeInput)(e))return e.selectionEnd===0;if((0,xi.isEmpty)(t))return!0;var n=(0,O_.getCaretNodeAndOffset)(),o=n[0],r=n[1];return o===null?!1:(0,A_.checkContenteditableSliceForEmptiness)(t,o,r,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=Jc;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(Ug);var Vg={},eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.save=L_;var M_=No,P_=Ks;function L_(){var t=(0,P_.getRange)(),e=(0,M_.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=eu;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(Vg);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=gc;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=Dg;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var o=jg;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return o.focus}});var r=Zc;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return r.getCaretNodeAndOffset}});var i=Fg;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return i.getRange}});var s=Hg;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var a=Ug;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var l=Vg;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return l.save}})})(xg);class R_ extends Me{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case ke.BACKSPACE:this.backspace(e);break;case ke.DELETE:this.delete(e);break;case ke.ENTER:this.enter(e);break;case ke.DOWN:case ke.RIGHT:this.arrowRightAndDown(e);break;case ke.UP:case ke.LEFT:this.arrowLeftAndUp(e);break;case ke.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&H0(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:o,Caret:r}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=o.removeSelectedBlocks(),s=o.insertDefaultBlockAtIndex(i,!0);r.setToBlock(s,r.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:o}=this.Editor;n.opened||(e.shiftKey?o.navigatePrevious(!0):o.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:o}=this.Editor,r=n.currentBlock;if(r===void 0||r.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey&&!ml)return;let i=r;r.currentInput!==void 0&&Ni(r.currentInput)&&!r.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):r.currentInput&&$i(r.currentInput)?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r,previousBlock:i}=n;if(!(r===void 0||!be.isCollapsed||!r.currentInput||!Ni(r.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.firstInput){o.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(r.isEmpty){n.removeBlock(r);const s=n.currentBlock;o.setToBlock(s,o.positions.END);return}Cf(i,r)?this.mergeBlocks(i,r):o.setToBlock(i,o.positions.END)}}}delete(e){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:r,nextBlock:i}=n;if(!(!be.isCollapsed||!$i(r.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.lastInput){o.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(r.isEmpty){n.removeBlock(r),o.setToBlock(i,o.positions.START);return}Cf(r,i)?this.mergeBlocks(r,i):o.setToBlock(i,o.positions.START)}}}mergeBlocks(e,n){const{BlockManager:o,Toolbar:r}=this.Editor;e.lastInput!==void 0&&(xg.focus(e.lastInput,!1),o.mergeBlocks(e,n).then(()=>{r.close()}))}arrowRightAndDown(e){const n=us.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===ke.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:o}=this.Editor.BlockManager,r=((o==null?void 0:o.currentInput)!==void 0?$i(o.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===ke.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===ke.DOWN||e.keyCode===ke.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}is(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(us.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===ke.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,o=((n==null?void 0:n.currentInput)!==void 0?Ni(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===ke.UP&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===ke.UP||e.keyCode===ke.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}is(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===ke.ENTER&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===ke.ENTER&&this.Editor.BlockSettings.opened,r=e.keyCode===ke.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===ke.TAB;return!(e.shiftKey||i||n||o||r)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Aa{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return U0(this.workingArea.children)}static set(e,n,o){return isNaN(Number(n))?(Reflect.set(e,n,o),!0):(e.insert(+n,o),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const o=this.blocks[n];W.swap(this.blocks[e].holder,o.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=o}move(e,n){const o=this.blocks.splice(n,1)[0],r=e-1,i=Math.max(0,r),s=this.blocks[i];e>0?this.insertToDOM(o,"afterend",s):this.insertToDOM(o,"beforebegin",s),this.blocks.splice(e,0,o);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});o.call(An.MOVED,a)}insert(e,n,o=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(An.REMOVED));const r=o?1:0;if(this.blocks.splice(e,r,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const o=new DocumentFragment;for(const r of e)o.appendChild(r.holder);if(this.length>0){if(n>0){const r=Math.min(n-1,this.length-1);this.blocks[r].holder.after(o)}else n===0&&this.workingArea.prepend(o);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(o);e.forEach(r=>r.call(An.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(An.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(An.REMOVED)),this.blocks.length=0}insertAfter(e,n){const o=this.blocks.indexOf(e);this.insert(o+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,o){n?o.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(An.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Mf="block-removed",Pf="block-added",N_="block-moved",Lf="block-changed";class $_{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,o)=>{this.completed=this.completed.then(e).then(n).catch(o)})}}class D_ extends Me{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Aa(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Aa.set,get:Aa.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:o=void 0,tunes:r={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new Mn({id:o,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:r},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:o={},index:r,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=r;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const d=this.composeBlock({id:e,tool:n,data:o,tunes:a});return s&&this.blockDidMutated(Mf,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,d,s),this.blockDidMutated(Pf,d,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,d}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,o){if(!n&&!o)return e;const r=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,n??{}),tunes:o??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,i),this.blockDidMutated(Lf,i,{index:s}),i}replace(e,n,o){const r=this.getBlockIndex(e);return this.insert({tool:n,data:o,index:r,replace:!0})}paste(e,n,o=!1){const r=this.insert({tool:e,replace:o});try{window.requestIdleCallback(()=>{r.call(An.ON_PASTE,n)})}catch(i){je(`${e}: onPaste callback call is failed`,"error",i)}return r}insertDefaultBlockAtIndex(e,n=!1){const o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(Pf,o,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let o;if(e.name===n.name&&e.mergeable){const r=await n.data;if(Kt(r)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[i]=lc([r],e.tool.sanitizeConfig);o=i}else if(e.mergeable&&as(n,"export")&&as(e,"import")){const r=await n.exportDataAsString(),i=pn(r,e.tool.sanitizeConfig);o=Sf(i,e.tool.conversionConfig)}o!==void 0&&(await e.mergeWith(o),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(o=>{const r=this._blocks.indexOf(e);if(!this.validateIndex(r))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(r),this.blockDidMutated(Mf,e,{index:r}),this.currentBlockIndex>=r&&this.currentBlockIndex--,this.blocks.length?r===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),o()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=W.make("div");n.appendChild(e);const o={text:W.isEmpty(n)?"":n.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){W.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,o=e.closest(`.${Mn.CSS.wrapper}`),r=n.indexOf(o);if(r>=0)return this._blocks[r]}setCurrentBlockByChildNode(e){W.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Mn.CSS.wrapper}`);if(!n)return;const o=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(o!=null&&o.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;W.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Mn.CSS.wrapper}`);return this.blocks.find(o=>o.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){je("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){je("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(N_,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,o){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const r=this.Editor.Tools.blockTools.get(n);if(!r)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const i=await e.exportDataAsString(),s=pn(i,r.sanitizeConfig);let a=Sf(s,r.conversionConfig,r.settings);return o&&(a=Object.assign(a,o)),this.replace(e,r.name,a)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new $_;this.blocks.forEach(o=>{n.add(async()=>{await this.removeBlock(o,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",o=>{n.keydown(o)}),this.readOnlyMutableListeners.on(e.holder,"keyup",o=>{n.keyup(o)}),this.readOnlyMutableListeners.on(e.holder,"dragover",o=>{n.dragOver(o)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",o=>{n.dragLeave(o)}),e.on("didMutated",o=>this.blockDidMutated(Lf,o,{index:this.getBlockIndex(o)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,o){const r=new CustomEvent(e,{detail:{target:new In(n),...o}});return this.eventsDispatcher.emit(G0,{event:r}),n}}class j_ extends Me{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(o=>{o.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new be,ur.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:o}=this.Editor;if(o.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){be.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let o;isNaN(e)?o=n.currentBlock:o=n.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:o,Caret:r,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&H0(e.keyCode);if(this.anyBlockSelected&&s&&a&&!be.isSelectionExists){const l=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(l,!0),r.setToBlock(o.currentBlock),is(()=>{const d=e.key;r.insertContentAtCaretPosition(d.length>1?"":d)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=W.make("div");this.selectedBlocks.forEach(i=>{const s=pn(i.holder.innerHTML,this.sanitizerConfig),a=W.make("p");a.innerHTML=s,n.appendChild(a)});const o=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),r=n.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,o=n.getBlockByIndex(e);o!==void 0&&this.selectBlock(o)}selectBlock(e){this.selection.save(),be.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){ur.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),W.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),o=n.inputs;if(o.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(o.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),be.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let F_=class kl extends Me{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,o=0){var r;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(r=window.getSelection())==null||r.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=W.getDeepestNode(a,n===this.positions.END),d=W.getContentLength(l);switch(!0){case n===this.positions.START:o=0;break;case n===this.positions.END:case o>d:o=d;break}this.set(l,o),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,o=0){const{currentBlock:r}=this.Editor.BlockManager,i=W.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,W.getContentLength(i));break;default:o&&this.set(i,o)}r.currentInput=e}set(e,n=0){const{top:o,bottom:r}=be.setCursor(e,n),{innerHeight:i}=window;o<0?window.scrollBy(0,o-30):r>i&&window.scrollBy(0,r-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=be.get();if(e.rangeCount){const n=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),o)if(W.isNativeInput(o)){const r=o,i=document.createDocumentFragment(),s=r.value.substring(0,r.selectionStart),a=r.value.substring(r.selectionStart);return i.textContent=a,r.value=s,i}else{const r=n.cloneRange();return r.selectNodeContents(o),r.setStart(n.endContainer,n.endOffset),r.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:o,nextBlock:r}=n;if(o===void 0)return!1;const{nextInput:i,currentInput:s}=o,a=s!==void 0?$i(s):void 0;let l=r;const d=e||a||!o.focusable;if(i&&d)return this.setToInput(i,this.positions.START),!0;if(l===null){if(o.tool.isDefault||!d)return!1;l=n.insertAtEnd()}return d?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:o}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:r,currentInput:i}=n,s=i!==void 0?Ni(i):void 0,a=e||s||!n.focusable;return r&&a?(this.setToInput(r,this.positions.END),!0):o!==null&&a?(this.setToBlock(o,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(kl.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${kl.CSS.shadowCaret}`);if(!n)return;new be().expandToTag(n);const o=document.createRange();o.selectNode(n),o.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),o=document.createElement("div"),r=be.get(),i=be.range;o.innerHTML=e,Array.from(o.childNodes).forEach(d=>n.appendChild(d)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),r.removeAllRanges(),r.addRange(a)}};class H_ extends Me{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:o}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const r=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!r||!i)&&i!==r){if(r===this.firstSelectedBlock){be.get().removeAllRanges(),r.selected=!0,i.selected=!0,o.clearCache();return}if(i===this.firstSelectedBlock){r.selected=!1,i.selected=!1,o.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(r,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==Sk.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),be.get().removeAllRanges());const r=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[r];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:o,Caret:r}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case ke.DOWN:case ke.RIGHT:r.setToBlock(n.blocks[Math.max(i,s)],r.positions.END);break;case ke.UP:case ke.LEFT:r.setToBlock(n.blocks[Math.min(i,s)],r.positions.START);break;default:r.setToBlock(n.blocks[Math.max(i,s)],r.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;be.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:o,BlockSelection:r}=this.Editor,i=o.blocks.indexOf(e),s=o.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const d=o.blocks[l];d!==this.firstSelectedBlock&&d!==(a?e:n)&&(o.blocks[l].selected=!o.blocks[l].selected,r.clearCache())}}}class U_ extends Me{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:o,Caret:r}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),be.isAtEditor&&!be.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){be.isAtEditor&&!be.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const V_=180,z_=400;class W_ extends Me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=z_,this.mutationObserver=new MutationObserver(o=>{this.redactorChanged(o)}),this.eventsDispatcher.on(G0,o=>{this.particularBlockChanged(o.event)}),this.eventsDispatcher.on(Y0,()=>{this.disable()}),this.eventsDispatcher.on(Z0,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Qe(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(bl,{mutations:e})}}const zg=class Wg extends Me{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!Qe(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){je(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:o}=this.Editor,r=n.setCurrentBlockByChildNode(e.target);!r||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),o.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:o}=this.Editor,r=e.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!Kt(this.toolsFiles)){await this.processFiles(e.files);return}const i=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let a=e.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}n&&s.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:s)+"</p>");const l=Object.keys(this.toolsTags).reduce((u,p)=>(u[p.toLowerCase()]=this.toolsTags[p].sanitizationConfig??{},u),{}),d=Object.assign({},l,o.getAllInlineToolsSanitizeConfig(),{br:{}}),c=pn(a,d);!c.trim()||c.trim()===s||!W.isHTMLString(c)?await this.processText(s):await this.processText(c,!0)}async processText(e,n=!1){const{Caret:o,BlockManager:r}=this.Editor,i=n?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const s=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;i.map(async(a,l)=>this.insertBlock(a,l===0&&s)),r.currentBlock&&o.setToBlock(r.currentBlock,o.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return $n(e)?[e]:ut(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],o=[];n.forEach(r=>{const i=this.collectTagNames(r);o.push(...i),i.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){je(`Paste handler for «${e.name}» Tool on «${s}» tag is skipped because it is already used by «${this.toolsTags[s].tool.name}» Tool.`,"warn");return}const a=ut(r)?r[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=o.map(r=>r.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:o,mimeTypes:r}=n;!o&&!r||(o&&!Array.isArray(o)&&(je(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),o=[]),r&&!Array.isArray(r)&&(je(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),r&&(r=r.filter(i=>Bk(i)?!0:(je(`MIME type value «${i}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:o||[],mimeTypes:r||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Kt(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,o])=>{o instanceof RegExp||je(`Pattern ${o} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:o,tool:e})})}isNativeBehaviour(e){return W.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let o;o=await Promise.all(Array.from(e).map(i=>this.processFile(i))),o=o.filter(i=>!!i);const r=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;o.forEach((i,s)=>{n.paste(i.type,i.event,s===0&&r)})}async processFile(e){const n=Ak(e),o=Object.entries(this.toolsFiles).find(([i,{mimeTypes:s,extensions:a}])=>{const[l,d]=e.type.split("/"),c=a.find(p=>p.toLowerCase()===n.toLowerCase()),u=s.find(p=>{const[b,h]=p.split("/");return b===l&&(h===d||h==="*")});return!!c||!!u});if(!o)return;const[r]=o;return{event:this.composePasteEvent("file",{file:e}),type:r}}processHTML(e){const{Tools:n}=this.Editor,o=W.make("DIV");return o.innerHTML=e,this.getNodes(o).map(r=>{let i,s=n.defaultTool,a=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=W.make("div"),i.appendChild(r);break;case Node.ELEMENT_NODE:i=r,a=!0,this.toolsTags[i.tagName]&&(s=this.toolsTags[i.tagName].tool);break}const{tags:l}=s.pasteConfig||{tags:[]},d=l.reduce((p,b)=>(this.collectTagNames(b).forEach(h=>{const g=ut(b)?b[h]:null;p[h.toLowerCase()]=g||{}}),p),{}),c=Object.assign({},d,s.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const p=pn(i.outerHTML,c);i=W.make("div",void 0,{innerHTML:p}).firstChild}else i.innerHTML=pn(i.innerHTML,c);const u=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:a,tool:s.name,event:u}}).filter(r=>{const i=W.isEmpty(r.content),s=W.isSingleTag(r.content);return!i||s})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const o=n;return e.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const i=W.make("div");i.textContent=r;const s=this.composePasteEvent("tag",{data:i});return{content:i,tool:o,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:n,BlockManager:o}=this.Editor,{currentBlock:r}=o;if(!r||e.tool!==r.name||!W.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:o}=this.Editor,{content:r}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&r.textContent.length<Wg.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(r.textContent);if(i){const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(i.tool,i.event,s);o.setToBlock(a,o.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const i=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,pn(r.innerHTML,i))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(o=>{const r=o.pattern.exec(e);return r?e===r.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:o,Caret:r}=this.Editor,{currentBlock:i}=o;let s;if(n&&i&&i.isEmpty){s=o.paste(e.tool,e.event,!0),r.setToBlock(s,r.positions.END);return}s=o.paste(e.tool,e.event),r.setToBlock(s,r.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:o,Tools:r}=this.Editor;lc(e,i=>r.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:s},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const d=n.insert({tool:i,data:s,replace:l});o.setToBlock(d,o.positions.END)})}processElementNode(e,n,o){const r=Object.keys(this.toolsTags),i=e,{tool:s}=this.toolsTags[i.tagName]||{},a=this.tagsByTool[s==null?void 0:s.name]||[],l=r.includes(i.tagName),d=W.blockElements.includes(i.tagName.toLowerCase()),c=Array.from(i.children).some(({tagName:p})=>r.includes(p)&&!a.includes(p)),u=Array.from(i.children).some(({tagName:p})=>W.blockElements.includes(p.toLowerCase()));if(!d&&!l&&!c)return o.appendChild(i),[...n,o];if(l&&!c||d&&!u&&!c)return[...n,o,i]}getNodes(e){const n=Array.from(e.childNodes);let o;const r=(i,s)=>{if(W.isEmpty(s)&&!W.isSingleTag(s))return i;const a=i[i.length-1];let l=new DocumentFragment;switch(a&&W.isFragment(a)&&(l=i.pop()),s.nodeType){case Node.ELEMENT_NODE:if(o=this.processElementNode(s,i,l),o)return o;break;case Node.TEXT_NODE:return l.appendChild(s),[...i,l];default:return[...i,l]}return[...i,...Array.from(s.childNodes).reduce(r,[])]};return n.reduce(r,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};zg.PATTERN_PROCESSING_MAX_LENGTH=450;let q_=zg;class K_ extends Me{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,o=[];Array.from(n.entries()).forEach(([r,i])=>{i.isReadOnlySupported||o.push(r)}),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const o=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(o===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new K0(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let Q_=class ji extends Me{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const o=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const r=[`.${Mn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=o.closest("."+this.Editor.UI.CSS.editorWrapper),s=r.some(a=>!!o.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",hl(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",hl(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(W.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=W.make("div",ji.CSS.overlay,{}),r=W.make("div",ji.CSS.overlayContainer,{}),i=W.make("div",ji.CSS.rect,{});return r.appendChild(i),o.appendChild(r),n.appendChild(o),this.overlayRectangle=i,{container:n,overlay:o}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:o,index:r}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),r!==void 0&&(this.trySelectNextBlock(r),this.inverseSelection(),be.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,n),r=this.Editor.BlockManager.getBlockByChildNode(o);let i;r!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(c=>c.holder===r.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Mn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,d=e+a;return{index:i,leftPos:l,rightPos:d}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length,r=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0;let l=s;o>1&&(l=a?r:i);const d=e>this.stackOfSelected[o-1]&&l===r,c=e<this.stackOfSelected[o-1]&&l===i,u=!(d||c||l===s);if(!u&&(e>this.stackOfSelected[o-1]||this.stackOfSelected[o-1]===void 0)){let h=this.stackOfSelected[o-1]+1||e;for(h;h<=e;h++)this.addBlockInSelection(h);return}if(!u&&e<this.stackOfSelected[o-1]){for(let h=this.stackOfSelected[o-1]-1;h>=e;h--)this.addBlockInSelection(h);return}if(!u)return;let p=o-1,b;for(e>this.stackOfSelected[o-1]?b=()=>e>this.stackOfSelected[p]:b=()=>e<this.stackOfSelected[p];b();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[p]),this.stackOfSelected.pop(),p--}};class G_ extends Me{async render(e){return new Promise(n=>{const{Tools:o,BlockManager:r}=this.Editor;if(e.length===0)r.insert();else{const i=e.map(({type:s,data:a,tunes:l,id:d})=>{o.available.has(s)===!1&&(Vt(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,d),s=o.stubTool);let c;try{c=r.composeBlock({id:d,tool:s,data:a,tunes:l})}catch(u){je(`Block «${s}» skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(s,a,d),s=o.stubTool,c=r.composeBlock({id:d,tool:s,data:a,tunes:l})}return c});r.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,o){const{Tools:r}=this.Editor;let i=e;if(r.unavailable.has(e)){const s=r.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:o,type:e,data:n},title:i}}}class Y_ extends Me{async save(){const{BlockManager:e,Tools:n}=this.Editor,o=e.blocks,r=[];try{o.forEach(a=>{r.push(this.getSavedData(a))});const i=await Promise.all(r),s=await lc(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){Vt("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),o=n&&await e.validate(n.data);return{...n,isValid:o}}makeOutput(e){const n=[];return e.forEach(({id:o,tool:r,data:i,tunes:s,isValid:a})=>{if(!a){je(`Block «${r}» skipped because saved data is invalid`);return}if(r===this.Editor.Tools.stubTool){n.push(i);return}const l={id:o,type:r,data:i,...!Kt(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Z_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function X_(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class tu{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:o,readOnly:r}){this.api=o,this.readOnly=r,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:tu.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=X_(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:Z_,title:"Text"}}}class nu{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:_E,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}nu.isInline=!0;nu.title="Bold";class ou{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=BE,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}ou.isInline=!0;ou.title="Italic";class ru{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new be}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Tf,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=RE,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Tf,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new be;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),je("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),o=e.substring(0,1)==="#",r=/^\/\/[^/\s]/.test(e);return!n&&!o&&!r&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}ru.isInline=!0;ru.title="Link";let qg=class{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=be.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const o=this.toolsAPI.getBlockTools(),r=await J0(n,o);if(r.length===0)return[];const i=r.reduce((d,c)=>{var u;return(u=c.toolbox)==null||u.forEach(p=>{d.push({icon:p.icon,title:_t.t(Lt.toolNames,p.title),name:c.name,closeOnActivate:!0,onActivate:async()=>{const b=await this.blocksAPI.convert(n.id,c.name,p.data);this.caretAPI.setToBlock(b,"end")}})}),d},[]),s=await n.getActiveToolboxEntry(),a=s!==void 0?s.icon:sg,l=!mr();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:l,items:i,onOpen:()=>{l&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{l&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}};qg.isInline=!0;let Kg=class{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=W.make("div",this.CSS.wrapper),n=NE,o=W.make("div",this.CSS.info),r=W.make("div",this.CSS.title,{textContent:this.title}),i=W.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,o.appendChild(r),o.appendChild(i),e.appendChild(o),e}};Kg.isReadOnlySupported=!0;class J_ extends pc{constructor(){super(...arguments),this.type=Io.Inline}get title(){return this.constructable[fs.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[fs.IsReadOnlySupported]??!1}}class eC extends pc{constructor(){super(...arguments),this.type=Io.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let an=class Zo extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Zo(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Zo(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Zo(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Zo(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Zo(e)}};var tC=Object.defineProperty,nC=Object.getOwnPropertyDescriptor,Qg=(t,e,n,o)=>{for(var r=nC(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=s(e,n,r)||r);return r&&tC(e,n,r),r};class iu extends pc{constructor(){super(...arguments),this.type=Io.Block,this.inlineTools=new an,this.tunes=new an}create(e,n,o){return new this.constructable({data:e,block:n,readOnly:o,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Yo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Yo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Yo.Toolbox],n=this.config[Ri.Toolbox];if(!Kt(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((o,r)=>{const i=e[r];return i?{...i,...o}:o}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Yo.ConversionConfig]}get enabledInlineTools(){return this.config[Ri.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ri.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Yo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Kt(e))return n;const o={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];ut(i)?o[r]=Object.assign({},n,i):o[r]=i}return o}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Qg([gr],iu.prototype,"sanitizeConfig");Qg([gr],iu.prototype,"baseSanitizeConfig");class oC{constructor(e,n,o){this.api=o,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:o=!1,...r}=this.config[e],i=this.getConstructor(n),s=n[xl.IsTune];return new i({name:e,constructable:n,config:r,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[fs.IsInline]:return J_;case e[xl.IsTune]:return eC;default:return iu}}}let Gg=class{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:CE,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const o=n.holder,r=o.getBoundingClientRect();let i=Math.abs(window.innerHeight-o.offsetHeight);r.top<window.innerHeight&&(i=window.scrollY+o.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}};Gg.isTune=!0;let Yg=class{constructor({api:e}){this.api=e}render(){return{icon:OE,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};Yg.isTune=!0;let Zg=class{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:IE,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!o)throw new Error("Unable to move Block up since it is already the first");const r=n.holder,i=o.holder,s=r.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}};Zg.isTune=!0;var rC=Object.defineProperty,iC=Object.getOwnPropertyDescriptor,sC=(t,e,n,o)=>{for(var r=iC(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(r=s(e,n,r)||r);return r&&rC(e,n,r),r};let Xg=class extends Me{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new an,this.toolsUnavailable=new an}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=pl({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new oC(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await Ok(n,o=>{this.toolPrepareMethodSuccess(o)},o=>{this.toolPrepareMethodFallback(o)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Qe(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:qg,isInternal:!0},link:{class:ru,isInternal:!0},bold:{class:nu,isInternal:!0},italic:{class:ou,isInternal:!0},paragraph:{class:tu,inlineToolbar:!0,isInternal:!0},stub:{class:Kg,isInternal:!0},moveUp:{class:Zg,isInternal:!0},delete:{class:Yg,isInternal:!0},moveDown:{class:Gg,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const o=["render"].filter(r=>!n.create()[r]);if(o.length){je(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",o),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([o,r])=>{n.push({function:Qe(r.class.prepare)?r.class.prepare:()=>{},data:{toolName:o,config:r.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new an(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new an(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new an(e.enabledBlockTunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new an([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new an(this.config.tunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new an([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!Qe(n)&&!Qe(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)ut(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}};sC([gr],Xg.prototype,"getAllInlineToolsSanitizeConfig");const aC=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class lC extends Me{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=_f(()=>{this.windowResize()},200),this.selectionChangeDebounced=_f(()=>{this.selectionChanged()},V_),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Mn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o}=this.Editor;return!!(n.opened||o.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof us).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o}=this.Editor;n.close(),o.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<V0;e!==this.isMobile&&this.eventsDispatcher.emit(Gr,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=W.getHolder(this.config.holder),this.nodes.wrapper=W.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=W.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const e="editor-js-styles";if(W.get(e))return;const n=W.make("style",null,{id:e,textContent:aC.toString()});this.config.style&&!Kt(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),W.prepend(document.head,n)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",hl(n=>{const o=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(mg,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case ke.ENTER:this.enterPressed(e);break;case ke.BACKSPACE:case ke.DELETE:this.backspacePressed(e);break;case ke.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&o===null){this.Editor.BlockEvents.keydown(e);return}o||n&&r||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:o,Caret:r}=this.Editor;if(o.anyBlockSelected&&!be.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);r.setToBlock(s,r.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:o}=this.Editor;if(this.someToolbarOpened)return;const r=n.currentBlockIndex>=0;if(o.anyBlockSelected&&!be.isSelectionExists){o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&r&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,o;if(!e.isTrusted)return;const r=e.target;this.nodes.holder.contains(r)||be.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(r),s=(o=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:o.contains(r),a=i||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(r);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,r=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(o,r)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!be.isCollapsed)return;const n=e.target,o=e.metaKey||e.ctrlKey;if(W.isAnchor(n)&&o){e.stopImmediatePropagation(),e.stopPropagation();const r=n.getAttribute("href"),i=Pk(r);Rk(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),o=W.offset(n.holder).bottom,r=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&o<r){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,o=be.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&be.get().removeAllRanges(),!o){be.range||this.Editor.InlineToolbar.close();return}const r=o.closest(`.${Mn.CSS.content}`);(r===null||r.closest(`.${be.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),o.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const o=n.target;z0(o)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const cC={BlocksAPI:qk,CaretAPI:Qk,EventsAPI:Gk,I18nAPI:Yk,API:Zk,InlineToolbarAPI:Xk,ListenersAPI:Jk,NotifierAPI:oE,ReadOnlyAPI:rE,SanitizerAPI:dE,SaverAPI:fE,SelectionAPI:hE,ToolsAPI:pE,StylesAPI:gE,ToolbarAPI:mE,TooltipAPI:wE,UiAPI:kE,BlockSettings:QE,Toolbar:n5,InlineToolbar:o5,BlockEvents:R_,BlockManager:D_,BlockSelection:j_,Caret:F_,CrossBlockSelection:H_,DragNDrop:U_,ModificationsObserver:W_,Paste:q_,ReadOnly:K_,RectangleSelection:Q_,Renderer:G_,Saver:Y_,Tools:Xg,UI:lC};class uC{constructor(e){this.moduleInstances={},this.eventsDispatcher=new di;let n,o;this.isReady=new Promise((r,i)=>{n=r,o=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:r,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&i.setToBlock(r.blocks[0],i.positions.START),n()}).catch(r=>{je(`Editor.js is not ready because of ${r}`,"error"),o(r)})}set configuration(e){var n,o;ut(e)?this.config={...e}:this.config={holder:e},gl(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=F0.VERBOSE),Tk(this.config.logLevel),gl(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const r={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Kt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[r]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&_t.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((o=this.config.i18n)==null?void 0:o.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if($n(n)&&!W.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&ut(n)&&!W.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(o){if(o instanceof K0)throw new Error(o.message);je(`Module ${n} was skipped because of %o`,"warn",o)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(cC).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(o){je("[constructModules]",`Module ${e} skipped because`,"error",o)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const o in this.moduleInstances)o!==e&&(n[o]=this.moduleInstances[o]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Rf{static get version(){return"2.31.0-rc.7"}constructor(e){let n=()=>{};ut(e)&&Qe(e.onReady)&&(n=e.onReady);const o=new uC(e);this.isReady=o.isReady.then(()=>{this.exportAPI(o),n()})}exportAPI(e){const n=["configuration"],o=()=>{Object.values(e.moduleInstances).forEach(r=>{Qe(r.destroy)&&r.destroy(),r.listeners.removeAll()}),xE(),e=null;for(const r in this)Object.prototype.hasOwnProperty.call(this,r)&&delete this[r];Object.setPrototypeOf(this,null)};n.forEach(r=>{this[r]=e[r]}),this.destroy=o,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([r,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[r][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("p{font-weight:700;margin:0;padding:.2em 0}.h1{font-size:5em}.h2{font-size:4em}.h3{font-size:3em}.h4{font-size:2em}.h5{font-size:1.5em}.h6{font-size:1em}.text-align-left{text-align:left}.text-align-right{text-align:right}.text-align-center{text-align:center}.red{color:red}.blue{color:#00f}.pink{color:pink}.black{color:#000}.orange{color:orange}.yellow{color:#ff0}.purple{color:purple}.green{color:green}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var dC=Object.defineProperty,fC=(t,e,n)=>e in t?dC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ba=(t,e,n)=>(fC(t,typeof e!="symbol"?e+"":e,n),n);const hC=[{name:"Text-Align-Left",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" id="align-left-2" data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color"><line id="secondary" x1="3" y1="12" x2="17" y2="12" style="fill: none; stroke: rgb(44, 169, 188); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></line><path id="primary" d="M3,6H21M3,18H13" style="fill: none; stroke: rgb(0, 0, 0); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path></svg>',type:"textalign"},{name:"Text-Align-Right",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" id="align-right-2" data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color"><line id="secondary" x1="21" y1="12" x2="7" y2="12" style="fill: none; stroke: rgb(44, 169, 188); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></line><path id="primary" d="M21,6H3M21,18H11" style="fill: none; stroke: rgb(0, 0, 0); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path></svg>',type:"textalign"},{name:"Text-Align-Center",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" id="align-center" data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color"><line id="secondary" x1="6" y1="12" x2="18" y2="12" style="fill: none; stroke: rgb(44, 169, 188); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></line><path id="primary" d="M3,6H21M3,18H21" style="fill: none; stroke: rgb(0, 0, 0); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path></svg>',type:"textalign"}],pC=[{name:"Blue",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="blue" />
                  </svg>`,type:"color"},{name:"Red",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="red" />
                  </svg>`,type:"color"},{name:"Pink",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="pink" />
                  </svg>`,type:"color"},{name:"Black",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="black" />
                  </svg>`,type:"color"},{name:"Orange",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="orange" />
                  </svg>`,type:"color"},{name:"Yellow",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="yellow" />
                  </svg>`,type:"color"},{name:"Purple",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="purple" />
                  </svg>`,type:"color"},{name:"Green",icon:`<svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="20" fill="green" />
                  </svg>`,type:"color"}],gC=[{name:"H1",icon:'<svg width="40px" height="40px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="0" fill="none" width="24" height="24"/><g><path d="M11 7h2v10h-2v-4H7v4H5V7h2v4h4V7zm6.57 0c-.594.95-1.504 1.658-2.57 2v1h2v7h2V7h-1.43z"/></g></svg>',type:"titleType"},{name:"H2",icon:'<svg width="24px" height="24px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="0" fill="none" width="24" height="24"/><g><path d="M9 7h2v10H9v-4H5v4H3V7h2v4h4V7zm8 8c.51-.41.6-.62 1.06-1.05.437-.4.848-.828 1.23-1.28.334-.39.62-.82.85-1.28.2-.39.305-.822.31-1.26.005-.44-.087-.878-.27-1.28-.177-.385-.437-.726-.76-1-.346-.283-.743-.497-1.17-.63-.485-.153-.99-.227-1.5-.22-.36 0-.717.033-1.07.1-.343.06-.678.158-1 .29-.304.13-.593.295-.86.49-.287.21-.56.437-.82.68l1.24 1.22c.308-.268.643-.502 1-.7.35-.2.747-.304 1.15-.3.455-.03.906.106 1.27.38.31.278.477.684.45 1.1-.014.396-.14.78-.36 1.11-.285.453-.62.872-1 1.25-.44.43-.98.92-1.59 1.43-.61.51-1.41 1.06-2.16 1.65V17h8v-2h-4z"/></g></svg>',type:"titleType"},{name:"H3",icon:'<svg width="24px" height="24px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="0" fill="none" width="24" height="24"/><g><path d="M14.11 14.218c.355.287.75.523 1.17.7.434.18.9.273 1.37.27.484.017.965-.086 1.4-.3.333-.146.55-.476.55-.84.003-.203-.05-.403-.15-.58-.123-.19-.3-.34-.51-.43-.32-.137-.655-.228-1-.27-.503-.073-1.012-.106-1.52-.1v-1.57c.742.052 1.485-.07 2.17-.36.37-.164.615-.525.63-.93.026-.318-.12-.627-.38-.81-.34-.203-.734-.3-1.13-.28-.395.013-.784.108-1.14.28-.375.167-.73.375-1.06.62l-1.22-1.39c.5-.377 1.053-.68 1.64-.9.608-.224 1.252-.336 1.9-.33.525-.007 1.05.05 1.56.17.43.1.84.277 1.21.52.325.21.595.495.79.83.19.342.287.73.28 1.12.01.48-.177.943-.52 1.28-.417.39-.916.685-1.46.86v.06c.61.14 1.175.425 1.65.83.437.382.68.94.66 1.52.005.42-.113.835-.34 1.19-.23.357-.538.657-.9.88-.408.253-.853.44-1.32.55-.514.128-1.04.192-1.57.19-.786.02-1.57-.106-2.31-.37-.59-.214-1.126-.556-1.57-1l1.12-1.41zM9 11H5V7H3v10h2v-4h4v4h2V7H9v4z"/></g></svg>',type:"titleType"},{name:"H4",icon:'<svg width="24px" height="24px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="0" fill="none" width="24" height="24"/><g><path d="M11 17H9v-4H5v4H3V7h2v4h4V7h2v10zm10-2h-1v2h-2v-2h-5v-2l4.05-6H20v6h1v2zm-3-2V9l-2.79 4H18z"/></g></svg>',type:"titleType"},{name:"H5",icon:'<svg width="24px" height="24px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="0" fill="none" width="24" height="24"/><g><path d="M14.09 14.19c.352.27.73.5 1.13.69.42.196.877.296 1.34.29.51.014 1.01-.125 1.44-.4.378-.253.594-.686.57-1.14.02-.45-.197-.877-.57-1.13-.406-.274-.89-.41-1.38-.39h-.47c-.135.014-.27.04-.4.08l-.41.15-.48.23-1.02-.57.28-5h6.4v1.92h-4.31L16 10.76c.222-.077.45-.138.68-.18.235-.037.472-.054.71-.05.463-.004.924.057 1.37.18.41.115.798.305 1.14.56.33.248.597.57.78.94.212.422.322.888.32 1.36.007.497-.11.99-.34 1.43-.224.417-.534.782-.91 1.07-.393.3-.837.527-1.31.67-.497.164-1.016.252-1.54.26-.788.023-1.573-.11-2.31-.39-.584-.238-1.122-.577-1.59-1l1.09-1.42zM11 17H9v-4H5v4H3V7h2v4h4V7h2v10z"/></g></svg>',type:"titleType"},{name:"H6",icon:'<svg width="24px" height="24px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="0" fill="none" width="24" height="24"/><g><path d="M11 17H9v-4H5v4H3V7h2v4h4V7h2v10zm8.58-7.508c-.248-.204-.524-.37-.82-.49-.625-.242-1.317-.242-1.94 0-.3.11-.566.287-.78.52-.245.27-.432.586-.55.93-.16.46-.243.943-.25 1.43.367-.33.79-.59 1.25-.77.405-.17.84-.262 1.28-.27.415-.006.83.048 1.23.16.364.118.704.304 1 .55.295.253.528.57.68.93.193.403.302.843.32 1.29.01.468-.094.93-.3 1.35-.206.387-.49.727-.83 1-.357.287-.764.504-1.2.64-.98.31-2.033.293-3-.05-.507-.182-.968-.472-1.35-.85-.437-.416-.778-.92-1-1.48-.243-.693-.352-1.426-.32-2.16-.02-.797.11-1.59.38-2.34.215-.604.556-1.156 1-1.62.406-.416.897-.74 1.44-.95.54-.21 1.118-.314 1.7-.31.682-.02 1.36.096 2 .34.5.19.962.464 1.37.81l-1.31 1.34zm-2.39 5.84c.202 0 .405-.03.6-.09.183-.046.356-.128.51-.24.15-.136.27-.303.35-.49.092-.225.136-.467.13-.71.037-.405-.123-.804-.43-1.07-.328-.23-.72-.347-1.12-.33-.346-.002-.687.07-1 .21-.383.17-.724.418-1 .73.046.346.143.683.29 1 .108.23.257.44.44.62.152.15.337.26.54.33.225.055.46.068.69.04z"/></g></svg>',type:"titleType"}],mC={title:"Title",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="-8 -7 24 24" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" class="jam jam-header"><path d="M2 4h4V1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0V6H2v3a1 1 0 1 1-2 0V1a1 1 0 1 1 2 0v3z" /></svg>'},bC=gC.concat(hC).concat(pC),vC=t=>document.createElement(t),Ma=(t,e)=>t.classList.add(e),Pa=(t,e)=>t.classList.remove(e),yC=(t,e)=>{t.contentEditable=e};let Nf=class{constructor({data:e,readOnly:n}){Ba(this,"data"),Ba(this,"Title"),Ba(this,"settings"),this.settings=bC,this.data={text:"Title",color:"",alignText:"text-align-center",titleType:"H1"},this.Title=vC("p"),this.Title.innerText=this.data.text,yC(this.Title,`${!n}`),this._titleTypeSetting(this.data.titleType),e&&Object.entries(e).length!==0&&this._hasData(e)}static get toolbox(){return mC}render(){return console.log(this.data),this.Title}validate(e){var n;return!!((n=e.text)!=null&&n.trim())}save(e){return{text:e.innerHTML,color:this.data.color,alignText:this.data.alignText,titleType:this.data.titleType}}renderSettings(){return this.settings.map(e=>({icon:e.icon,label:e.name,onActivate:()=>{if(e.type==="color")return this._colorSetting(e.name);if(e.type==="textalign")return this._textAlignSetting(e.name);if(e.type==="titleType")return this._titleTypeSetting(e.name)}}))}_colorSetting(e){this.settings.map(n=>{if(n.type==="color")return n.name===e?(this.data.color=n.name,Ma(this.Title,n.name.toLowerCase())):Pa(this.Title,n.name.toLocaleLowerCase())})}_textAlignSetting(e){this.settings.map(n=>{if(n.type==="textalign")return e===n.name?(this.data.alignText=n.name,Ma(this.Title,`${n.name.toLowerCase()}`)):Pa(this.Title,`${n.name.toLowerCase()}`)})}_titleTypeSetting(e){this.settings.map(n=>{if(n.type==="titleType")return e===n.name?(this.data.titleType=n.name,Ma(this.Title,`${n.name.toLowerCase()}`)):Pa(this.Title,`${n.name.toLowerCase()}`)})}_hasData(e){this.data={text:e==null?void 0:e.text,color:e==null?void 0:e.color,alignText:e==null?void 0:e.alignText,titleType:e.titleType},this._hasDataText(),this._colorSetting(this.data.color),this._textAlignSetting(this.data.alignText),this._titleTypeSetting(this.data.titleType)}_hasDataText(){this.data.text&&(this.Title.innerHTML=this.data.text)}static get isReadOnlySupported(){return!0}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const xC='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',$f='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',Df='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',jf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',wC='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',kC='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',EC='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',_C='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',CC='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',SC='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function TC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),n}var Ve={},su={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.allInputsSelector=IC;function IC(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=au;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(su);var Do={},lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.isNativeInput=OC;function OC(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=lu;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Do);var Jg={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.append=AC;function AC(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=cu;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(Jg);var uu={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.blockElements=BC;function BC(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=du;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(uu);var em={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.calculateBaseline=MC;function MC(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||n*1.2,r=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(o-n)/2,d=s+i+r+l+a;return d}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=fu;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(em);var tm={},hu={},pu={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.isContentEditable=PC;function PC(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=gu;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(pu);Object.defineProperty(hu,"__esModule",{value:!0});hu.canSetCaret=NC;var LC=Do,RC=pu;function NC(t){var e=!0;if((0,LC.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,RC.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=hu;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(tm);var Qs={},mu={};function $C(t,e,n){const o=n.value!==void 0?"value":"get",r=n[o],i=`#${e}Cache`;if(n[o]=function(...s){return this[i]===void 0&&(this[i]=r.apply(this,s)),this[i]},o==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}function nm(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function bu(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function DC(t){return!bu(t)}const jC=()=>typeof window<"u"&&window.navigator!==null&&bu(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function FC(t){const e=nm();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function HC(t){return t[0].toUpperCase()+t.slice(1)}function UC(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),o=document.createRange();if(o.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}function VC(t,e,n){let o;return(...r)=>{const i=this,s=()=>{o=void 0,n!==!0&&t.apply(i,r)},a=n===!0&&o!==void 0;window.clearTimeout(o),o=window.setTimeout(s,e),a&&t.apply(i,r)}}function io(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function zC(t){return io(t)==="boolean"}function om(t){return io(t)==="function"||io(t)==="asyncfunction"}function WC(t){return om(t)&&/^\s*class\s+/.test(t.toString())}function qC(t){return io(t)==="number"}function Fi(t){return io(t)==="object"}function KC(t){return Promise.resolve(t)===t}function QC(t){return io(t)==="string"}function GC(t){return io(t)==="undefined"}function El(t,...e){if(!e.length)return t;const n=e.shift();if(Fi(t)&&Fi(n))for(const o in n)Fi(n[o])?(t[o]===void 0&&Object.assign(t,{[o]:{}}),El(t[o],n[o])):Object.assign(t,{[o]:n[o]});return El(t,...e)}function YC(t,e,n){const o=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&console.warn(o)}function ZC(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function XC(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const JC={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},eS={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class tS{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,o)=>{this.completed=this.completed.then(e).then(n).catch(o)})}}function nS(t,e,n=void 0){let o,r,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(o,r),s===null&&(o=r=null)};return function(){const d=Date.now();!a&&n.leading===!1&&(a=d);const c=e-(d-a);return o=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=d,i=t.apply(o,r),s===null&&(o=r=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,c)),i}}const oS=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:tS,beautifyShortcut:FC,cacheable:$C,capitalize:HC,copyTextToClipboard:UC,debounce:VC,deepMerge:El,deprecationAssert:YC,getUserOS:nm,getValidUrl:ZC,isBoolean:zC,isClass:WC,isEmpty:DC,isFunction:om,isIosDevice:jC,isNumber:qC,isObject:Fi,isPrintableKey:XC,isPromise:KC,isString:QC,isUndefined:GC,keyCodes:JC,mouseButtons:eS,notEmpty:bu,throttle:nS,typeOf:io},Symbol.toStringTag,{value:"Module"})),vu=TC(oS);Object.defineProperty(mu,"__esModule",{value:!0});mu.containsOnlyInlineElements=sS;var rS=vu,iS=uu;function sS(t){var e;(0,rS.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(o){return!(0,iS.blockElements)().includes(o.tagName.toLowerCase())&&Array.from(o.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=mu;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Qs);var rm={},yu={},Gs={},xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.make=aS;function aS(t,e,n){var o;e===void 0&&(e=null),n===void 0&&(n={});var r=document.createElement(t);if(Array.isArray(e)){var i=e.filter(function(a){return a!==void 0});(o=r.classList).add.apply(o,i)}else e!==null&&r.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s]);return r}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=xu;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Gs);Object.defineProperty(yu,"__esModule",{value:!0});yu.fragmentToString=cS;var lS=Gs;function cS(t){var e=(0,lS.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=yu;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(rm);var im={},wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.getContentLength=dS;var uS=Do;function dS(t){var e,n;return(0,uS.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=wu;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(im);var ku={},Eu={},Ff=hs&&hs.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.getDeepestBlockElements=sm;var fS=Qs;function sm(t){return(0,fS.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Ff(Ff([],e,!0),sm(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Eu;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(ku);var am={},_u={},Ys={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.isLineBreakTag=hS;function hS(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Cu;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Ys);var Zs={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.isSingleTag=pS;function pS(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=Su;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Zs);Object.defineProperty(_u,"__esModule",{value:!0});_u.getDeepestNode=lm;var gS=Do,mS=Ys,bS=Zs;function lm(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var r=t[n];if((0,bS.isSingleTag)(r)&&!(0,gS.isNativeInput)(r)&&!(0,mS.isLineBreakTag)(r))if(r[o])r=r[o];else if(r.parentNode!==null&&r.parentNode[o])r=r.parentNode[o];else return r.parentNode;return lm(r,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=_u;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(am);var cm={},Tu={},wi=hs&&hs.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.findAllInputs=kS;var vS=Qs,yS=ku,xS=su,wS=Do;function kS(t){return Array.from(t.querySelectorAll((0,xS.allInputsSelector)())).reduce(function(e,n){return(0,wS.isNativeInput)(n)||(0,vS.containsOnlyInlineElements)(n)?wi(wi([],e,!0),[n],!1):wi(wi([],e,!0),(0,yS.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=Tu;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(cm);var um={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.isCollapsedWhitespaces=ES;function ES(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Iu;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(um);var Ou={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.isElement=CS;var _S=vu;function CS(t){return(0,_S.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=Au;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Ou);var dm={},Bu={},Mu={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.isLeaf=SS;function SS(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=Pu;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(Mu);var Lu={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.isNodeEmpty=BS;var TS=Ys,IS=Ou,OS=Do,AS=Zs;function BS(t,e){var n="";return(0,AS.isSingleTag)(t)&&!(0,TS.isLineBreakTag)(t)?!1:((0,IS.isElement)(t)&&(0,OS.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("​","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=Ru;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Lu);Object.defineProperty(Bu,"__esModule",{value:!0});Bu.isEmpty=LS;var MS=Mu,PS=Lu;function LS(t,e){t.normalize();for(var n=[t];n.length>0;){var o=n.shift();if(o){if(t=o,(0,MS.isLeaf)(t)&&!(0,PS.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=Bu;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(dm);var fm={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.isFragment=NS;var RS=vu;function NS(t){return(0,RS.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=Nu;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(fm);var hm={},$u={};Object.defineProperty($u,"__esModule",{value:!0});$u.isHTMLString=DS;var $S=Gs;function DS(t){var e=(0,$S.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=$u;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(hm);var pm={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.offset=jS;function jS(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,r=e.top+o,i=e.left+n;return{top:r,left:i,bottom:r+e.height,right:i+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Du;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(pm);var gm={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.prepend=FS;function FS(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=ju;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(gm);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=su;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Do;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var o=Jg;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return o.append}});var r=uu;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return r.blockElements}});var i=em;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=tm;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Qs;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=rm;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var d=im;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return d.getContentLength}});var c=ku;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return c.getDeepestBlockElements}});var u=am;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var p=cm;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var b=um;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return b.isCollapsedWhitespaces}});var h=pu;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return h.isContentEditable}});var g=Ou;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return g.isElement}});var x=dm;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return x.isEmpty}});var k=fm;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return k.isFragment}});var _=hm;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var C=Mu;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return C.isLeaf}});var L=Lu;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return L.isNodeEmpty}});var P=Ys;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return P.isLineBreakTag}});var S=Zs;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return S.isSingleTag}});var T=Gs;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return T.make}});var B=pm;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return B.offset}});var w=gm;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return w.prepend}})})(Ve);const It="cdx-list",gt={wrapper:It,item:`${It}__item`,itemContent:`${It}__item-content`,itemChildren:`${It}__item-children`};class ln{static get CSS(){return{...gt,orderedList:`${It}-ordered`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?n=Ve.make("ol",[ln.CSS.wrapper,ln.CSS.orderedList]):n=Ve.make("ol",[ln.CSS.orderedList,ln.CSS.itemChildren]),n}renderItem(e,n){const o=Ve.make("li",ln.CSS.item),r=Ve.make("div",ln.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return o.appendChild(r),o}getItemContent(e){const n=e.querySelector(`.${ln.CSS.itemContent}`);return!n||Ve.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class cn{static get CSS(){return{...gt,unorderedList:`${It}-unordered`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?n=Ve.make("ul",[cn.CSS.wrapper,cn.CSS.unorderedList]):n=Ve.make("ul",[cn.CSS.unorderedList,cn.CSS.itemChildren]),n}renderItem(e,n){const o=Ve.make("li",cn.CSS.item),r=Ve.make("div",cn.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return o.appendChild(r),o}getItemContent(e){const n=e.querySelector(`.${cn.CSS.itemContent}`);return!n||Ve.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function ho(t){return t.nodeType===Node.ELEMENT_NODE}var $r={},Fu={},Xs={},Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.getContenteditableSlice=US;var HS=Ve;function US(t,e,n,o,r){var i;r===void 0&&(r=!1);var s=document.createRange();if(o==="left"?(s.setStart(t,0),s.setEnd(e,n)):(s.setStart(e,n),s.setEnd(t,t.childNodes.length)),r===!0){var a=s.extractContents();return(0,HS.fragmentToString)(a)}var l=s.cloneContents(),d=document.createElement("div");d.appendChild(l);var c=(i=d.textContent)!==null&&i!==void 0?i:"";return c}Object.defineProperty(Xs,"__esModule",{value:!0});Xs.checkContenteditableSliceForEmptiness=WS;var VS=Ve,zS=Js;function WS(t,e,n,o){var r=(0,zS.getContenteditableSlice)(t,e,n,o);return(0,VS.isCollapsedWhitespaces)(r)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=Xs;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Fu);var mm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=Js;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(mm);var bm={},Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.focus=KS;var qS=Ve;function KS(t,e){var n,o;if(e===void 0&&(e=!0),(0,qS.isNativeInput)(t)){t.focus();var r=e?0:t.value.length;t.setSelectionRange(r,r)}else{var i=document.createRange(),s=window.getSelection();if(!s)return;var a=function(p,b){b===void 0&&(b=!1);var h=document.createTextNode("");b?p.insertBefore(h,p.firstChild):p.appendChild(h),i.setStart(h,0),i.setEnd(h,0)},l=function(p){return p!=null},d=t.childNodes,c=e?d[0]:d[d.length-1];if(l(c)){for(;l(c)&&c.nodeType!==Node.TEXT_NODE;)c=e?c.firstChild:c.lastChild;if(l(c)&&c.nodeType===Node.TEXT_NODE){var u=(o=(n=c.textContent)===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0,r=e?0:u;i.setStart(c,r),i.setEnd(c,r)}else a(t,e)}else a(t);s.removeAllRanges(),s.addRange(i)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=Hu;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(bm);var Uu={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.getCaretNodeAndOffset=QS;function QS(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=ea;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Uu);var vm={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.getRange=GS;function GS(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=ta;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(vm);var ym={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.isCaretAtEndOfInput=XS;var Hf=Ve,YS=Uu,ZS=Fu;function XS(t){var e=(0,Hf.getDeepestNode)(t,!0);if(e===null)return!0;if((0,Hf.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,YS.getCaretNodeAndOffset)(),o=n[0],r=n[1];return o===null?!1:(0,ZS.checkContenteditableSliceForEmptiness)(t,o,r,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=Vu;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(ym);var xm={},zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.isCaretAtStartOfInput=t3;var ki=Ve,JS=ea,e3=Xs;function t3(t){var e=(0,ki.getDeepestNode)(t);if(e===null||(0,ki.isEmpty)(t))return!0;if((0,ki.isNativeInput)(e))return e.selectionEnd===0;if((0,ki.isEmpty)(t))return!0;var n=(0,JS.getCaretNodeAndOffset)(),o=n[0],r=n[1];return o===null?!1:(0,e3.checkContenteditableSliceForEmptiness)(t,o,r,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=zu;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(xm);var wm={},Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.save=r3;var n3=Ve,o3=ta;function r3(){var t=(0,o3.getRange)(),e=(0,n3.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=Wu;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(wm);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=Fu;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=mm;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var o=bm;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return o.focus}});var r=Uu;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return r.getCaretNodeAndOffset}});var i=vm;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return i.getRange}});var s=ym;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var a=xm;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var l=wm;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return l.save}})})($r);class st{static get CSS(){return{...gt,checklist:`${It}-checklist`,itemChecked:`${It}__checkbox--checked`,noHover:`${It}__checkbox--no-hover`,checkbox:`${It}__checkbox-check`,checkboxContainer:`${It}__checkbox`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?(n=Ve.make("ul",[st.CSS.wrapper,st.CSS.checklist]),n.addEventListener("click",o=>{const r=o.target;if(r){const i=r.closest(`.${st.CSS.checkboxContainer}`);i&&i.contains(r)&&this.toggleCheckbox(i)}})):n=Ve.make("ul",[st.CSS.checklist,st.CSS.itemChildren]),n}renderItem(e,n){const o=Ve.make("li",[st.CSS.item,st.CSS.item]),r=Ve.make("div",st.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),i=Ve.make("span",st.CSS.checkbox),s=Ve.make("div",st.CSS.checkboxContainer);return n.checked===!0&&s.classList.add(st.CSS.itemChecked),i.innerHTML=xC,s.appendChild(i),o.appendChild(s),o.appendChild(r),o}getItemContent(e){const n=e.querySelector(`.${st.CSS.itemContent}`);return!n||Ve.isEmpty(n)?"":n.innerHTML}getItemMeta(e){const n=e.querySelector(`.${st.CSS.checkboxContainer}`);return{checked:n?n.classList.contains(st.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(st.CSS.itemChecked),e.classList.add(st.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(st.CSS.noHover)}}function La(t,e="after"){const n=[];let o;function r(i){switch(e){case"after":return i.nextElementSibling;case"before":return i.previousElementSibling}}for(o=r(t);o!==null;)n.push(o),o=r(o);return n.length!==0?n:null}function Sn(t,e=!0){let n=t;return t.classList.contains(gt.item)&&(n=t.querySelector(`.${gt.itemChildren}`)),n===null?[]:e?Array.from(n.querySelectorAll(`:scope > .${gt.item}`)):Array.from(n.querySelectorAll(`.${gt.item}`))}function i3(t){return t.nextElementSibling===null}function s3(t){return t.querySelector(`.${gt.itemChildren}`)!==null}function Kn(t){return t.querySelector(`.${gt.itemChildren}`)}function Ra(t){let e=t;t.classList.contains(gt.item)&&(e=Kn(t)),e!==null&&Sn(e).length===0&&e.remove()}function Hi(t){return t.querySelector(`.${gt.itemContent}`)}function zo(t,e=!0){const n=Hi(t);n&&$r.focus(n,e)}class Na{get currentItem(){const e=window.getSelection();if(!e)return null;let n=e.anchorNode;return!n||(ho(n)||(n=n.parentNode),!n)||!ho(n)?null:n.closest(`.${gt.item}`)}get currentItemLevel(){const e=this.currentItem;if(e===null)return null;let n=e.parentNode,o=0;for(;n!==null&&n!==this.listWrapper;)ho(n)&&n.classList.contains(gt.item)&&(o+=1),n=n.parentNode;return o+1}constructor({data:e,config:n,api:o,readOnly:r,block:i},s){this.config=n,this.data=e,this.readOnly=r,this.api=o,this.block=i,this.renderer=s}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){const n=e??this.listWrapper,o=s=>Sn(s).map(a=>{const l=Kn(a),d=this.renderer.getItemContent(a),c=this.renderer.getItemMeta(a),u=l?o(l):[];return{content:d,meta:c,items:u}}),r=n?o(n):[];let i={style:this.data.style,meta:{},items:r};return this.data.style==="ordered"&&(i.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),i}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){const n=this.block.holder.querySelectorAll(`.${gt.item}`),o=n[n.length-1],r=Hi(o);if(o===null||r===null||(r.insertAdjacentHTML("beforeend",e.items[0].content),this.listWrapper===void 0))return;const i=Sn(this.listWrapper);if(i.length===0)return;const s=i[i.length-1];let a=Kn(s);const l=e.items.shift();l!==void 0&&(l.items.length!==0&&(a===null&&(a=this.renderer.renderWrapper(!1)),this.appendItems(l.items,a)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n);const o=this.listWrapper;o&&o.parentNode&&o.parentNode.replaceChild(this.render(),o)}pasteHandler(e){const{tagName:n}=e;let o="unordered",r;switch(n){case"OL":o="ordered",r="ol";break;case"UL":case"LI":o="unordered",r="ul"}const i={style:o,meta:{},items:[]};o==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const s=a=>Array.from(a.querySelectorAll(":scope > li")).map(l=>{const d=l.querySelector(`:scope > ${r}`),c=d?s(d):[];return{content:l.innerHTML??"",meta:{},items:c}});return i.items=s(e),i}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var n;const o=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||o===null)return;const r=((n=this.renderer)==null?void 0:n.getItemContent(o).trim().length)===0,i=o.parentNode===this.listWrapper,s=o.previousElementSibling===null,a=this.api.blocks.getCurrentBlockIndex();if(i&&r)if(i3(o)&&!s3(o)){s?this.convertItemToDefaultBlock(a,!0):this.convertItemToDefaultBlock();return}else{this.splitList(o);return}else if(r){this.unshiftItem(o);return}else this.splitItem(o)}backspace(e){var n;const o=this.currentItem;if(o!==null&&$r.isCaretAtStartOfInput(o)&&((n=window.getSelection())==null?void 0:n.isCollapsed)!==!1){if(e.stopPropagation(),o.parentNode===this.listWrapper&&o.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(o)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!ho(e.parentNode))return;const n=e.parentNode.closest(`.${gt.item}`);if(!n)return;let o=Kn(e);if(e.parentElement===null)return;const r=La(e);r!==null&&(o===null&&(o=this.renderer.renderWrapper(!1)),r.forEach(i=>{o.appendChild(i)}),e.appendChild(o)),n.after(e),zo(e,!1),Ra(n)}splitList(e){const n=Sn(e),o=this.block,r=this.api.blocks.getCurrentBlockIndex();if(n.length!==0){const l=n[0];this.unshiftItem(l),zo(e,!1)}if(e.previousElementSibling===null&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(r);return}const i=La(e);if(i===null)return;const s=this.renderer.renderWrapper(!0);i.forEach(l=>{s.appendChild(l)});const a=this.save(s);a.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(o==null?void 0:o.name,a,this.config,r+1),this.convertItemToDefaultBlock(r+1),s.remove()}splitItem(e){const[n,o]=$r.getCaretNodeAndOffset();if(n===null)return;const r=Hi(e);let i;r===null?i="":i=$r.getContenteditableSlice(r,n,o,"right",!0);const s=Kn(e),a=this.renderItem(i);e==null||e.after(a),s&&a.appendChild(s),zo(a)}mergeItemWithPrevious(e){const n=e.previousElementSibling,o=e.parentNode;if(o===null||!ho(o))return;const r=o.closest(`.${gt.item}`);if(!n&&!r||n&&!ho(n))return;let i;if(n){const u=Sn(n,!1);u.length!==0&&u.length!==0?i=u[u.length-1]:i=n}else i=r;const s=this.renderer.getItemContent(e);if(!i)return;zo(i,!1);const a=Hi(i);if(a===null)return;a.insertAdjacentHTML("beforeend",s);const l=Sn(e);if(l.length===0){e.remove(),Ra(i);return}const d=n||r,c=Kn(d)??this.renderer.renderWrapper(!1);n?l.forEach(u=>{c.appendChild(u)}):l.forEach(u=>{c.prepend(u)}),Kn(d)===null&&i.appendChild(c),e.remove()}addTab(e){var n;e.stopPropagation(),e.preventDefault();const o=this.currentItem;if(!o)return;if(((n=this.config)==null?void 0:n.maxLevel)!==void 0){const s=this.currentItemLevel;if(s!==null&&s===this.config.maxLevel)return}const r=o.previousSibling;if(r===null||!ho(r))return;const i=Kn(r);if(i)i.appendChild(o),Sn(o).forEach(s=>{i.appendChild(s)});else{const s=this.renderer.renderWrapper(!1);s.appendChild(o),Sn(o).forEach(a=>{s.appendChild(a)}),r.appendChild(s)}Ra(o),zo(o,!1)}convertItemToDefaultBlock(e,n){let o;const r=this.currentItem,i=r!==null?this.renderer.getItemContent(r):"";n===!0&&this.api.blocks.delete(),e!==void 0?o=this.api.blocks.insert(void 0,{text:i},void 0,e):o=this.api.blocks.insert(),r==null||r.remove(),this.api.caret.setToBlock(o,"start")}convertFirstItemToDefaultBlock(){const e=this.currentItem;if(e===null)return;const n=Sn(e);if(n.length!==0){const s=n[0];this.unshiftItem(s),zo(e)}const o=La(e),r=this.api.blocks.getCurrentBlockIndex(),i=o===null;this.convertItemToDefaultBlock(r,i)}renderItem(e,n){const o=n??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof ln:return this.renderer.renderItem(e,o);case this.renderer instanceof cn:return this.renderer.renderItem(e,o);default:return this.renderer.renderItem(e,o)}}appendItems(e,n){e.forEach(o=>{var r;const i=this.renderItem(o.content,o.meta);if(n.appendChild(i),o.items.length){const s=(r=this.renderer)==null?void 0:r.renderWrapper(!1);this.appendItems(o.items,s),i.appendChild(s)}})}}const Wo={wrapper:`${It}-start-with-field`,input:`${It}-start-with-field__input`,startWithElementWrapperInvalid:`${It}-start-with-field--invalid`};function a3(t,{value:e,placeholder:n,attributes:o,sanitize:r}){const i=Ve.make("div",Wo.wrapper),s=Ve.make("input",Wo.input,{placeholder:n,tabIndex:-1,value:e});for(const a in o)s.setAttribute(a,o[a]);return i.appendChild(s),s.addEventListener("input",()=>{r!==void 0&&(s.value=r(s.value));const a=s.checkValidity();!a&&!i.classList.contains(Wo.startWithElementWrapperInvalid)&&i.classList.add(Wo.startWithElementWrapperInvalid),a&&i.classList.contains(Wo.startWithElementWrapperInvalid)&&i.classList.remove(Wo.startWithElementWrapperInvalid),a&&t(s.value)}),i}const Sr=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),Uf=new Map([["numeric",wC],["lower-roman",kC],["upper-roman",EC],["lower-alpha",CC],["upper-alpha",_C]]);function l3(t){return t.replace(/\D+/g,"")}function c3(t){return typeof t.items[0]=="string"}function u3(t){return!("meta"in t)}function d3(t){return typeof t.items[0]!="string"&&"text"in t.items[0]&&"checked"in t.items[0]&&typeof t.items[0].text=="string"&&typeof t.items[0].checked=="boolean"}function f3(t){const e=[];return c3(t)?(t.items.forEach(n=>{e.push({content:n,meta:{},items:[]})}),{style:t.style,meta:{},items:e}):d3(t)?(t.items.forEach(n=>{e.push({content:n.text,meta:{checked:n.checked},items:[]})}),{style:"checklist",meta:{},items:e}):u3(t)?{style:t.style,meta:{},items:t.items}:t}class Zr{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:Df,title:"Unordered List",data:{style:"unordered"}},{icon:jf,title:"Ordered List",data:{style:"ordered"}},{icon:$f,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>Zr.joinRecursive(e),import:(e,n)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:(n==null?void 0:n.defaultStyle)!==void 0?n.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var n;this.data.style=e,this.changeTabulatorByStyle();const o=this.list.render();(n=this.listElement)==null||n.replaceWith(o),this.listElement=o}constructor({data:e,config:n,api:o,readOnly:r,block:i}){var s;this.api=o,this.readOnly=r,this.config=n,this.block=i,this.defaultListStyle=((s=this.config)==null?void 0:s.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(Sr.values());const a={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?f3(e):a,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(n=>`${n.content} ${Zr.joinRecursive(n)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){const e=[{label:this.api.i18n.t("Unordered"),icon:Df,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:jf,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:$f,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const n=a3(i=>this.changeStartWith(Number(i)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:i=>l3(i)}),o=[{label:this.api.i18n.t("Start with"),icon:SC,children:{items:[{element:n,type:"html"}]}}],r={label:this.api.i18n.t("Counter type"),icon:Uf.get(this.data.meta.counterType),children:{items:[]}};Sr.forEach((i,s)=>{const a=Sr.get(s);this.defaultCounterTypes.includes(a)&&r.children.items.push({title:this.api.i18n.t(s),icon:Uf.get(a),isActive:this.data.meta.counterType===Sr.get(s),closeOnActivate:!0,onActivate:()=>{this.changeCounters(Sr.get(s))}})}),r.children.items.length>1&&o.push(r),e.push({type:"separator"},...o)}return e}onPaste(e){const{tagName:n}=e.detail.data;switch(n){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var n;(n=this.list)==null||n.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var n;(n=this.list)==null||n.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new Na({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new ln(this.readOnly,this.config));break;case"unordered":this.list=new Na({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new cn(this.readOnly,this.config));break;case"checklist":this.list=new Na({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new st(this.readOnly,this.config));break}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function h3(t,e){let n="";for(;n!==`
`&&e>0;)e=e-1,n=t.substr(e,1);return n===`
`&&(e+=1),e}const p3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';/**
 * CodeTool for Editor.js
 * @version 2.0.0
 * @license MIT
 */class ps{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:n,api:o,readOnly:r}){this.api=o,this.readOnly=r,this.placeholder=this.api.i18n.t(n.placeholder||ps.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code??""},this.nodes.holder=this.drawView()}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){const n=e.detail;if("data"in n){const o=n.data;this.data={code:o||""}}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.value=e.code)}static get toolbox(){return{icon:p3,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){e.stopPropagation(),e.preventDefault();const n=e.target,o=e.shiftKey,r=n.selectionStart,i=n.value,s="  ";let a;if(!o)a=r+s.length,n.value=i.substring(0,r)+s+i.substring(r);else{const l=h3(i,r);if(i.substr(l,s.length)!==s)return;n.value=i.substring(0,l)+i.substring(l+s.length),a=r-s.length}n.setSelectionRange(a,a)}drawView(){const e=document.createElement("div"),n=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),n.classList.add(this.CSS.textarea,this.CSS.input),n.value=this.data.code,n.placeholder=this.placeholder,this.readOnly&&(n.disabled=!0),e.appendChild(n),n.addEventListener("keydown",o=>{switch(o.code){case"Tab":this.tabHandler(o);break}}),this.nodes.textarea=n,e}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const g3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';class xo{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,xo.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(xo.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){var n;this.api.selection.expandToTag(e);const o=window.getSelection();if(!o)return;const r=o.getRangeAt(0),i=r.extractContents();(n=e.parentNode)==null||n.removeChild(e),r.insertNode(i),o.removeAllRanges(),o.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,xo.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return g3}static get sanitize(){return{code:{class:xo.CSS}}}}const m3={__name:"EditorView",props:{id:Number},setup(t,{expose:e}){e();const n=t,o=Be(""),r=Be("");let i;rt(async()=>{const l=await mf(n.id),d=l.content!=null?l.content:!1;o.value=l.title,r.value=l.updated_at,i=new Rf({holder:"editor",data:d,autofocus:!0,hideToolbar:!0,placeholder:"What are you thinking? ☕",tools:{title:{class:Nf,shortcut:"CMD+SHIFT+T",inlineToolbar:!0},list:{class:Zr,inlineToolbar:!0,shortcut:"CMD+SHIFT+L",config:{defaultStyle:"unordered"}},code:{class:ps,config:{defaultLanguage:"plaintext"}},InlineCode:{class:xo,shortcut:"CMD+SHIFT+C"}},onChange:async()=>{setTimeout(async()=>{await s()},500)}})});async function s(){i.save().then(async l=>{const d=JSON.stringify(l),c=await vf(n.id,d);c.status==200&&(r.value=c.updated_at)}).catch(l=>{console.log("Saving failed: ",l)})}const a={props:n,fileName:o,lastUpdate:r,get editor(){return i},set editor(l){i=l},saveNote:s,onMounted:rt,ref:Be,get EditorJS(){return Rf},get Title(){return Nf},get EditorjsList(){return Zr},get CodeTool(){return ps},get InlineCode(){return xo},get ClockIcon(){return S2},get findNotesAction(){return mf},get updateNoteAction(){return vf}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},b3={class:"h-full relative w-full"},v3={class:"border-b pb-5 mb-5 border-slate-500"},y3={class:"flex align-baseline"},x3={class:"text-3xl"},w3={class:"underline text-blue-600"};function k3(t,e,n,o,r,i){return ce(),xe("div",b3,[$("div",v3,[$("div",y3,[$("h1",x3,Zt(o.fileName),1)]),$("p",null,[ge(o.ClockIcon,{class:"inline-block size-4"}),e[0]||(e[0]=bt()),$("small",w3,Zt(o.lastUpdate),1)])]),e[1]||(e[1]=$("div",{id:"editor",class:"m-10"},null,-1))])}const E3=it(m3,[["render",k3],["__file","/home/marcos/DEV/vue-notes-app/src/components/notes/EditorView.vue"]]),_3=new Proxy({},{get(t,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}});var _l=null;function C3(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return _3.randomBytes(t)}catch{}if(!_l)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return _l(t)}function S3(t){_l=t}function qu(t,e){if(t=t||Ku,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(gs(C3(Xr),Xr)),n.join("")}function km(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=Ku;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function o(r){Yt(function(){try{r(null,qu(t))}catch(i){r(i)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);o(n)}else return new Promise(function(r,i){o(function(s,a){if(s){i(s);return}r(a)})})}function Em(t,e){if(typeof e>"u"&&(e=Ku),typeof e=="number"&&(e=qu(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Cl(t,e)}function _m(t,e,n,o){function r(i){typeof t=="string"&&typeof e=="number"?km(e,function(s,a){Cl(t,a,i,o)}):typeof t=="string"&&typeof e=="string"?Cl(t,e,i,o):Yt(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(i,s){r(function(a,l){if(a){s(a);return}i(l)})})}function Cm(t,e){for(var n=t.length^e.length,o=0;o<t.length;++o)n|=t.charCodeAt(o)^e.charCodeAt(o);return n===0}function T3(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:Cm(Em(t,e.substring(0,e.length-31)),e)}function I3(t,e,n,o){function r(i){if(typeof t!="string"||typeof e!="string"){Yt(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Yt(i.bind(this,null,!1));return}_m(t,e.substring(0,29),function(s,a){s?i(s):i(null,Cm(a,e))},o)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(i,s){r(function(a,l){if(a){s(a);return}i(l)})})}function O3(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function A3(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function B3(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return Sm(t)>72}var Yt=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function Sm(t){for(var e=0,n=0,o=0;o<t.length;++o)n=t.charCodeAt(o),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,e+=4):e+=3;return e}function M3(t){for(var e=0,n,o,r=new Array(Sm(t)),i=0,s=t.length;i<s;++i)n=t.charCodeAt(i),n<128?r[e++]=n:n<2048?(r[e++]=n>>6|192,r[e++]=n&63|128):(n&64512)===55296&&((o=t.charCodeAt(i+1))&64512)===56320?(n=65536+((n&1023)<<10)+(o&1023),++i,r[e++]=n>>18|240,r[e++]=n>>12&63|128,r[e++]=n>>6&63|128,r[e++]=n&63|128):(r[e++]=n>>12|224,r[e++]=n>>6&63|128,r[e++]=n&63|128);return r}var qo="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),zn=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function gs(t,e){var n=0,o=[],r,i;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(r=t[n++]&255,o.push(qo[r>>2&63]),r=(r&3)<<4,n>=e){o.push(qo[r&63]);break}if(i=t[n++]&255,r|=i>>4&15,o.push(qo[r&63]),r=(i&15)<<2,n>=e){o.push(qo[r&63]);break}i=t[n++]&255,r|=i>>6&3,o.push(qo[r&63]),o.push(qo[i&63])}return o.join("")}function Tm(t,e){var n=0,o=t.length,r=0,i=[],s,a,l,d,c,u;if(e<=0)throw Error("Illegal len: "+e);for(;n<o-1&&r<e&&(u=t.charCodeAt(n++),s=u<zn.length?zn[u]:-1,u=t.charCodeAt(n++),a=u<zn.length?zn[u]:-1,!(s==-1||a==-1||(c=s<<2>>>0,c|=(a&48)>>4,i.push(String.fromCharCode(c)),++r>=e||n>=o)||(u=t.charCodeAt(n++),l=u<zn.length?zn[u]:-1,l==-1)||(c=(a&15)<<4>>>0,c|=(l&60)>>2,i.push(String.fromCharCode(c)),++r>=e||n>=o)));)u=t.charCodeAt(n++),d=u<zn.length?zn[u]:-1,c=(l&3)<<6>>>0,c|=d,i.push(String.fromCharCode(c)),++r;var p=[];for(n=0;n<r;n++)p.push(i[n].charCodeAt(0));return p}var Xr=16,Ku=10,P3=16,L3=100,Vf=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],zf=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Im=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Jr(t,e,n,o){var r,i=t[e],s=t[e+1];return i^=n[0],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[1],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[2],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[3],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[4],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[5],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[6],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[7],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[8],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[9],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[10],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[11],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[12],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[13],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[14],r=o[i>>>24],r+=o[256|i>>16&255],r^=o[512|i>>8&255],r+=o[768|i&255],s^=r^n[15],r=o[s>>>24],r+=o[256|s>>16&255],r^=o[512|s>>8&255],r+=o[768|s&255],i^=r^n[16],t[e]=s^n[P3+1],t[e+1]=i,t}function Xo(t,e){for(var n=0,o=0;n<4;++n)o=o<<8|t[e]&255,e=(e+1)%t.length;return{key:o,offp:e}}function Wf(t,e,n){for(var o=0,r=[0,0],i=e.length,s=n.length,a,l=0;l<i;l++)a=Xo(t,o),o=a.offp,e[l]=e[l]^a.key;for(l=0;l<i;l+=2)r=Jr(r,0,e,n),e[l]=r[0],e[l+1]=r[1];for(l=0;l<s;l+=2)r=Jr(r,0,e,n),n[l]=r[0],n[l+1]=r[1]}function R3(t,e,n,o){for(var r=0,i=[0,0],s=n.length,a=o.length,l,d=0;d<s;d++)l=Xo(e,r),r=l.offp,n[d]=n[d]^l.key;for(r=0,d=0;d<s;d+=2)l=Xo(t,r),r=l.offp,i[0]^=l.key,l=Xo(t,r),r=l.offp,i[1]^=l.key,i=Jr(i,0,n,o),n[d]=i[0],n[d+1]=i[1];for(d=0;d<a;d+=2)l=Xo(t,r),r=l.offp,i[0]^=l.key,l=Xo(t,r),r=l.offp,i[1]^=l.key,i=Jr(i,0,n,o),o[d]=i[0],o[d+1]=i[1]}function qf(t,e,n,o,r){var i=Im.slice(),s=i.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),o){Yt(o.bind(this,a));return}else throw a;if(e.length!==Xr)if(a=Error("Illegal salt length: "+e.length+" != "+Xr),o){Yt(o.bind(this,a));return}else throw a;n=1<<n>>>0;var l,d,c=0,u;typeof Int32Array=="function"?(l=new Int32Array(Vf),d=new Int32Array(zf)):(l=Vf.slice(),d=zf.slice()),R3(e,t,l,d);function p(){if(r&&r(c/n),c<n)for(var h=Date.now();c<n&&(c=c+1,Wf(t,l,d),Wf(e,l,d),!(Date.now()-h>L3)););else{for(c=0;c<64;c++)for(u=0;u<s>>1;u++)Jr(i,u<<1,l,d);var g=[];for(c=0;c<s;c++)g.push((i[c]>>24&255)>>>0),g.push((i[c]>>16&255)>>>0),g.push((i[c]>>8&255)>>>0),g.push((i[c]&255)>>>0);if(o){o(null,g);return}else return g}o&&Yt(p)}if(typeof o<"u")p();else for(var b;;)if(typeof(b=p())<"u")return b||[]}function Cl(t,e,n,o){var r;if(typeof t!="string"||typeof e!="string")if(r=Error("Invalid string / salt: Not a string"),n){Yt(n.bind(this,r));return}else throw r;var i,s;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(r=Error("Invalid salt version: "+e.substring(0,2)),n){Yt(n.bind(this,r));return}else throw r;if(e.charAt(2)==="$")i="\0",s=3;else{if(i=e.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||e.charAt(3)!=="$")if(r=Error("Invalid salt revision: "+e.substring(2,4)),n){Yt(n.bind(this,r));return}else throw r;s=4}if(e.charAt(s+2)>"$")if(r=Error("Missing salt rounds"),n){Yt(n.bind(this,r));return}else throw r;var a=parseInt(e.substring(s,s+1),10)*10,l=parseInt(e.substring(s+1,s+2),10),d=a+l,c=e.substring(s+3,s+25);t+=i>="a"?"\0":"";var u=M3(t),p=Tm(c,Xr);function b(h){var g=[];return g.push("$2"),i>="a"&&g.push(i),g.push("$"),d<10&&g.push("0"),g.push(d.toString()),g.push("$"),g.push(gs(p,p.length)),g.push(gs(h,Im.length*4-1)),g.join("")}if(typeof n>"u")return b(qf(u,p,d));qf(u,p,d,function(h,g){h?n(h,null):n(null,b(g))},o)}function N3(t,e){return gs(t,e)}function $3(t,e){return Tm(t,e)}const $a={setRandomFallback:S3,genSaltSync:qu,genSalt:km,hashSync:Em,hash:_m,compareSync:T3,compare:I3,getRounds:O3,getSalt:A3,truncates:B3,encodeBase64:N3,decodeBase64:$3};class so{constructor(){this.sql=Rs("postgresql://neondb_owner:npg_EsOW9R1whuGy@ep-raspy-tree-a8xdn8ec-pooler.eastus2.azure.neon.tech/neondb?sslmode=require")}async login(e,n,o){try{const r=await this.sql("select * from users where username = $1;",[e]);if(r.length==0||!await $a.compare(n,r[0].password))return De().showMessage("Username or Password incorrect","danger"),!1;De().showMessage(`Welcome back ${r[0].username} !!`,"success"),De().setUserLogin(r[0],o),ht.push("/")}catch(r){return console.log(`Error during login: ${r.message}`),{error:{message:"Error al obtener datos."}}}}async signUp(e,n){try{const o=await $a.genSalt(),r=await $a.hash(n,o);return await this.sql("insert into users (username,password) values ($1,$2);",[e,r])}catch(o){return console.log(`Error during signUp: ${o}`),{error:{message:"Error al guardar datos"}}}}async logout(){De().logOut(),ht.push("/login")}async deleteAccount(){await this.sql("delete from users_notes where user_id = $1;",[De().getUserLogin.id]),await this.sql("delete from users where id = $1;",[De().getUserLogin.id]),De().logOut(),ht.push("/login")}}const D3={__name:"ConfirmLogOutDialogComponent",props:{show:Boolean,name:String},setup(t,{expose:e,emit:n}){e();const o=new so,r=n,i=Be(null),s=t;rt(()=>{document.addEventListener("pointerdown",a)}),Ot(()=>{document.removeEventListener("pointerdown",a)});const a=u=>{i.value&&!i.value.contains(u.target)&&l()};function l(){r("hidde")}function d(){o.logout()}const c={auth:o,emit:r,menuWrapper:i,props:s,handleClickOutside:a,hidde:l,logoutAction:d,get CheckIcon(){return $s},get XCircleIcon(){return Ds},onMounted:rt,onUnmounted:Ot,ref:Be,Transition:ar,get Auth(){return so}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},j3={key:0,ref:"menuWrapper",class:"absolute min-w-1/5 left-1/2 top-10 transform -translate-x-1/2 translate-y-10 bg-slate-600 p-2 rounded-md"},F3={class:"flex flex-row justify-center"};function H3(t,e,n,o,r,i){return ce(),$t(ar,{appear:"",mode:"fade"},{default:zt(()=>[o.props.show?(ce(),xe("div",j3,[e[2]||(e[2]=$("h2",{class:"mb-2 font-semibold text-center"},"Are you sure to Logout?",-1)),$("div",F3,[$("button",{onClick:e[0]||(e[0]=s=>o.logoutAction())},[ge(o.CheckIcon,{class:"size-6 mr-4 hover:text-slate-400 transition-colors"})]),$("button",{onClick:e[1]||(e[1]=s=>o.hidde())},[ge(o.XCircleIcon,{class:"size-6 text-red-400 hover:text-red-600 transition-colors"})])])],512)):bn("",!0)]),_:1})}const U3=it(D3,[["render",H3],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/ConfirmLogOutDialogComponent.vue"]]),V3={__name:"ConfirmDeleteAccountDialogComponent",props:{show:Boolean,name:String},setup(t,{expose:e,emit:n}){e();const o=new so,r=n,i=Be(null),s=t,a=Be("");rt(()=>{document.addEventListener("pointerdown",l)}),Ot(()=>{document.removeEventListener("pointerdown",l)});const l=p=>{i.value&&!i.value.contains(p.target)&&d()};function d(){r("hidde")}function c(){if(!a.value.includes("DELETE MY ACCOUNT"))return De().showMessage('Please enter "DELETE MY ACCOUNT" to confirm',"error"),!1;o.deleteAccount()}const u={auth:o,emit:r,menuWrapperDelete:i,props:s,confirm:a,handleClickOutside:l,hidde:d,deleteAccount:c,onMounted:rt,onUnmounted:Ot,ref:Be,Transition:ar,get ExclamationTriangleIcon(){return Vp},get Auth(){return so},get globalState(){return De}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},z3={ref:"menuWrapperDelete",class:"absolute min-w-1/5 left-1/2 top-10 transform -translate-x-1/2 translate-y-10 bg-slate-600 p-5 rounded-md text-center"},W3={class:"flex flex-col justify-center my-4"},q3={class:"text-red-400"};function K3(t,e,n,o,r,i){return ce(),$t(ar,{appear:"",mode:"fade"},{default:zt(()=>[$("div",z3,[e[4]||(e[4]=$("h2",{class:"mb-4 font-semibold text-center"},"Are you sure to delete your account and all of your data? ",-1)),$("div",W3,[e[2]||(e[2]=$("label",{for:"confirm"},[bt("Please type "),$("span",{class:"text-white"},'"DELETE MY ACCOUNT"'),bt(" and press ENTER to confirm")],-1)),mn($("input",{onKeyup:e[0]||(e[0]=Ts(s=>o.deleteAccount(),["enter"])),name:"confirm",type:"text",class:"border-b w-1/2 m-auto border-slate-500 focus:outline-none","onUpdate:modelValue":e[1]||(e[1]=s=>o.confirm=s)},null,544),[[Ln,o.confirm]])]),$("small",q3,[ge(o.ExclamationTriangleIcon,{class:"size-4 inline-block"}),e[3]||(e[3]=bt(" This is an irreversible action. ")),ge(o.ExclamationTriangleIcon,{class:"size-4 inline-block"})])],512)]),_:1})}const Q3=it(V3,[["render",K3],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/ConfirmDeleteAccountDialogComponent.vue"]]),G3="/vue-notes-app/assets/settings-CfPEjaNB.png",Y3={__name:"SetupView",setup(t,{expose:e}){e();const n=Nt({showLogo:!0,showDialogLogOut:!1,showDialogDeleteAccount:!1,userName:De().getUserLogin.username});rt(async()=>{i()});function o(a){n.showDialogLogOut=a}function r(a){n.showDialogDeleteAccount=a}async function i(){setTimeout(()=>{n.showLogo=!1},0)}const s={localState:n,toggleDialogLogOut:o,toggleDialogDeleteAccount:r,showlogo:i,HeaderComponent:j0,ConfirmLogOutDialogComponent:U3,ConfirmDeleteAccountDialogComponent:Q3,get ArrowLeftEndOnRectangleIcon(){return C2},get ExclamationTriangleIcon(){return Vp},get UserCircleIcon(){return L2},onMounted:rt,reactive:Nt,get globalState(){return De}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},Z3={class:"p-10"},X3={class:"flex mb-5"},J3={class:"bg-slate-600 border border-slate-500 rounded-md max-w-fit px-3 py-1"},e4={class:"hover:text-sky-500 cursor-pointer"},t4={class:"border rounded border-red-600 max-w-fit mt-3 hover:bg-red-500 hover:text-white transition-colors"},n4={class:"border-r border-red-600 h-full px-1"};function o4(t,e,n,o,r,i){return ce(),xe(Ye,null,[o.localState.showDialogDeleteAccount?(ce(),$t(o.ConfirmDeleteAccountDialogComponent,{key:2,onHidde:e[0]||(e[0]=s=>o.toggleDialogDeleteAccount(!1)),show:o.localState.showDialogDeleteAccount},null,8,["show"])):bn("",!0),o.localState.showDialogLogOut?(ce(),$t(o.ConfirmLogOutDialogComponent,{key:1,onHidde:e[1]||(e[1]=s=>o.toggleDialogLogOut(!1)),show:o.localState.showDialogLogOut},null,8,["show"])):bn("",!0),ge(o.HeaderComponent,null,{default:zt(()=>e[4]||(e[4]=[bt("Settings")])),_:1}),$("div",{class:Rt(["absolute left-1/2 top-10 transform size-56 -translate-x-1/2 translate-y-1/2 opacity-10 duration-700 -z-10",{"opacity-55 duration-200 -rotate-x-12 transform -rotate-z-6":o.localState.showLogo}])},e[5]||(e[5]=[$("img",{src:G3,alt:""},null,-1)]),2),$("div",Z3,[$("div",null,[$("div",X3,[e[6]||(e[6]=$("h2",{class:"text-2xl mr-4"},"My account",-1)),$("div",J3,[$("h3",null,[ge(o.UserCircleIcon,{class:"inline-block size-5 mr-1"}),bt(" "+Zt(o.localState.userName),1)])])]),e[9]||(e[9]=$("div",{class:"w-2/5 my-4 h-0.5 bg-gradient-to-r from-slate-600 to-slate-900 rounded-full"},null,-1)),$("div",null,[$("button",{onClick:e[2]||(e[2]=s=>o.toggleDialogLogOut(!0))},[$("span",e4,[ge(o.ArrowLeftEndOnRectangleIcon,{class:"inline-block size-5 mr-1"}),e[7]||(e[7]=bt("Log Out "))])])]),$("div",t4,[$("button",{onClick:e[3]||(e[3]=s=>o.toggleDialogDeleteAccount(!0)),class:"cursor-pointer"},[$("span",n4,[ge(o.ExclamationTriangleIcon,{class:"inline-block size-5"})]),e[8]||(e[8]=$("small",{class:"px-2"}," Delete my account ",-1))])])])])],64)}const r4=it(Y3,[["render",o4],["__file","/home/marcos/DEV/vue-notes-app/src/components/SetupView.vue"]]),i4={},s4={class:""};function a4(t,e){return ce(),xe("div",s4,e[0]||(e[0]=[$("img",{src:zp,alt:""},null,-1)]))}const Om=it(i4,[["render",a4],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/LogoViewComponent.vue"]]),l4={__name:"LoginView",setup(t,{expose:e}){e();const n=new so,o=Be(""),r=Be(""),i=Be(!0);async function s(){await n.login(o.value,r.value,i.value)}const a={auth:n,username:o,password:r,remember:i,login:s,ref:Be,get RouterLink(){return Ql},get Auth(){return so},LogoViewComponent:Om};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},c4={class:"absolute align-middle"},u4={class:"absolute top-0 right-0 m-4"},d4={class:"min-h-screen flex flex-col items-center justify-center bg-gray-900"},f4={class:"w-full max-w-md p-12 bg-gray-800 rounded-lg shadow-lg"},h4={class:"rounded-md shadow-sm"},p4={class:"mt-6"},g4={class:"flex items-center justify-between"},m4={class:"flex items-center"},b4=["checked"];function v4(t,e,n,o,r,i){return ce(),xe(Ye,null,[$("div",c4,[ge(o.LogoViewComponent,{class:"opacity-50 m-5 size-15 inline-block"})]),$("div",u4,[ge(o.RouterLink,{to:"/signup",class:"group relative m-5 flex justify-center py-2 px-4 text-sm font-medium rounded-md text-white hover:text-cyan-400 focus:outline-none hover:ring-2 hover:ring-blue-400 transition-colors"},{default:zt(()=>e[3]||(e[3]=[bt(" Sign Up ")])),_:1})]),$("div",d4,[$("div",f4,[e[9]||(e[9]=$("h1",{class:"text-3xl font-bold text-center text-white"},"Login",-1)),$("form",{onSubmit:kp(o.login,["prevent"]),class:"mt-8 space-y-6"},[$("div",h4,[$("div",null,[e[4]||(e[4]=$("label",{for:"username",class:"sr-only"},"Username",-1)),mn($("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.username=s),id:"username",type:"text",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-400 text-white rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username account"},null,512),[[Ln,o.username]])]),$("div",p4,[e[5]||(e[5]=$("label",{for:"password",class:"sr-only"},"Password",-1)),mn($("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s),id:"password",type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-400 text-white rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[Ln,o.password]])])]),$("div",g4,[$("div",m4,[mn($("input",{id:"remember-me","onUpdate:modelValue":e[2]||(e[2]=s=>o.remember=s),type:"checkbox",checked:o.remember,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded"},null,8,b4),[[$1,o.remember]]),e[6]||(e[6]=$("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-400"}," Remember me ",-1))]),e[7]||(e[7]=$("div",{class:"text-sm"},[$("a",{href:"#",class:"font-medium text-indigo-400 hover:text-indigo-300"}," Forgot your password? ")],-1))]),e[8]||(e[8]=$("div",null,[$("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 my-2 cursor-pointer"},[$("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[$("svg",{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[$("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])]),bt(" Login ")])],-1))],32)])])],64)}const y4=it(l4,[["render",v4],["__file","/home/marcos/DEV/vue-notes-app/src/auth/LoginView.vue"]]),x4={__name:"SignUpView",setup(t,{expose:e}){e();const n=of(),o=Nt({password:{error:!1,message:""}}),r=new so,i=Be(""),s=Be(""),a=Be(""),l=async u=>{if(s.value!=a.value)return o.password.error=!0,o.password.message="⚠️ Passwords does not match",!1;(await r.signUp(i.value,s.value)).error&&De().showMessage("Error creating user","error"),De().showMessage("Account created successfully","create"),n.push("/login")};function d(){n.push("/login")}const c={router:n,data:o,auth:r,username:i,password:s,confirmPassword:a,onSubmit:l,back:d,ref:Be,reactive:Nt,get useRouter(){return of},get Auth(){return so},get globalState(){return De},get ArrowLeftCircleIcon(){return _2},LogoViewComponent:Om};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},w4={class:"absolute align-middle"},k4={class:"absolute top-0 right-0 m-4"},E4={class:"min-h-screen flex flex-col items-center justify-center bg-gray-900"},_4={class:"w-full max-w-md p-12 bg-gray-800 rounded-lg shadow-lg"},C4={class:"rounded-md shadow-sm"},S4={class:"mt-6"},T4={class:"mt-6"},I4={key:0,class:"text-red-600"};function O4(t,e,n,o,r,i){const s=rv("RouterLink");return ce(),xe(Ye,null,[$("div",w4,[ge(o.LogoViewComponent,{class:"opacity-50 m-5 size-15 inline-block"})]),$("div",k4,[ge(s,{to:"/login",class:"group relative m-5 flex justify-center py-2 px-4 text-sm font-medium rounded-md text-white hover:text-cyan-400 focus:outline-none hover:ring-2 hover:ring-blue-400 transition-colors"},{default:zt(()=>e[3]||(e[3]=[bt(" Log in ")])),_:1})]),$("div",E4,[$("div",_4,[e[8]||(e[8]=$("div",{class:""},[$("h1",{class:"text-3xl text-center font-bold text-white"},"Sign Up")],-1)),$("form",{onSubmit:kp(o.onSubmit,["prevent"]),class:"mt-8 space-y-6"},[$("div",C4,[$("div",null,[e[4]||(e[4]=$("label",{for:"username",class:"sr-only"},"Username",-1)),mn($("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.username=a),id:"username",type:"text",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-400 text-white rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Document"},null,512),[[Ln,o.username]])]),$("div",S4,[e[5]||(e[5]=$("label",{for:"password",class:"sr-only"},"Password",-1)),mn($("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a),id:"password",type:"password",required:"",class:Rt(["appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-400 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",{"border-red-600":o.data.password.error}]),placeholder:"Password"},null,2),[[Ln,o.password]])]),$("div",T4,[e[6]||(e[6]=$("label",{for:"confirm-password",class:"sr-only"},"Confirm Password",-1)),mn($("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o.confirmPassword=a),id:"confirm-password",type:"password",required:"",class:Rt(["appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-400 text-white rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",{"border-red-600":o.data.password.error}]),placeholder:"Confirm Password"},null,2),[[Ln,o.confirmPassword]]),o.data.password.error?(ce(),xe("small",I4,Zt(o.data.password.message),1)):bn("",!0)])]),e[7]||(e[7]=$("div",null,[$("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 cursor-pointer border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[$("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[$("svg",{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[$("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])]),bt(" Confirm ")])],-1))],32)])])],64)}const A4=it(x4,[["render",O4],["__file","/home/marcos/DEV/vue-notes-app/src/auth/SignUpView.vue"]]),B4={},M4={class:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white"};function P4(t,e){return ce(),xe("div",M4,e[0]||(e[0]=[$("h1",{class:"text-5xl font-bold mb-4"},"404 - Page Not Found",-1),$("p",{class:"text-lg"},"We apologize for the inconvenience. The site is currently undergoing maintenance.",-1)]))}const L4=it(B4,[["render",P4],["__file","/home/marcos/DEV/vue-notes-app/src/components/shared/ErrorComponent.vue"]]),R4=[{path:"/login",name:"Login",component:y4,meta:{requiresAuth:!1}},{path:"/signup",name:"Signup",component:A4,meta:{requiresAuth:!1}},{path:"/",name:"notes",component:Ek,meta:{requiresAuth:!0}},{path:"/editor/:id",name:"editor",component:E3,props:!0,meta:{requiresAuth:!0}},{path:"/setup",name:"setup",component:r4,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:Ix},{path:"/404",name:"404",component:L4},{path:"/:catchAll(.*)",redirect:"/"}],ht=v2({history:Ay(),routes:R4});ht.beforeEach(async(t,e)=>{if(t.meta.requiresAuth&&!De().getUserLogin)return{name:"Login"}});const N4=ax();z1(Cx).use(ht).use(N4).mount("#app");
